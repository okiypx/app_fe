if ("undefined" == typeof jQuery) throw new Error("Bootstrap's JavaScript requires jQuery"); + function(a) {
    "use strict";
    var b = a.fn.jquery.split(" ")[0].split(".");
    if (b[0] < 2 && b[1] < 9 || 1 == b[0] && 9 == b[1] && b[2] < 1 || b[0] > 2) throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 3")
}(jQuery), + function(a) {
    "use strict";

    function b() {
        var a = document.createElement("bootstrap"),
            b = {
                WebkitTransition: "webkitTransitionEnd",
                MozTransition: "transitionend",
                OTransition: "oTransitionEnd otransitionend",
                transition: "transitionend"
            };
        for (var c in b)
            if (void 0 !== a.style[c]) return {
                end: b[c]
            };
        return !1
    }
    a.fn.emulateTransitionEnd = function(b) {
        var c = !1,
            d = this;
        a(this).one("bsTransitionEnd", function() {
            c = !0
        });
        var e = function() {
            c || a(d).trigger(a.support.transition.end)
        };
        return setTimeout(e, b), this
    }, a(function() {
        a.support.transition = b(), a.support.transition && (a.event.special.bsTransitionEnd = {
            bindType: a.support.transition.end,
            delegateType: a.support.transition.end,
            handle: function(b) {
                return a(b.target).is(this) ? b.handleObj.handler.apply(this, arguments) : void 0
            }
        })
    })
}(jQuery), + function(a) {
    "use strict";

    function b(b) {
        return this.each(function() {
            var c = a(this),
                e = c.data("bs.alert");
            e || c.data("bs.alert", e = new d(this)), "string" == typeof b && e[b].call(c)
        })
    }
    var c = '[data-dismiss="alert"]',
        d = function(b) {
            a(b).on("click", c, this.close)
        };
    d.VERSION = "3.3.5", d.TRANSITION_DURATION = 150, d.prototype.close = function(b) {
        function c() {
            g.detach().trigger("closed.bs.alert").remove()
        }
        var e = a(this),
            f = e.attr("data-target");
        f || (f = e.attr("href"), f = f && f.replace(/.*(?=#[^\s]*$)/, ""));
        var g = a(f);
        b && b.preventDefault(), g.length || (g = e.closest(".alert")), g.trigger(b = a.Event("close.bs.alert")), b.isDefaultPrevented() || (g.removeClass("in"), a.support.transition && g.hasClass("fade") ? g.one("bsTransitionEnd", c).emulateTransitionEnd(d.TRANSITION_DURATION) : c())
    };
    var e = a.fn.alert;
    a.fn.alert = b, a.fn.alert.Constructor = d, a.fn.alert.noConflict = function() {
        return a.fn.alert = e, this
    }, a(document).on("click.bs.alert.data-api", c, d.prototype.close)
}(jQuery), + function(a) {
    "use strict";

    function b(b) {
        return this.each(function() {
            var d = a(this),
                e = d.data("bs.button"),
                f = "object" == typeof b && b;
            e || d.data("bs.button", e = new c(this, f)), "toggle" == b ? e.toggle() : b && e.setState(b)
        })
    }
    var c = function(b, d) {
        this.$element = a(b), this.options = a.extend({}, c.DEFAULTS, d), this.isLoading = !1
    };
    c.VERSION = "3.3.5", c.DEFAULTS = {
        loadingText: "loading..."
    }, c.prototype.setState = function(b) {
        var c = "disabled",
            d = this.$element,
            e = d.is("input") ? "val" : "html",
            f = d.data();
        b += "Text", null == f.resetText && d.data("resetText", d[e]()), setTimeout(a.proxy(function() {
            d[e](null == f[b] ? this.options[b] : f[b]), "loadingText" == b ? (this.isLoading = !0, d.addClass(c).attr(c, c)) : this.isLoading && (this.isLoading = !1, d.removeClass(c).removeAttr(c))
        }, this), 0)
    }, c.prototype.toggle = function() {
        var a = !0,
            b = this.$element.closest('[data-toggle="buttons"]');
        if (b.length) {
            var c = this.$element.find("input");
            "radio" == c.prop("type") ? (c.prop("checked") && (a = !1), b.find(".active").removeClass("active"), this.$element.addClass("active")) : "checkbox" == c.prop("type") && (c.prop("checked") !== this.$element.hasClass("active") && (a = !1), this.$element.toggleClass("active")), c.prop("checked", this.$element.hasClass("active")), a && c.trigger("change")
        } else this.$element.attr("aria-pressed", !this.$element.hasClass("active")), this.$element.toggleClass("active")
    };
    var d = a.fn.button;
    a.fn.button = b, a.fn.button.Constructor = c, a.fn.button.noConflict = function() {
        return a.fn.button = d, this
    }, a(document).on("click.bs.button.data-api", '[data-toggle^="button"]', function(c) {
        var d = a(c.target);
        d.hasClass("btn") || (d = d.closest(".btn")), b.call(d, "toggle"), a(c.target).is('input[type="radio"]') || a(c.target).is('input[type="checkbox"]') || c.preventDefault()
    }).on("focus.bs.button.data-api blur.bs.button.data-api", '[data-toggle^="button"]', function(b) {
        a(b.target).closest(".btn").toggleClass("focus", /^focus(in)?$/.test(b.type))
    })
}(jQuery), + function(a) {
    "use strict";

    function b(b) {
        return this.each(function() {
            var d = a(this),
                e = d.data("bs.carousel"),
                f = a.extend({}, c.DEFAULTS, d.data(), "object" == typeof b && b),
                g = "string" == typeof b ? b : f.slide;
            e || d.data("bs.carousel", e = new c(this, f)), "number" == typeof b ? e.to(b) : g ? e[g]() : f.interval && e.pause().cycle()
        })
    }
    var c = function(b, c) {
        this.$element = a(b), this.$indicators = this.$element.find(".carousel-indicators"), this.options = c, this.paused = null, this.sliding = null, this.interval = null, this.$active = null, this.$items = null, this.options.keyboard && this.$element.on("keydown.bs.carousel", a.proxy(this.keydown, this)), "hover" == this.options.pause && !("ontouchstart" in document.documentElement) && this.$element.on("mouseenter.bs.carousel", a.proxy(this.pause, this)).on("mouseleave.bs.carousel", a.proxy(this.cycle, this))
    };
    c.VERSION = "3.3.5", c.TRANSITION_DURATION = 600, c.DEFAULTS = {
        interval: 5e3,
        pause: "hover",
        wrap: !0,
        keyboard: !0
    }, c.prototype.keydown = function(a) {
        if (!/input|textarea/i.test(a.target.tagName)) {
            switch (a.which) {
                case 37:
                    this.prev();
                    break;
                case 39:
                    this.next();
                    break;
                default:
                    return
            }
            a.preventDefault()
        }
    }, c.prototype.cycle = function(b) {
        return b || (this.paused = !1), this.interval && clearInterval(this.interval), this.options.interval && !this.paused && (this.interval = setInterval(a.proxy(this.next, this), this.options.interval)), this
    }, c.prototype.getItemIndex = function(a) {
        return this.$items = a.parent().children(".item"), this.$items.index(a || this.$active)
    }, c.prototype.getItemForDirection = function(a, b) {
        var c = this.getItemIndex(b),
            d = "prev" == a && 0 === c || "next" == a && c == this.$items.length - 1;
        if (d && !this.options.wrap) return b;
        var e = "prev" == a ? -1 : 1,
            f = (c + e) % this.$items.length;
        return this.$items.eq(f)
    }, c.prototype.to = function(a) {
        var b = this,
            c = this.getItemIndex(this.$active = this.$element.find(".item.active"));
        return a > this.$items.length - 1 || 0 > a ? void 0 : this.sliding ? this.$element.one("slid.bs.carousel", function() {
            b.to(a)
        }) : c == a ? this.pause().cycle() : this.slide(a > c ? "next" : "prev", this.$items.eq(a))
    }, c.prototype.pause = function(b) {
        return b || (this.paused = !0), this.$element.find(".next, .prev").length && a.support.transition && (this.$element.trigger(a.support.transition.end), this.cycle(!0)), this.interval = clearInterval(this.interval), this
    }, c.prototype.next = function() {
        return this.sliding ? void 0 : this.slide("next")
    }, c.prototype.prev = function() {
        return this.sliding ? void 0 : this.slide("prev")
    }, c.prototype.slide = function(b, d) {
        var e = this.$element.find(".item.active"),
            f = d || this.getItemForDirection(b, e),
            g = this.interval,
            h = "next" == b ? "left" : "right",
            i = this;
        if (f.hasClass("active")) return this.sliding = !1;
        var j = f[0],
            k = a.Event("slide.bs.carousel", {
                relatedTarget: j,
                direction: h
            });
        if (this.$element.trigger(k), !k.isDefaultPrevented()) {
            if (this.sliding = !0, g && this.pause(), this.$indicators.length) {
                this.$indicators.find(".active").removeClass("active");
                var l = a(this.$indicators.children()[this.getItemIndex(f)]);
                l && l.addClass("active")
            }
            var m = a.Event("slid.bs.carousel", {
                relatedTarget: j,
                direction: h
            });
            return a.support.transition && this.$element.hasClass("slide") ? (f.addClass(b), f[0].offsetWidth, e.addClass(h), f.addClass(h), e.one("bsTransitionEnd", function() {
                f.removeClass([b, h].join(" ")).addClass("active"), e.removeClass(["active", h].join(" ")), i.sliding = !1, setTimeout(function() {
                    i.$element.trigger(m)
                }, 0)
            }).emulateTransitionEnd(c.TRANSITION_DURATION)) : (e.removeClass("active"), f.addClass("active"), this.sliding = !1, this.$element.trigger(m)), g && this.cycle(), this
        }
    };
    var d = a.fn.carousel;
    a.fn.carousel = b, a.fn.carousel.Constructor = c, a.fn.carousel.noConflict = function() {
        return a.fn.carousel = d, this
    };
    var e = function(c) {
        var d, e = a(this),
            f = a(e.attr("data-target") || (d = e.attr("href")) && d.replace(/.*(?=#[^\s]+$)/, ""));
        if (f.hasClass("carousel")) {
            var g = a.extend({}, f.data(), e.data()),
                h = e.attr("data-slide-to");
            h && (g.interval = !1), b.call(f, g), h && f.data("bs.carousel").to(h), c.preventDefault()
        }
    };
    a(document).on("click.bs.carousel.data-api", "[data-slide]", e).on("click.bs.carousel.data-api", "[data-slide-to]", e), a(window).on("load", function() {
        a('[data-ride="carousel"]').each(function() {
            var c = a(this);
            b.call(c, c.data())
        })
    })
}(jQuery), + function(a) {
    "use strict";

    function b(b) {
        var c, d = b.attr("data-target") || (c = b.attr("href")) && c.replace(/.*(?=#[^\s]+$)/, "");
        return a(d)
    }

    function c(b) {
        return this.each(function() {
            var c = a(this),
                e = c.data("bs.collapse"),
                f = a.extend({}, d.DEFAULTS, c.data(), "object" == typeof b && b);
            !e && f.toggle && /show|hide/.test(b) && (f.toggle = !1), e || c.data("bs.collapse", e = new d(this, f)), "string" == typeof b && e[b]()
        })
    }
    var d = function(b, c) {
        this.$element = a(b), this.options = a.extend({}, d.DEFAULTS, c), this.$trigger = a('[data-toggle="collapse"][href="#' + b.id + '"],[data-toggle="collapse"][data-target="#' + b.id + '"]'), this.transitioning = null, this.options.parent ? this.$parent = this.getParent() : this.addAriaAndCollapsedClass(this.$element, this.$trigger), this.options.toggle && this.toggle()
    };
    d.VERSION = "3.3.5", d.TRANSITION_DURATION = 350, d.DEFAULTS = {
        toggle: !0
    }, d.prototype.dimension = function() {
        var a = this.$element.hasClass("width");
        return a ? "width" : "height"
    }, d.prototype.show = function() {
        if (!this.transitioning && !this.$element.hasClass("in")) {
            var b, e = this.$parent && this.$parent.children(".panel").children(".in, .collapsing");
            if (!(e && e.length && (b = e.data("bs.collapse"), b && b.transitioning))) {
                var f = a.Event("show.bs.collapse");
                if (this.$element.trigger(f), !f.isDefaultPrevented()) {
                    e && e.length && (c.call(e, "hide"), b || e.data("bs.collapse", null));
                    var g = this.dimension();
                    this.$element.removeClass("collapse").addClass("collapsing")[g](0).attr("aria-expanded", !0), this.$trigger.removeClass("collapsed").attr("aria-expanded", !0), this.transitioning = 1;
                    var h = function() {
                        this.$element.removeClass("collapsing").addClass("collapse in")[g](""), this.transitioning = 0, this.$element.trigger("shown.bs.collapse")
                    };
                    if (!a.support.transition) return h.call(this);
                    var i = a.camelCase(["scroll", g].join("-"));
                    this.$element.one("bsTransitionEnd", a.proxy(h, this)).emulateTransitionEnd(d.TRANSITION_DURATION)[g](this.$element[0][i])
                }
            }
        }
    }, d.prototype.hide = function() {
        if (!this.transitioning && this.$element.hasClass("in")) {
            var b = a.Event("hide.bs.collapse");
            if (this.$element.trigger(b), !b.isDefaultPrevented()) {
                var c = this.dimension();
                this.$element[c](this.$element[c]())[0].offsetHeight, this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded", !1), this.$trigger.addClass("collapsed").attr("aria-expanded", !1), this.transitioning = 1;
                var e = function() {
                    this.transitioning = 0, this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")
                };
                return a.support.transition ? void this.$element[c](0).one("bsTransitionEnd", a.proxy(e, this)).emulateTransitionEnd(d.TRANSITION_DURATION) : e.call(this)
            }
        }
    }, d.prototype.toggle = function() {
        this[this.$element.hasClass("in") ? "hide" : "show"]()
    }, d.prototype.getParent = function() {
        return a(this.options.parent).find('[data-toggle="collapse"][data-parent="' + this.options.parent + '"]').each(a.proxy(function(c, d) {
            var e = a(d);
            this.addAriaAndCollapsedClass(b(e), e)
        }, this)).end()
    }, d.prototype.addAriaAndCollapsedClass = function(a, b) {
        var c = a.hasClass("in");
        a.attr("aria-expanded", c), b.toggleClass("collapsed", !c).attr("aria-expanded", c)
    };
    var e = a.fn.collapse;
    a.fn.collapse = c, a.fn.collapse.Constructor = d, a.fn.collapse.noConflict = function() {
        return a.fn.collapse = e, this
    }, a(document).on("click.bs.collapse.data-api", '[data-toggle="collapse"]', function(d) {
        var e = a(this);
        e.attr("data-target") || d.preventDefault();
        var f = b(e),
            g = f.data("bs.collapse"),
            h = g ? "toggle" : e.data();
        c.call(f, h)
    })
}(jQuery), + function(a) {
    "use strict";

    function b(b) {
        var c = b.attr("data-target");
        c || (c = b.attr("href"), c = c && /#[A-Za-z]/.test(c) && c.replace(/.*(?=#[^\s]*$)/, ""));
        var d = c && a(c);
        return d && d.length ? d : b.parent()
    }

    function c(c) {
        c && 3 === c.which || (a(e).remove(), a(f).each(function() {
            var d = a(this),
                e = b(d),
                f = {
                    relatedTarget: this
                };
            e.hasClass("open") && (c && "click" == c.type && /input|textarea/i.test(c.target.tagName) && a.contains(e[0], c.target) || (e.trigger(c = a.Event("hide.bs.dropdown", f)), c.isDefaultPrevented() || (d.attr("aria-expanded", "false"), e.removeClass("open").trigger(a.Event("hidden.bs.dropdown", f)))))
        }))
    }

    function d(b) {
        return this.each(function() {
            var c = a(this),
                d = c.data("bs.dropdown");
            d || c.data("bs.dropdown", d = new g(this)), "string" == typeof b && d[b].call(c)
        })
    }
    var e = ".dropdown-backdrop",
        f = '[data-toggle="dropdown"]',
        g = function(b) {
            a(b).on("click.bs.dropdown", this.toggle)
        };
    g.VERSION = "3.3.5", g.prototype.toggle = function(d) {
        var e = a(this);
        if (!e.is(".disabled, :disabled")) {
            var f = b(e),
                g = f.hasClass("open");
            if (c(), !g) {
                "ontouchstart" in document.documentElement && !f.closest(".navbar-nav").length && a(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(a(this)).on("click", c);
                var h = {
                    relatedTarget: this
                };
                if (f.trigger(d = a.Event("show.bs.dropdown", h)), d.isDefaultPrevented()) return;
                e.trigger("focus").attr("aria-expanded", "true"), f.toggleClass("open").trigger(a.Event("shown.bs.dropdown", h))
            }
            return !1
        }
    }, g.prototype.keydown = function(c) {
        if (/(38|40|27|32)/.test(c.which) && !/input|textarea/i.test(c.target.tagName)) {
            var d = a(this);
            if (c.preventDefault(), c.stopPropagation(), !d.is(".disabled, :disabled")) {
                var e = b(d),
                    g = e.hasClass("open");
                if (!g && 27 != c.which || g && 27 == c.which) return 27 == c.which && e.find(f).trigger("focus"), d.trigger("click");
                var h = " li:not(.disabled):visible a",
                    i = e.find(".dropdown-menu" + h);
                if (i.length) {
                    var j = i.index(c.target);
                    38 == c.which && j > 0 && j--, 40 == c.which && j < i.length - 1 && j++, ~j || (j = 0), i.eq(j).trigger("focus")
                }
            }
        }
    };
    var h = a.fn.dropdown;
    a.fn.dropdown = d, a.fn.dropdown.Constructor = g, a.fn.dropdown.noConflict = function() {
        return a.fn.dropdown = h, this
    }, a(document).on("click.bs.dropdown.data-api", c).on("click.bs.dropdown.data-api", ".dropdown form", function(a) {
        a.stopPropagation()
    }).on("click.bs.dropdown.data-api", f, g.prototype.toggle).on("keydown.bs.dropdown.data-api", f, g.prototype.keydown).on("keydown.bs.dropdown.data-api", ".dropdown-menu", g.prototype.keydown)
}(jQuery), + function(a) {
    "use strict";

    function b(b, d) {
        return this.each(function() {
            var e = a(this),
                f = e.data("bs.modal"),
                g = a.extend({}, c.DEFAULTS, e.data(), "object" == typeof b && b);
            f || e.data("bs.modal", f = new c(this, g)), "string" == typeof b ? f[b](d) : g.show && f.show(d)
        })
    }
    var c = function(b, c) {
        this.options = c, this.$body = a(document.body), this.$element = a(b), this.$dialog = this.$element.find(".modal-dialog"), this.$backdrop = null, this.isShown = null, this.originalBodyPad = null, this.scrollbarWidth = 0, this.ignoreBackdropClick = !1, this.options.remote && this.$element.find(".modal-content").load(this.options.remote, a.proxy(function() {
            this.$element.trigger("loaded.bs.modal")
        }, this))
    };
    c.VERSION = "3.3.5", c.TRANSITION_DURATION = 300, c.BACKDROP_TRANSITION_DURATION = 150, c.DEFAULTS = {
        backdrop: !0,
        keyboard: !0,
        show: !0
    }, c.prototype.toggle = function(a) {
        return this.isShown ? this.hide() : this.show(a)
    }, c.prototype.show = function(b) {
        var d = this,
            e = a.Event("show.bs.modal", {
                relatedTarget: b
            });
        this.$element.trigger(e), this.isShown || e.isDefaultPrevented() || (this.isShown = !0, this.checkScrollbar(), this.setScrollbar(), this.$body.addClass("modal-open"), this.escape(), this.resize(), this.$element.on("click.dismiss.bs.modal", '[data-dismiss="modal"]', a.proxy(this.hide, this)), this.$dialog.on("mousedown.dismiss.bs.modal", function() {
            d.$element.one("mouseup.dismiss.bs.modal", function(b) {
                a(b.target).is(d.$element) && (d.ignoreBackdropClick = !0)
            })
        }), this.backdrop(function() {
            var e = a.support.transition && d.$element.hasClass("fade");
            d.$element.parent().length || d.$element.appendTo(d.$body), d.$element.show().scrollTop(0), d.adjustDialog(), e && d.$element[0].offsetWidth, d.$element.addClass("in"), d.enforceFocus();
            var f = a.Event("shown.bs.modal", {
                relatedTarget: b
            });
            e ? d.$dialog.one("bsTransitionEnd", function() {
                d.$element.trigger("focus").trigger(f)
            }).emulateTransitionEnd(c.TRANSITION_DURATION) : d.$element.trigger("focus").trigger(f)
        }))
    }, c.prototype.hide = function(b) {
        b && b.preventDefault(), b = a.Event("hide.bs.modal"), this.$element.trigger(b), this.isShown && !b.isDefaultPrevented() && (this.isShown = !1, this.escape(), this.resize(), a(document).off("focusin.bs.modal"), this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"), this.$dialog.off("mousedown.dismiss.bs.modal"), a.support.transition && this.$element.hasClass("fade") ? this.$element.one("bsTransitionEnd", a.proxy(this.hideModal, this)).emulateTransitionEnd(c.TRANSITION_DURATION) : this.hideModal())
    }, c.prototype.enforceFocus = function() {
        a(document).off("focusin.bs.modal").on("focusin.bs.modal", a.proxy(function(a) {
            this.$element[0] === a.target || this.$element.has(a.target).length || this.$element.trigger("focus")
        }, this))
    }, c.prototype.escape = function() {
        this.isShown && this.options.keyboard ? this.$element.on("keydown.dismiss.bs.modal", a.proxy(function(a) {
            27 == a.which && this.hide()
        }, this)) : this.isShown || this.$element.off("keydown.dismiss.bs.modal")
    }, c.prototype.resize = function() {
        this.isShown ? a(window).on("resize.bs.modal", a.proxy(this.handleUpdate, this)) : a(window).off("resize.bs.modal")
    }, c.prototype.hideModal = function() {
        var a = this;
        this.$element.hide(), this.backdrop(function() {
            a.$body.removeClass("modal-open"), a.resetAdjustments(), a.resetScrollbar(), a.$element.trigger("hidden.bs.modal")
        })
    }, c.prototype.removeBackdrop = function() {
        this.$backdrop && this.$backdrop.remove(), this.$backdrop = null
    }, c.prototype.backdrop = function(b) {
        var d = this,
            e = this.$element.hasClass("fade") ? "fade" : "";
        if (this.isShown && this.options.backdrop) {
            var f = a.support.transition && e;
            if (this.$backdrop = a(document.createElement("div")).addClass("modal-backdrop " + e).appendTo(this.$body), this.$element.on("click.dismiss.bs.modal", a.proxy(function(a) {
                    return this.ignoreBackdropClick ? void(this.ignoreBackdropClick = !1) : void(a.target === a.currentTarget && ("static" == this.options.backdrop ? this.$element[0].focus() : this.hide()))
                }, this)), f && this.$backdrop[0].offsetWidth, this.$backdrop.addClass("in"), !b) return;
            f ? this.$backdrop.one("bsTransitionEnd", b).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION) : b()
        } else if (!this.isShown && this.$backdrop) {
            this.$backdrop.removeClass("in");
            var g = function() {
                d.removeBackdrop(), b && b()
            };
            a.support.transition && this.$element.hasClass("fade") ? this.$backdrop.one("bsTransitionEnd", g).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION) : g()
        } else b && b()
    }, c.prototype.handleUpdate = function() {
        this.adjustDialog()
    }, c.prototype.adjustDialog = function() {
        var a = this.$element[0].scrollHeight > document.documentElement.clientHeight;
        this.$element.css({
            paddingLeft: !this.bodyIsOverflowing && a ? this.scrollbarWidth : "",
            paddingRight: this.bodyIsOverflowing && !a ? this.scrollbarWidth : ""
        })
    }, c.prototype.resetAdjustments = function() {
        this.$element.css({
            paddingLeft: "",
            paddingRight: ""
        })
    }, c.prototype.checkScrollbar = function() {
        var a = window.innerWidth;
        if (!a) {
            var b = document.documentElement.getBoundingClientRect();
            a = b.right - Math.abs(b.left)
        }
        this.bodyIsOverflowing = document.body.clientWidth < a, this.scrollbarWidth = this.measureScrollbar()
    }, c.prototype.setScrollbar = function() {
        var a = parseInt(this.$body.css("padding-right") || 0, 10);
        this.originalBodyPad = document.body.style.paddingRight || "", this.bodyIsOverflowing && this.$body.css("padding-right", a + this.scrollbarWidth)
    }, c.prototype.resetScrollbar = function() {
        this.$body.css("padding-right", this.originalBodyPad)
    }, c.prototype.measureScrollbar = function() {
        var a = document.createElement("div");
        a.className = "modal-scrollbar-measure", this.$body.append(a);
        var b = a.offsetWidth - a.clientWidth;
        return this.$body[0].removeChild(a), b
    };
    var d = a.fn.modal;
    a.fn.modal = b, a.fn.modal.Constructor = c, a.fn.modal.noConflict = function() {
        return a.fn.modal = d, this
    }, a(document).on("click.bs.modal.data-api", '[data-toggle="modal"]', function(c) {
        var d = a(this),
            e = d.attr("href"),
            f = a(d.attr("data-target") || e && e.replace(/.*(?=#[^\s]+$)/, "")),
            g = f.data("bs.modal") ? "toggle" : a.extend({
                remote: !/#/.test(e) && e
            }, f.data(), d.data());
        d.is("a") && c.preventDefault(), f.one("show.bs.modal", function(a) {
            a.isDefaultPrevented() || f.one("hidden.bs.modal", function() {
                d.is(":visible") && d.trigger("focus")
            })
        }), b.call(f, g, this)
    })
}(jQuery), + function(a) {
    "use strict";

    function b(b) {
        return this.each(function() {
            var d = a(this),
                e = d.data("bs.tooltip"),
                f = "object" == typeof b && b;
            (e || !/destroy|hide/.test(b)) && (e || d.data("bs.tooltip", e = new c(this, f)), "string" == typeof b && e[b]())
        })
    }
    var c = function(a, b) {
        this.type = null, this.options = null, this.enabled = null, this.timeout = null, this.hoverState = null, this.$element = null, this.inState = null, this.init("tooltip", a, b)
    };
    c.VERSION = "3.3.5", c.TRANSITION_DURATION = 150, c.DEFAULTS = {
        animation: !0,
        placement: "top",
        selector: !1,
        template: '<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',
        trigger: "hover focus",
        title: "",
        delay: 0,
        html: !1,
        container: !1,
        viewport: {
            selector: "body",
            padding: 0
        }
    }, c.prototype.init = function(b, c, d) {
        if (this.enabled = !0, this.type = b, this.$element = a(c), this.options = this.getOptions(d), this.$viewport = this.options.viewport && a(a.isFunction(this.options.viewport) ? this.options.viewport.call(this, this.$element) : this.options.viewport.selector || this.options.viewport), this.inState = {
                click: !1,
                hover: !1,
                focus: !1
            }, this.$element[0] instanceof document.constructor && !this.options.selector) throw new Error("`selector` option must be specified when initializing " + this.type + " on the window.document object!");
        for (var e = this.options.trigger.split(" "), f = e.length; f--;) {
            var g = e[f];
            if ("click" == g) this.$element.on("click." + this.type, this.options.selector, a.proxy(this.toggle, this));
            else if ("manual" != g) {
                var h = "hover" == g ? "mouseenter" : "focusin",
                    i = "hover" == g ? "mouseleave" : "focusout";
                this.$element.on(h + "." + this.type, this.options.selector, a.proxy(this.enter, this)), this.$element.on(i + "." + this.type, this.options.selector, a.proxy(this.leave, this))
            }
        }
        this.options.selector ? this._options = a.extend({}, this.options, {
            trigger: "manual",
            selector: ""
        }) : this.fixTitle()
    }, c.prototype.getDefaults = function() {
        return c.DEFAULTS
    }, c.prototype.getOptions = function(b) {
        return b = a.extend({}, this.getDefaults(), this.$element.data(), b), b.delay && "number" == typeof b.delay && (b.delay = {
            show: b.delay,
            hide: b.delay
        }), b
    }, c.prototype.getDelegateOptions = function() {
        var b = {},
            c = this.getDefaults();
        return this._options && a.each(this._options, function(a, d) {
            c[a] != d && (b[a] = d)
        }), b
    }, c.prototype.enter = function(b) {
        var c = b instanceof this.constructor ? b : a(b.currentTarget).data("bs." + this.type);
        return c || (c = new this.constructor(b.currentTarget, this.getDelegateOptions()), a(b.currentTarget).data("bs." + this.type, c)), b instanceof a.Event && (c.inState["focusin" == b.type ? "focus" : "hover"] = !0), c.tip().hasClass("in") || "in" == c.hoverState ? void(c.hoverState = "in") : (clearTimeout(c.timeout), c.hoverState = "in", c.options.delay && c.options.delay.show ? void(c.timeout = setTimeout(function() {
            "in" == c.hoverState && c.show()
        }, c.options.delay.show)) : c.show())
    }, c.prototype.isInStateTrue = function() {
        for (var a in this.inState)
            if (this.inState[a]) return !0;
        return !1
    }, c.prototype.leave = function(b) {
        var c = b instanceof this.constructor ? b : a(b.currentTarget).data("bs." + this.type);
        return c || (c = new this.constructor(b.currentTarget, this.getDelegateOptions()), a(b.currentTarget).data("bs." + this.type, c)), b instanceof a.Event && (c.inState["focusout" == b.type ? "focus" : "hover"] = !1), c.isInStateTrue() ? void 0 : (clearTimeout(c.timeout), c.hoverState = "out", c.options.delay && c.options.delay.hide ? void(c.timeout = setTimeout(function() {
            "out" == c.hoverState && c.hide()
        }, c.options.delay.hide)) : c.hide())
    }, c.prototype.show = function() {
        var b = a.Event("show.bs." + this.type);
        if (this.hasContent() && this.enabled) {
            this.$element.trigger(b);
            var d = a.contains(this.$element[0].ownerDocument.documentElement, this.$element[0]);
            if (b.isDefaultPrevented() || !d) return;
            var e = this,
                f = this.tip(),
                g = this.getUID(this.type);
            this.setContent(), f.attr("id", g), this.$element.attr("aria-describedby", g), this.options.animation && f.addClass("fade");
            var h = "function" == typeof this.options.placement ? this.options.placement.call(this, f[0], this.$element[0]) : this.options.placement,
                i = /\s?auto?\s?/i,
                j = i.test(h);
            j && (h = h.replace(i, "") || "top"), f.detach().css({
                top: 0,
                left: 0,
                display: "block"
            }).addClass(h).data("bs." + this.type, this), this.options.container ? f.appendTo(this.options.container) : f.insertAfter(this.$element), this.$element.trigger("inserted.bs." + this.type);
            var k = this.getPosition(),
                l = f[0].offsetWidth,
                m = f[0].offsetHeight;
            if (j) {
                var n = h,
                    o = this.getPosition(this.$viewport);
                h = "bottom" == h && k.bottom + m > o.bottom ? "top" : "top" == h && k.top - m < o.top ? "bottom" : "right" == h && k.right + l > o.width ? "left" : "left" == h && k.left - l < o.left ? "right" : h, f.removeClass(n).addClass(h)
            }
            var p = this.getCalculatedOffset(h, k, l, m);
            this.applyPlacement(p, h);
            var q = function() {
                var a = e.hoverState;
                e.$element.trigger("shown.bs." + e.type), e.hoverState = null, "out" == a && e.leave(e)
            };
            a.support.transition && this.$tip.hasClass("fade") ? f.one("bsTransitionEnd", q).emulateTransitionEnd(c.TRANSITION_DURATION) : q()
        }
    }, c.prototype.applyPlacement = function(b, c) {
        var d = this.tip(),
            e = d[0].offsetWidth,
            f = d[0].offsetHeight,
            g = parseInt(d.css("margin-top"), 10),
            h = parseInt(d.css("margin-left"), 10);
        isNaN(g) && (g = 0), isNaN(h) && (h = 0), b.top += g, b.left += h, a.offset.setOffset(d[0], a.extend({
            using: function(a) {
                d.css({
                    top: Math.round(a.top),
                    left: Math.round(a.left)
                })
            }
        }, b), 0), d.addClass("in");
        var i = d[0].offsetWidth,
            j = d[0].offsetHeight;
        "top" == c && j != f && (b.top = b.top + f - j);
        var k = this.getViewportAdjustedDelta(c, b, i, j);
        k.left ? b.left += k.left : b.top += k.top;
        var l = /top|bottom/.test(c),
            m = l ? 2 * k.left - e + i : 2 * k.top - f + j,
            n = l ? "offsetWidth" : "offsetHeight";
        d.offset(b), this.replaceArrow(m, d[0][n], l)
    }, c.prototype.replaceArrow = function(a, b, c) {
        this.arrow().css(c ? "left" : "top", 50 * (1 - a / b) + "%").css(c ? "top" : "left", "")
    }, c.prototype.setContent = function() {
        var a = this.tip(),
            b = this.getTitle();
        a.find(".tooltip-inner")[this.options.html ? "html" : "text"](b), a.removeClass("fade in top bottom left right")
    }, c.prototype.hide = function(b) {
        function d() {
            "in" != e.hoverState && f.detach(), e.$element.removeAttr("aria-describedby").trigger("hidden.bs." + e.type), b && b()
        }
        var e = this,
            f = a(this.$tip),
            g = a.Event("hide.bs." + this.type);
        return this.$element.trigger(g), g.isDefaultPrevented() ? void 0 : (f.removeClass("in"), a.support.transition && f.hasClass("fade") ? f.one("bsTransitionEnd", d).emulateTransitionEnd(c.TRANSITION_DURATION) : d(), this.hoverState = null, this)
    }, c.prototype.fixTitle = function() {
        var a = this.$element;
        (a.attr("title") || "string" != typeof a.attr("data-original-title")) && a.attr("data-original-title", a.attr("title") || "").attr("title", "")
    }, c.prototype.hasContent = function() {
        return this.getTitle()
    }, c.prototype.getPosition = function(b) {
        b = b || this.$element;
        var c = b[0],
            d = "BODY" == c.tagName,
            e = c.getBoundingClientRect();
        null == e.width && (e = a.extend({}, e, {
            width: e.right - e.left,
            height: e.bottom - e.top
        }));
        var f = d ? {
                top: 0,
                left: 0
            } : b.offset(),
            g = {
                scroll: d ? document.documentElement.scrollTop || document.body.scrollTop : b.scrollTop()
            },
            h = d ? {
                width: a(window).width(),
                height: a(window).height()
            } : null;
        return a.extend({}, e, g, h, f)
    }, c.prototype.getCalculatedOffset = function(a, b, c, d) {
        return "bottom" == a ? {
            top: b.top + b.height,
            left: b.left + b.width / 2 - c / 2
        } : "top" == a ? {
            top: b.top - d,
            left: b.left + b.width / 2 - c / 2
        } : "left" == a ? {
            top: b.top + b.height / 2 - d / 2,
            left: b.left - c
        } : {
            top: b.top + b.height / 2 - d / 2,
            left: b.left + b.width
        }
    }, c.prototype.getViewportAdjustedDelta = function(a, b, c, d) {
        var e = {
            top: 0,
            left: 0
        };
        if (!this.$viewport) return e;
        var f = this.options.viewport && this.options.viewport.padding || 0,
            g = this.getPosition(this.$viewport);
        if (/right|left/.test(a)) {
            var h = b.top - f - g.scroll,
                i = b.top + f - g.scroll + d;
            h < g.top ? e.top = g.top - h : i > g.top + g.height && (e.top = g.top + g.height - i)
        } else {
            var j = b.left - f,
                k = b.left + f + c;
            j < g.left ? e.left = g.left - j : k > g.right && (e.left = g.left + g.width - k)
        }
        return e
    }, c.prototype.getTitle = function() {
        var a, b = this.$element,
            c = this.options;
        return a = b.attr("data-original-title") || ("function" == typeof c.title ? c.title.call(b[0]) : c.title)
    }, c.prototype.getUID = function(a) {
        do a += ~~(1e6 * Math.random()); while (document.getElementById(a));
        return a
    }, c.prototype.tip = function() {
        if (!this.$tip && (this.$tip = a(this.options.template), 1 != this.$tip.length)) throw new Error(this.type + " `template` option must consist of exactly 1 top-level element!");
        return this.$tip
    }, c.prototype.arrow = function() {
        return this.$arrow = this.$arrow || this.tip().find(".tooltip-arrow")
    }, c.prototype.enable = function() {
        this.enabled = !0
    }, c.prototype.disable = function() {
        this.enabled = !1
    }, c.prototype.toggleEnabled = function() {
        this.enabled = !this.enabled
    }, c.prototype.toggle = function(b) {
        var c = this;
        b && (c = a(b.currentTarget).data("bs." + this.type), c || (c = new this.constructor(b.currentTarget, this.getDelegateOptions()), a(b.currentTarget).data("bs." + this.type, c))), b ? (c.inState.click = !c.inState.click, c.isInStateTrue() ? c.enter(c) : c.leave(c)) : c.tip().hasClass("in") ? c.leave(c) : c.enter(c)
    }, c.prototype.destroy = function() {
        var a = this;
        clearTimeout(this.timeout), this.hide(function() {
            a.$element.off("." + a.type).removeData("bs." + a.type), a.$tip && a.$tip.detach(), a.$tip = null, a.$arrow = null, a.$viewport = null
        })
    };
    var d = a.fn.tooltip;
    a.fn.tooltip = b, a.fn.tooltip.Constructor = c, a.fn.tooltip.noConflict = function() {
        return a.fn.tooltip = d, this
    }
}(jQuery), + function(a) {
    "use strict";

    function b(b) {
        return this.each(function() {
            var d = a(this),
                e = d.data("bs.popover"),
                f = "object" == typeof b && b;
            (e || !/destroy|hide/.test(b)) && (e || d.data("bs.popover", e = new c(this, f)), "string" == typeof b && e[b]())
        })
    }
    var c = function(a, b) {
        this.init("popover", a, b)
    };
    if (!a.fn.tooltip) throw new Error("Popover requires tooltip.js");
    c.VERSION = "3.3.5", c.DEFAULTS = a.extend({}, a.fn.tooltip.Constructor.DEFAULTS, {
        placement: "right",
        trigger: "click",
        content: "",
        template: '<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'
    }), c.prototype = a.extend({}, a.fn.tooltip.Constructor.prototype), c.prototype.constructor = c, c.prototype.getDefaults = function() {
        return c.DEFAULTS
    }, c.prototype.setContent = function() {
        var a = this.tip(),
            b = this.getTitle(),
            c = this.getContent();
        a.find(".popover-title")[this.options.html ? "html" : "text"](b), a.find(".popover-content").children().detach().end()[this.options.html ? "string" == typeof c ? "html" : "append" : "text"](c), a.removeClass("fade top bottom left right in"), a.find(".popover-title").html() || a.find(".popover-title").hide()
    }, c.prototype.hasContent = function() {
        return this.getTitle() || this.getContent()
    }, c.prototype.getContent = function() {
        var a = this.$element,
            b = this.options;
        return a.attr("data-content") || ("function" == typeof b.content ? b.content.call(a[0]) : b.content)
    }, c.prototype.arrow = function() {
        return this.$arrow = this.$arrow || this.tip().find(".arrow")
    };
    var d = a.fn.popover;
    a.fn.popover = b, a.fn.popover.Constructor = c, a.fn.popover.noConflict = function() {
        return a.fn.popover = d, this
    }
}(jQuery), + function(a) {
    "use strict";

    function b(c, d) {
        this.$body = a(document.body), this.$scrollElement = a(a(c).is(document.body) ? window : c), this.options = a.extend({}, b.DEFAULTS, d), this.selector = (this.options.target || "") + " .nav li > a", this.offsets = [], this.targets = [], this.activeTarget = null, this.scrollHeight = 0, this.$scrollElement.on("scroll.bs.scrollspy", a.proxy(this.process, this)), this.refresh(), this.process()
    }

    function c(c) {
        return this.each(function() {
            var d = a(this),
                e = d.data("bs.scrollspy"),
                f = "object" == typeof c && c;
            e || d.data("bs.scrollspy", e = new b(this, f)), "string" == typeof c && e[c]()
        })
    }
    b.VERSION = "3.3.5", b.DEFAULTS = {
        offset: 10
    }, b.prototype.getScrollHeight = function() {
        return this.$scrollElement[0].scrollHeight || Math.max(this.$body[0].scrollHeight, document.documentElement.scrollHeight)
    }, b.prototype.refresh = function() {
        var b = this,
            c = "offset",
            d = 0;
        this.offsets = [], this.targets = [], this.scrollHeight = this.getScrollHeight(), a.isWindow(this.$scrollElement[0]) || (c = "position", d = this.$scrollElement.scrollTop()), this.$body.find(this.selector).map(function() {
            var b = a(this),
                e = b.data("target") || b.attr("href"),
                f = /^#./.test(e) && a(e);
            return f && f.length && f.is(":visible") && [
                [f[c]().top + d, e]
            ] || null
        }).sort(function(a, b) {
            return a[0] - b[0]
        }).each(function() {
            b.offsets.push(this[0]), b.targets.push(this[1])
        })
    }, b.prototype.process = function() {
        var a, b = this.$scrollElement.scrollTop() + this.options.offset,
            c = this.getScrollHeight(),
            d = this.options.offset + c - this.$scrollElement.height(),
            e = this.offsets,
            f = this.targets,
            g = this.activeTarget;
        if (this.scrollHeight != c && this.refresh(), b >= d) return g != (a = f[f.length - 1]) && this.activate(a);
        if (g && b < e[0]) return this.activeTarget = null, this.clear();
        for (a = e.length; a--;) g != f[a] && b >= e[a] && (void 0 === e[a + 1] || b < e[a + 1]) && this.activate(f[a])
    }, b.prototype.activate = function(b) {
        this.activeTarget = b, this.clear();
        var c = this.selector + '[data-target="' + b + '"],' + this.selector + '[href="' + b + '"]',
            d = a(c).parents("li").addClass("active");
        d.parent(".dropdown-menu").length && (d = d.closest("li.dropdown").addClass("active")), d.trigger("activate.bs.scrollspy")
    }, b.prototype.clear = function() {
        a(this.selector).parentsUntil(this.options.target, ".active").removeClass("active")
    };
    var d = a.fn.scrollspy;
    a.fn.scrollspy = c, a.fn.scrollspy.Constructor = b, a.fn.scrollspy.noConflict = function() {
        return a.fn.scrollspy = d, this
    }, a(window).on("load.bs.scrollspy.data-api", function() {
        a('[data-spy="scroll"]').each(function() {
            var b = a(this);
            c.call(b, b.data())
        })
    })
}(jQuery), + function(a) {
    "use strict";

    function b(b) {
        return this.each(function() {
            var d = a(this),
                e = d.data("bs.tab");
            e || d.data("bs.tab", e = new c(this)), "string" == typeof b && e[b]()
        })
    }
    var c = function(b) {
        this.element = a(b)
    };
    c.VERSION = "3.3.5", c.TRANSITION_DURATION = 150, c.prototype.show = function() {
        var b = this.element,
            c = b.closest("ul:not(.dropdown-menu)"),
            d = b.data("target");
        if (d || (d = b.attr("href"), d = d && d.replace(/.*(?=#[^\s]*$)/, "")), !b.parent("li").hasClass("active")) {
            var e = c.find(".active:last a"),
                f = a.Event("hide.bs.tab", {
                    relatedTarget: b[0]
                }),
                g = a.Event("show.bs.tab", {
                    relatedTarget: e[0]
                });
            if (e.trigger(f), b.trigger(g), !g.isDefaultPrevented() && !f.isDefaultPrevented()) {
                var h = a(d);
                this.activate(b.closest("li"), c), this.activate(h, h.parent(), function() {
                    e.trigger({
                        type: "hidden.bs.tab",
                        relatedTarget: b[0]
                    }), b.trigger({
                        type: "shown.bs.tab",
                        relatedTarget: e[0]
                    })
                })
            }
        }
    }, c.prototype.activate = function(b, d, e) {
        function f() {
            g.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded", !1), b.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded", !0), h ? (b[0].offsetWidth, b.addClass("in")) : b.removeClass("fade"), b.parent(".dropdown-menu").length && b.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded", !0), e && e()
        }
        var g = d.find("> .active"),
            h = e && a.support.transition && (g.length && g.hasClass("fade") || !!d.find("> .fade").length);
        g.length && h ? g.one("bsTransitionEnd", f).emulateTransitionEnd(c.TRANSITION_DURATION) : f(), g.removeClass("in")
    };
    var d = a.fn.tab;
    a.fn.tab = b, a.fn.tab.Constructor = c, a.fn.tab.noConflict = function() {
        return a.fn.tab = d, this
    };
    var e = function(c) {
        c.preventDefault(), b.call(a(this), "show")
    };
    a(document).on("click.bs.tab.data-api", '[data-toggle="tab"]', e).on("click.bs.tab.data-api", '[data-toggle="pill"]', e)
}(jQuery), + function(a) {
    "use strict";

    function b(b) {
        return this.each(function() {
            var d = a(this),
                e = d.data("bs.affix"),
                f = "object" == typeof b && b;
            e || d.data("bs.affix", e = new c(this, f)), "string" == typeof b && e[b]()
        })
    }
    var c = function(b, d) {
        this.options = a.extend({}, c.DEFAULTS, d), this.$target = a(this.options.target).on("scroll.bs.affix.data-api", a.proxy(this.checkPosition, this)).on("click.bs.affix.data-api", a.proxy(this.checkPositionWithEventLoop, this)), this.$element = a(b), this.affixed = null, this.unpin = null, this.pinnedOffset = null, this.checkPosition()
    };
    c.VERSION = "3.3.5", c.RESET = "affix affix-top affix-bottom", c.DEFAULTS = {
        offset: 0,
        target: window
    }, c.prototype.getState = function(a, b, c, d) {
        var e = this.$target.scrollTop(),
            f = this.$element.offset(),
            g = this.$target.height();
        if (null != c && "top" == this.affixed) return c > e ? "top" : !1;
        if ("bottom" == this.affixed) return null != c ? e + this.unpin <= f.top ? !1 : "bottom" : a - d >= e + g ? !1 : "bottom";
        var h = null == this.affixed,
            i = h ? e : f.top,
            j = h ? g : b;
        return null != c && c >= e ? "top" : null != d && i + j >= a - d ? "bottom" : !1
    }, c.prototype.getPinnedOffset = function() {
        if (this.pinnedOffset) return this.pinnedOffset;
        this.$element.removeClass(c.RESET).addClass("affix");
        var a = this.$target.scrollTop(),
            b = this.$element.offset();
        return this.pinnedOffset = b.top - a
    }, c.prototype.checkPositionWithEventLoop = function() {
        setTimeout(a.proxy(this.checkPosition, this), 1)
    }, c.prototype.checkPosition = function() {
        if (this.$element.is(":visible")) {
            var b = this.$element.height(),
                d = this.options.offset,
                e = d.top,
                f = d.bottom,
                g = Math.max(a(document).height(), a(document.body).height());
            "object" != typeof d && (f = e = d), "function" == typeof e && (e = d.top(this.$element)), "function" == typeof f && (f = d.bottom(this.$element));
            var h = this.getState(g, b, e, f);
            if (this.affixed != h) {
                null != this.unpin && this.$element.css("top", "");
                var i = "affix" + (h ? "-" + h : ""),
                    j = a.Event(i + ".bs.affix");
                if (this.$element.trigger(j), j.isDefaultPrevented()) return;
                this.affixed = h, this.unpin = "bottom" == h ? this.getPinnedOffset() : null, this.$element.removeClass(c.RESET).addClass(i).trigger(i.replace("affix", "affixed") + ".bs.affix")
            }
            "bottom" == h && this.$element.offset({
                top: g - b - f
            })
        }
    };
    var d = a.fn.affix;
    a.fn.affix = b, a.fn.affix.Constructor = c, a.fn.affix.noConflict = function() {
        return a.fn.affix = d, this
    }, a(window).on("load", function() {
        a('[data-spy="affix"]').each(function() {
            var c = a(this),
                d = c.data();
            d.offset = d.offset || {}, null != d.offsetBottom && (d.offset.bottom = d.offsetBottom), null != d.offsetTop && (d.offset.top = d.offsetTop), b.call(c, d)
        })
    })
}(jQuery);
! function(a) {
    "use strict";
    var b = "animsition",
        c = {
            init: function(d) {
                d = a.extend({
                    inClass: "fade-in",
                    outClass: "fade-out",
                    inDuration: 1500,
                    outDuration: 800,
                    linkElement: ".animsition-link",
                    loading: !0,
                    loadingParentElement: "body",
                    loadingClass: "animsition-loading",
                    unSupportCss: ["animation-duration", "-webkit-animation-duration", "-o-animation-duration"],
                    overlay: !1,
                    overlayClass: "animsition-overlay-slide",
                    overlayParentElement: "body"
                }, d);
                var e = c.supportCheck.call(this, d);
                if (!e) return "console" in window || (window.console = {}, window.console.log = function(a) {
                    return a
                }), console.log("Animsition does not support this browser."), c.destroy.call(this);
                var f = c.optionCheck.call(this, d);
                return f && c.addOverlay.call(this, d), d.loading && c.addLoading.call(this, d), this.each(function() {
                    var e = this,
                        f = a(this),
                        g = a(window),
                        h = f.data(b);
                    h || (d = a.extend({}, d), f.data(b, {
                        options: d
                    }), g.on("load." + b + " pageshow." + b, function() {
                        c.pageIn.call(e)
                    }), g.on("unload." + b, function() {}), a(d.linkElement).on("click." + b, function(b) {
                        b.preventDefault();
                        var d = a(this),
                            f = d.attr("href");
                        2 === b.which || b.metaKey || b.shiftKey || -1 !== navigator.platform.toUpperCase().indexOf("WIN") && b.ctrlKey ? window.open(f, "_blank") : c.pageOut.call(e, d, f)
                    }))
                })
            },
            addOverlay: function(b) {
                a(b.overlayParentElement).prepend('<div class="' + b.overlayClass + '"></div>')
            },
            addLoading: function(b) {
                a(b.loadingParentElement).append('<div class="' + b.loadingClass + '"></div>')
            },
            removeLoading: function() {
                var c = a(this),
                    d = c.data(b).options,
                    e = a(d.loadingParentElement).children("." + d.loadingClass);
                e.fadeOut().remove()
            },
            supportCheck: function(b) {
                var c = a(this),
                    d = b.unSupportCss,
                    e = d.length,
                    f = !1;
                0 === e && (f = !0);
                for (var g = 0; e > g; g++)
                    if ("string" == typeof c.css(d[g])) {
                        f = !0;
                        break
                    }
                return f
            },
            optionCheck: function(b) {
                var c, d = a(this);
                return c = b.overlay || d.data("animsition-overlay") ? !0 : !1
            },
            animationCheck: function(c, d, e) {
                var f = a(this),
                    g = f.data(b).options,
                    h = typeof c,
                    i = !d && "number" === h,
                    j = d && "string" === h && c.length > 0;
                return i || j ? c = c : d && e ? c = g.inClass : !d && e ? c = g.inDuration : d && !e ? c = g.outClass : d || e || (c = g.outDuration), c
            },
            pageIn: function() {
                var d = this,
                    e = a(this),
                    f = e.data(b).options,
                    g = e.data("animsition-in-duration"),
                    h = e.data("animsition-in"),
                    i = c.animationCheck.call(d, g, !1, !0),
                    j = c.animationCheck.call(d, h, !0, !0),
                    k = c.optionCheck.call(d, f);
                f.loading && c.removeLoading.call(d), k ? c.pageInOverlay.call(d, j, i) : c.pageInBasic.call(d, j, i)
            },
            pageInBasic: function(b, c) {
                var d = a(this);
                d.trigger("animsition.start").css({
                    "animation-duration": c / 1e3 + "s"
                }).addClass(b).animateCallback(function() {
                    d.removeClass(b).css({
                        opacity: 1
                    }).trigger("animsition.end")
                })
            },
            pageInOverlay: function(c, d) {
                var e = a(this),
                    f = e.data(b).options;
                e.trigger("animsition.start").css({
                    opacity: 1
                }), a(f.overlayParentElement).children("." + f.overlayClass).css({
                    "animation-duration": d / 1e3 + "s"
                }).addClass(c).animateCallback(function() {
                    e.trigger("animsition.end")
                })
            },
            pageOut: function(d, e) {
                var f = this,
                    g = a(this),
                    h = g.data(b).options,
                    i = d.data("animsition-out"),
                    j = g.data("animsition-out"),
                    k = d.data("animsition-out-duration"),
                    l = g.data("animsition-out-duration"),
                    m = i ? i : j,
                    n = k ? k : l,
                    o = c.animationCheck.call(f, m, !0, !1),
                    p = c.animationCheck.call(f, n, !1, !1),
                    q = c.optionCheck.call(f, h);
                q ? c.pageOutOverlay.call(f, o, p, e) : c.pageOutBasic.call(f, o, p, e)
            },
            pageOutBasic: function(b, c, d) {
                var e = a(this);
                e.css({
                    "animation-duration": c / 1e3 + "s"
                }).addClass(b).animateCallback(function() {
                    location.href = d
                })
            },
            pageOutOverlay: function(d, e, f) {
                var g = this,
                    h = a(this),
                    i = h.data(b).options,
                    j = h.data("animsition-in"),
                    k = c.animationCheck.call(g, j, !0, !0);
                a(i.overlayParentElement).children("." + i.overlayClass).css({
                    "animation-duration": e / 1e3 + "s"
                }).removeClass(k).addClass(d).animateCallback(function() {
                    location.href = f
                })
            },
            destroy: function() {
                return this.each(function() {
                    var c = a(this);
                    a(window).unbind("." + b), c.css({
                        opacity: 1
                    }).removeData(b)
                })
            }
        };
    a.fn.animateCallback = function(b) {
        var c = "animationend webkitAnimationEnd mozAnimationEnd oAnimationEnd MSAnimationEnd";
        return this.each(function() {
            a(this).bind(c, function() {
                return a(this).unbind(c), b.call(this)
            })
        })
    }, a.fn.animsition = function(d) {
        return c[d] ? c[d].apply(this, Array.prototype.slice.call(arguments, 1)) : "object" != typeof d && d ? void a.error("Method " + d + " does not exist on jQuery." + b) : c.init.apply(this, arguments)
    }
}(jQuery);
/*! jQuery asScroll - v0.1.1 - 2015-05-11
 * https://github.com/amazingSurge/jquery-asScroll
 * Copyright (c) 2015 amazingSurge; Licensed GPL */
! function(a, b, c, d) {
    "use strict";
    var e = 0,
        f = function() {
            return "undefined" != typeof a.performance && a.performance.now ? a.performance.now() : Date.now()
        },
        g = function(a) {
            return "string" == typeof a && -1 !== a.indexOf("%")
        },
        h = function(a) {
            return parseFloat(a.slice(0, -1) / 100, 10)
        },
        i = function() {
            return a.requestAnimationFrame || a.webkitRequestAnimationFrame || a.mozRequestAnimationFrame || function(b) {
                a.setTimeout(b, 1e3 / 60)
            }
        }(),
        j = function() {
            return a.cancelAnimationFrame || a.webkitCancelAnimationFrame || a.mozCancelAnimationFrame || function(b) {
                a.clearTimeout(b)
            }
        }(),
        k = function(a, b, c, d) {
            function e(a, b) {
                return 1 - 3 * b + 3 * a
            }

            function f(a, b) {
                return 3 * b - 6 * a
            }

            function g(a) {
                return 3 * a
            }

            function h(a, b, c) {
                return ((e(b, c) * a + f(b, c)) * a + g(b)) * a
            }

            function i(a, b, c) {
                return 3 * e(b, c) * a * a + 2 * f(b, c) * a + g(b)
            }

            function j(b) {
                for (var d = b, e = 0; 4 > e; ++e) {
                    var f = i(d, a, c);
                    if (0 === f) return d;
                    var g = h(d, a, c) - b;
                    d -= g / f
                }
                return d
            }
            return a === b && c === d ? {
                css: "linear",
                fn: function(a) {
                    return a
                }
            } : {
                css: "cubic-bezier(" + a + "," + b + "," + c + "," + d + ")",
                fn: function(a) {
                    return h(j(a), b, d)
                }
            }
        },
        l = function(d, f) {
            this.element = d, this.$element = c(d), this.options = c.extend(!0, {}, l.defaults, f), this.options.containerSelector ? this.$container = c(this.options.containerSelector) : this.$container = this.$element.is(b.body) ? c(a) : this.$element.parent(), 1 === this.$container.length && (this.namespace = this.options.namespace, this.attributes = {
                vertical: {
                    axis: "Y",
                    overflow: "overflow-y",
                    scroll: "scrollTop",
                    scrollLength: "scrollHeight",
                    pageOffset: "pageYOffset",
                    ffPadding: "padding-right",
                    length: "height",
                    clientLength: "clientHeight",
                    offsetLength: "offsetHeight",
                    offset: "top",
                    crossOffset: "left",
                    crossLength: "width",
                    crossClientLength: "clientWidth",
                    crossOffsetLength: "offsetWidth"
                },
                horizontal: {
                    axis: "X",
                    overflow: "overflow-x",
                    scroll: "scrollLeft",
                    scrollLength: "scrollWidth",
                    pageOffset: "pageXOffset",
                    ffPadding: "padding-bottom",
                    length: "width",
                    clientLength: "clientWidth",
                    offsetLength: "offsetWidth",
                    offset: "left",
                    crossOffset: "top",
                    crossLength: "height",
                    crossClientLength: "clientHeight",
                    crossOffsetLength: "offsetHeight"
                }
            }, this.classes = {}, this.easing = l.easing[this.options.easing] || l.easing.ease, this.duration = this.options.duration, this._frameId = null, this._states = {}, this.instanceId = ++e, this.vertical = !1, this.horizontal = !1, this.init())
        };
    c.extend(l.easing = {}, {
        ease: k(.25, .1, .25, 1),
        linear: k(0, 0, 1, 1),
        "ease-in": k(.42, 0, 1, 1),
        "ease-out": k(0, 0, .58, 1),
        "ease-in-out": k(.42, 0, .58, 1)
    }), l.prototype = {
        constructor: l,
        getActiveTarget: function(a) {
            if (this[a]) {
                var b = this.getOffset(a),
                    d = this.attributes[a],
                    e = null,
                    f = this.getContainerLength(a);
                return c.each(this.lists, function(a, c) {
                    var g = c.offset[d.offset],
                        h = c.$el[d.length]();
                    return g === b ? (e = a, !1) : g > b && b + f > g ? (e = a, !1) : b > g && g + h > b ? (e = a, !0) : g > b + f ? !1 : void 0
                }), e
            }
        },
        init: function() {
            var a = this;
            this.$targets = this.$element.find("[data-scroll-target]"), this.lists = {}, this.getScrollLength("vertical") > 0 && (this.vertical = !0), this.getScrollLength("horizontal") > 0 && (this.horizontal = !0), this.$targets.each(function() {
                var b = c(this);
                a.lists[b.data("scrollTarget")] = {
                    $el: b,
                    offset: b.offset()
                }
            }), this.bindEvents()
        },
        bindEvents: function() {
            var b = this;
            c(a).on(this.eventNameWithId("resize"), function() {
                c(a).width() < b.options.mobile.width && (b.duration = b.options.duration, b.easing = l.easing[b.options.easing] || l.easing.ease)
            }), c(a).on(this.eventNameWithId("orientationchange"), function() {
                c(a).width() < b.options.mobile.width && (b.duration = b.options.duration, b.easing = l.easing[b.options.easing] || l.easing.ease)
            }), (this.horizontal || this.vertical) && this.$container.on(this.eventName("scroll"), function() {
                b.vertical && b.trigger(b.eventName("active"), ["vertical", b.getActiveTarget("vertical")]), b.horizontal && b.trigger(b.eventName("active"), ["horizontal", b.getActiveTarget("horizontal")])
            })
        },
        eventName: function(a) {
            if ("string" != typeof a || "" === a) return "." + this.options.namespace;
            a = a.split(" ");
            for (var b = a.length, c = 0; b > c; c++) a[c] = a[c] + "." + this.options.namespace;
            return a.join(" ")
        },
        eventNameWithId: function(a) {
            if ("string" != typeof a || "" === a) return this.options.namespace + "-" + this.instanceId;
            a = a.split(" ");
            for (var b = a.length, c = 0; b > c; c++) a[c] = a[c] + "." + this.options.namespace + "-" + this.instanceId;
            return a.join(" ")
        },
        trigger: function(a) {
            var b = Array.prototype.slice.call(arguments, 1),
                c = [this].concat(b);
            this.$element.trigger("AsScroll::" + a, c), a = a.replace(/\b\w+\b/g, function(a) {
                return a.substring(0, 1).toUpperCase() + a.substring(1)
            });
            var d = "on" + a;
            "function" == typeof this.options[d] && this.options[d].apply(this, b)
        },
        is: function(a) {
            return this._states[a] && this._states[a] > 0
        },
        enter: function(a) {
            this._states[a] === d && (this._states[a] = 0), this._states[a]++
        },
        leave: function(a) {
            this._states[a]--
        },
        getOffset: function(a) {
            var b = this.attributes[a],
                c = this.$element[0];
            return c[b.pageOffset] || c[b.scroll]
        },
        getPercentOffset: function(a) {
            return this.getOffset(a) / this.getScrollLength(a)
        },
        getContainerLength: function(b) {
            return this.$container[0] === a ? this.$container[this.attributes[b].length]() : this.$container[0][this.attributes[b].clientLength]
        },
        getScrollLength: function(a) {
            var b = this.$element[0][this.attributes[a].scrollLength];
            return b - this.getContainerLength(a)
        },
        scrollToTarget: function(a, b, c, d) {
            if ("undefined" != typeof this.lists[b]) {
                b = this.lists[b];
                var e = this.attributes[a],
                    f = b.offset[e.offset];
                this.scrollTo(a, f, c, d)
            }
        },
        scrollTo: function(a, b, c, d) {
            var e = typeof b;
            "string" === e && (g(b) && (b = h(b) * this.getScrollLength(a)), b = parseFloat(b), e = "number"), "number" === e && this.move(a, b, c, d)
        },
        scrollBy: function(a, b, c, d) {
            var e = typeof b;
            "string" === e && (g(b) && (b = h(b) * this.getScrollLength(a)), b = parseFloat(b), e = "number"), "number" === e && this.move(a, this.getOffset(a) + b, c, d)
        },
        move: function(a, b, c, d) {
            if (this[a] && "number" == typeof b) {
                var e = this;
                this.enter("moving"), 0 > b ? b = 0 : b > this.getScrollLength(a) && (b = this.getScrollLength(a));
                var g = this.attributes[a],
                    h = function() {
                        e.leave("moving")
                    };
                if (d) this.$element[0][g.scroll] = b, c !== !1 && this.trigger("change", b / this.getScrollLength(a)), h();
                else {
                    e.enter("animating");
                    var k = f(),
                        l = e.getOffset(a),
                        m = b,
                        n = function(d) {
                            var f = (d - k) / e.duration;
                            f > 1 && (f = 1), f = e.easing.fn(f);
                            var o = parseFloat(l + f * (m - l), 10);
                            e.$element[0][g.scroll] = o, c !== !1 && e.trigger("change", b / e.getScrollLength(a)), 1 === f ? (j(e._frameId), e._frameId = null, e.leave("animating"), h()) : e._frameId = i(n)
                        };
                    e._frameId = i(n)
                }
            }
        },
        scrollXto: function(a, b, c) {
            return this.scrollTo("horizontal", a, b, c)
        },
        scrollYto: function(a, b, c) {
            return this.scrollTo("vertical", a, b, c)
        },
        scrollXby: function(a, b, c) {
            return this.scrollBy("horizontal", a, b, c)
        },
        scrollYby: function(a, b, c) {
            return this.scrollBy("vertical", a, b, c)
        },
        scrollXToTarget: function(a, b, c) {
            return this.scrollToTarget("horizontal", a, b, c)
        },
        scrollYToTarget: function(a, b, c) {
            return this.scrollToTarget("vertical", a, b, c)
        }
    }, l.defaults = {
        duration: 800,
        easing: "ease",
        namespace: "asScroll",
        offsetTop: 50,
        mobile: {
            width: 768,
            duration: 500,
            easing: "ease"
        }
    }, c.fn.asScroll = function(a) {
        if ("string" == typeof a) {
            var b = a,
                d = Array.prototype.slice.call(arguments, 1);
            return this.each(function() {
                var a = c.data(this, "asScroll");
                a && "function" == typeof a[b] && a[b].apply(a, d)
            })
        }
        return this.each(function() {
            var b = c.data(this, "asScroll");
            b || (b = new l(this, a), c.data(this, "asScroll", b))
        })
    }
}(window, document, jQuery);
/*!
 * jQuery Mousewheel 3.1.13
 *
 * Copyright 2015 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
! function(a) {
    "function" == typeof define && define.amd ? define(["jquery"], a) : "object" == typeof exports ? module.exports = a : a(jQuery)
}(function(a) {
    function b(b) {
        var g = b || window.event,
            h = i.call(arguments, 1),
            j = 0,
            l = 0,
            m = 0,
            n = 0,
            o = 0,
            p = 0;
        if (b = a.event.fix(g), b.type = "mousewheel", "detail" in g && (m = -1 * g.detail), "wheelDelta" in g && (m = g.wheelDelta), "wheelDeltaY" in g && (m = g.wheelDeltaY), "wheelDeltaX" in g && (l = -1 * g.wheelDeltaX), "axis" in g && g.axis === g.HORIZONTAL_AXIS && (l = -1 * m, m = 0), j = 0 === m ? l : m, "deltaY" in g && (m = -1 * g.deltaY, j = m), "deltaX" in g && (l = g.deltaX, 0 === m && (j = -1 * l)), 0 !== m || 0 !== l) {
            if (1 === g.deltaMode) {
                var q = a.data(this, "mousewheel-line-height");
                j *= q, m *= q, l *= q
            } else if (2 === g.deltaMode) {
                var r = a.data(this, "mousewheel-page-height");
                j *= r, m *= r, l *= r
            }
            if (n = Math.max(Math.abs(m), Math.abs(l)), (!f || f > n) && (f = n, d(g, n) && (f /= 40)), d(g, n) && (j /= 40, l /= 40, m /= 40), j = Math[j >= 1 ? "floor" : "ceil"](j / f), l = Math[l >= 1 ? "floor" : "ceil"](l / f), m = Math[m >= 1 ? "floor" : "ceil"](m / f), k.settings.normalizeOffset && this.getBoundingClientRect) {
                var s = this.getBoundingClientRect();
                o = b.clientX - s.left, p = b.clientY - s.top
            }
            return b.deltaX = l, b.deltaY = m, b.deltaFactor = f, b.offsetX = o, b.offsetY = p, b.deltaMode = 0, h.unshift(b, j, l, m), e && clearTimeout(e), e = setTimeout(c, 200), (a.event.dispatch || a.event.handle).apply(this, h)
        }
    }

    function c() {
        f = null
    }

    function d(a, b) {
        return k.settings.adjustOldDeltas && "mousewheel" === a.type && b % 120 === 0
    }
    var e, f, g = ["wheel", "mousewheel", "DOMMouseScroll", "MozMousePixelScroll"],
        h = "onwheel" in document || document.documentMode >= 9 ? ["wheel"] : ["mousewheel", "DomMouseScroll", "MozMousePixelScroll"],
        i = Array.prototype.slice;
    if (a.event.fixHooks)
        for (var j = g.length; j;) a.event.fixHooks[g[--j]] = a.event.mouseHooks;
    var k = a.event.special.mousewheel = {
        version: "3.1.12",
        setup: function() {
            if (this.addEventListener)
                for (var c = h.length; c;) this.addEventListener(h[--c], b, !1);
            else this.onmousewheel = b;
            a.data(this, "mousewheel-line-height", k.getLineHeight(this)), a.data(this, "mousewheel-page-height", k.getPageHeight(this))
        },
        teardown: function() {
            if (this.removeEventListener)
                for (var c = h.length; c;) this.removeEventListener(h[--c], b, !1);
            else this.onmousewheel = null;
            a.removeData(this, "mousewheel-line-height"), a.removeData(this, "mousewheel-page-height")
        },
        getLineHeight: function(b) {
            var c = a(b),
                d = c["offsetParent" in a.fn ? "offsetParent" : "parent"]();
            return d.length || (d = a("body")), parseInt(d.css("fontSize"), 10) || parseInt(c.css("fontSize"), 10) || 16
        },
        getPageHeight: function(b) {
            return a(b).height()
        },
        settings: {
            adjustOldDeltas: !0,
            normalizeOffset: !0
        }
    };
    a.fn.extend({
        mousewheel: function(a) {
            return a ? this.bind("mousewheel", a) : this.trigger("mousewheel")
        },
        unmousewheel: function(a) {
            return this.unbind("mousewheel", a)
        }
    })
});
/*! jQuery asScrollable - v0.3.1 - 2015-06-15
 * https://github.com/amazingSurge/jquery-asScrollable
 * Copyright (c) 2015 amazingSurge; Licensed GPL */
! function(a, b, c, d) {
    "use strict";

    function e() {
        return "undefined" != typeof a.performance && a.performance.now ? a.performance.now() : Date.now()
    }

    function f(a) {
        return "string" == typeof a && -1 != a.indexOf("%")
    }

    function g(a) {
        return parseFloat(a.slice(0, -1) / 100, 10)
    }

    function h(a) {
        return a && "matrix" == a.substr(0, 6) ? a.replace(/^.*\((.*)\)$/g, "$1").replace(/px/g, "").split(/, +/) : !1
    }
    var i = "asScrollbar";
    Date.now || (Date.now = function() {
        return (new Date).getTime()
    });
    for (var j = ["webkit", "moz"], k = 0; k < j.length && !a.requestAnimationFrame; ++k) {
        var l = j[k];
        a.requestAnimationFrame = a[l + "RequestAnimationFrame"], a.cancelAnimationFrame = a[l + "CancelAnimationFrame"] || a[l + "CancelRequestAnimationFrame"]
    }
    if (/iP(ad|hone|od).*OS (6|7|8)/.test(a.navigator.userAgent) || !a.requestAnimationFrame || !a.cancelAnimationFrame) {
        var m = 0;
        a.requestAnimationFrame = function(a) {
            var b = e(),
                c = Math.max(m + 16, b);
            return setTimeout(function() {
                a(m = c)
            }, c - b)
        }, a.cancelAnimationFrame = clearTimeout
    }
    var n = c[i] = function(a, b) {
        this.$bar = c(b), a = this.options = c.extend({}, n.defaults, a || {}, this.$bar.data("options") || {}), b.direction = this.options.direction, this.classes = {
            directionClass: a.namespace + "-" + a.direction,
            barClass: a.barClass ? a.barClass : a.namespace,
            handleClass: a.handleClass ? a.handleClass : a.namespace + "-handle"
        }, "vertical" === this.options.direction ? this.attributes = {
            axis: "Y",
            position: "top",
            length: "height",
            clientLength: "clientHeight"
        } : "horizontal" === this.options.direction && (this.attributes = {
            axis: "X",
            position: "left",
            length: "width",
            clientLength: "clientWidth"
        }), this._states = {}, this._drag = {
            time: null,
            pointer: null
        }, this._frameId = null, this.handlePosition = 0, this.easing = n.easing[this.options.easing] || n.easing.ease, this.init()
    };
    n.defaults = {
        namespace: "asScrollbar",
        skin: null,
        handleSelector: null,
        handleTemplate: '<div class="{{handle}}"></div>',
        barClass: null,
        handleClass: null,
        disabledClass: "is-disabled",
        draggingClass: "is-dragging",
        hoveringClass: "is-hovering",
        direction: "vertical",
        barLength: null,
        handleLength: null,
        minHandleLength: 30,
        maxHandleLength: null,
        mouseDrag: !0,
        touchDrag: !0,
        pointerDrag: !0,
        clickMove: !0,
        clickMoveStep: .3,
        mousewheel: !0,
        mousewheelSpeed: 50,
        keyboard: !0,
        useCssTransforms3d: !0,
        useCssTransforms: !0,
        useCssTransitions: !0,
        duration: "500",
        easing: "ease"
    };
    var o = {};
    n.support = o,
        function(e) {
            function f(a, b) {
                var e = !1,
                    f = a.charAt(0).toUpperCase() + a.slice(1);
                return h[a] !== d && (e = a), e || c.each(i, function(a, b) {
                    return h[b + f] !== d ? (e = "-" + b.toLowerCase() + "-" + f, !1) : void 0
                }), b ? e : e ? !0 : !1
            }

            function g(a) {
                return f(a, !0)
            }
            var h = c("<support>").get(0).style,
                i = ["webkit", "Moz", "O", "ms"],
                j = {
                    transition: {
                        end: {
                            WebkitTransition: "webkitTransitionEnd",
                            MozTransition: "transitionend",
                            OTransition: "oTransitionEnd",
                            transition: "transitionend"
                        }
                    },
                    animation: {
                        end: {
                            WebkitAnimation: "webkitAnimationEnd",
                            MozAnimation: "animationend",
                            OAnimation: "oAnimationEnd",
                            animation: "animationend"
                        }
                    }
                },
                k = {
                    csstransforms: function() {
                        return !!f("transform")
                    },
                    csstransforms3d: function() {
                        return !!f("perspective")
                    },
                    csstransitions: function() {
                        return !!f("transition")
                    },
                    cssanimations: function() {
                        return !!f("animation")
                    }
                };
            k.csstransitions() && (e.transition = new String(g("transition")), e.transition.end = j.transition.end[e.transition]), k.cssanimations() && (e.animation = new String(g("animation")), e.animation.end = j.animation.end[e.animation]), k.csstransforms() && (e.transform = new String(g("transform")), e.transform3d = k.csstransforms3d()), e.touch = "ontouchstart" in a || a.DocumentTouch && b instanceof a.DocumentTouch ? !0 : !1, e.pointer = a.PointerEvent || a.MSPointerEvent ? !0 : !1, e.prefixPointerEvent = function(b) {
                return a.MSPointerEvent ? "MSPointer" + b.charAt(9).toUpperCase() + b.substr(10) : b
            }
        }(o);
    var p = function(a, b, c, d) {
        function e(a, b) {
            return 1 - 3 * b + 3 * a
        }

        function f(a, b) {
            return 3 * b - 6 * a
        }

        function g(a) {
            return 3 * a
        }

        function h(a, b, c) {
            return ((e(b, c) * a + f(b, c)) * a + g(b)) * a
        }

        function i(a, b, c) {
            return 3 * e(b, c) * a * a + 2 * f(b, c) * a + g(b)
        }

        function j(b) {
            for (var d = b, e = 0; 4 > e; ++e) {
                var f = i(d, a, c);
                if (0 === f) return d;
                var g = h(d, a, c) - b;
                d -= g / f
            }
            return d
        }
        return a === b && c === d ? {
            css: "linear",
            fn: function(a) {
                return a
            }
        } : {
            css: "cubic-bezier(" + a + "," + b + "," + c + "," + d + ")",
            fn: function(a) {
                return h(j(a), b, d)
            }
        }
    };
    c.extend(n.easing = {}, {
        ease: p(.25, .1, .25, 1),
        linear: p(0, 0, 1, 1),
        "ease-in": p(.42, 0, 1, 1),
        "ease-out": p(0, 0, .58, 1),
        "ease-in-out": p(.42, 0, .58, 1)
    }), n.prototype = {
        constructor: n,
        init: function() {
            var a = this.options;
            this.$handle = this.$bar.find(this.options.handleSelector), 0 === this.$handle.length ? this.$handle = c(a.handleTemplate.replace(/\{\{handle\}\}/g, this.classes.handleClass)).appendTo(this.$bar) : this.$handle.addClass(this.classes.handleClass), this.$bar.addClass(this.classes.barClass).addClass(this.classes.directionClass).attr("draggable", !1), a.skin && this.$bar.addClass(a.skin), null !== a.barLength && this.setBarLength(a.barLength), null !== a.handleLength && this.setHandleLength(a.handleLength), this.updateLength(), this.bindEvents()
        },
        trigger: function(a) {
            var b = Array.prototype.slice.call(arguments, 1),
                c = [this].concat(b);
            this.$bar.trigger(i + "::" + a, c), a = a.replace(/\b\w+\b/g, function(a) {
                return a.substring(0, 1).toUpperCase() + a.substring(1)
            });
            var d = "on" + a;
            "function" == typeof this.options[d] && this.options[d].apply(this, b)
        },
        is: function(a) {
            return this._states[a] && this._states[a] > 0
        },
        enter: function(a) {
            this._states[a] === d && (this._states[a] = 0), this._states[a]++
        },
        leave: function(a) {
            this._states[a]--
        },
        eventName: function(a) {
            if ("string" != typeof a || "" === a) return "." + this.options.namespace;
            a = a.split(" ");
            for (var b = a.length, c = 0; b > c; c++) a[c] = a[c] + "." + this.options.namespace;
            return a.join(" ")
        },
        bindEvents: function() {
            var a = this;
            this.options.mouseDrag && (this.$handle.on(this.eventName("mousedown"), c.proxy(this.onDragStart, this)), this.$handle.on(this.eventName("dragstart selectstart"), function() {
                return !1
            })), this.options.touchDrag && o.touch && (this.$handle.on(this.eventName("touchstart"), c.proxy(this.onDragStart, this)), this.$handle.on(this.eventName("touchcancel"), c.proxy(this.onDragEnd, this))), this.options.pointerDrag && o.pointer && (this.$handle.on(this.eventName(o.prefixPointerEvent("pointerdown")), c.proxy(this.onDragStart, this)), this.$handle.on(this.eventName(o.prefixPointerEvent("pointercancel")), c.proxy(this.onDragEnd, this))), this.options.clickMove && this.$bar.on(this.eventName("mousedown"), c.proxy(this.onClick, this)), this.options.mousewheel && this.$bar.on(this.eventName("mousewheel"), function(b, c) {
                var d = a.getHandlePosition();
                return 0 >= d && c > 0 ? !0 : d >= a.barLength && 0 > c ? !0 : (d -= a.options.mousewheelSpeed * c, a.move(d, !0), !1)
            }), this.$bar.on(this.eventName("mouseenter"), function() {
                a.$bar.addClass(a.options.hoveringClass), a.enter("hovering"), a.trigger("hover")
            }), this.$bar.on(this.eventName("mouseleave"), function() {
                a.$bar.removeClass(a.options.hoveringClass), a.is("hovering") && (a.leave("hovering"), a.trigger("hovered"))
            }), this.options.keyboard && c(b).on(this.eventName("keydown"), function(d) {
                if ((!d.isDefaultPrevented || !d.isDefaultPrevented()) && a.is("hovering")) {
                    for (var e = b.activeElement; e.shadowRoot;) e = e.shadowRoot.activeElement;
                    if (!c(e).is(":input,select,option,[contenteditable]")) {
                        var f = 0,
                            g = null;
                        switch (d.which) {
                            case 37:
                            case 63232:
                                f = -30;
                                break;
                            case 38:
                            case 63233:
                                f = -30;
                                break;
                            case 39:
                            case 63234:
                                f = 30;
                                break;
                            case 40:
                            case 63235:
                                f = 30;
                                break;
                            case 33:
                            case 63276:
                                f = -90;
                                break;
                            case 32:
                            case 34:
                            case 63277:
                                f = -90;
                                break;
                            case 35:
                            case 63275:
                                g = "100%";
                                break;
                            case 36:
                            case 63273:
                                g = 0;
                                break;
                            default:
                                return
                        }(f || null !== g) && (f ? a.moveBy(f, !0) : null !== g && a.moveTo(g, !0), d.preventDefault())
                    }
                }
            })
        },
        onClick: function(a) {
            if (3 !== a.which && a.target !== this.$handle[0]) {
                this._drag.time = (new Date).getTime(), this._drag.pointer = this.pointer(a);
                var b = this.$handle.offset(),
                    c = this.distance({
                        x: b.left,
                        y: b.top
                    }, this._drag.pointer),
                    d = 1;
                c > 0 ? c -= this.handleLength : (c = Math.abs(c), d = -1), c > this.barLength * this.options.clickMoveStep && (c = this.barLength * this.options.clickMoveStep), this.moveBy(d * c, !0)
            }
        },
        onDragStart: function(a) {
            var d = this;
            if (3 !== a.which) {
                this.$bar.addClass(this.options.draggingClass), this._drag.time = (new Date).getTime(), this._drag.pointer = this.pointer(a);
                var e = function() {
                    d.enter("dragging"), d.trigger("drag")
                };
                this.options.mouseDrag && (c(b).on(d.eventName("mouseup"), c.proxy(this.onDragEnd, this)), c(b).one(d.eventName("mousemove"), c.proxy(function() {
                    c(b).on(d.eventName("mousemove"), c.proxy(this.onDragMove, this)), e()
                }, this))), this.options.touchDrag && o.touch && (c(b).on(d.eventName("touchend"), c.proxy(this.onDragEnd, this)), c(b).one(d.eventName("touchmove"), c.proxy(function() {
                    c(b).on(d.eventName("touchmove"), c.proxy(this.onDragMove, this)), e()
                }, this))), this.options.pointerDrag && o.pointer && (c(b).on(d.eventName(o.prefixPointerEvent("pointerup")), c.proxy(this.onDragEnd, this)), c(b).one(d.eventName(o.prefixPointerEvent("pointermove")), c.proxy(function() {
                    c(b).on(d.eventName(o.prefixPointerEvent("pointermove")), c.proxy(this.onDragMove, this)), e()
                }, this))), c(b).on(d.eventName("blur"), c.proxy(this.onDragEnd, this))
            }
        },
        onDragMove: function(a) {
            var b = this.distance(this._drag.pointer, this.pointer(a));
            this.is("dragging") && (a.preventDefault(), this.moveBy(b, !0))
        },
        onDragEnd: function() {
            c(b).off(this.eventName("mousemove mouseup touchmove touchend pointermove pointerup MSPointerMove MSPointerUp blur")), this.$bar.removeClass(this.options.draggingClass), this.handlePosition = this.getHandlePosition(), this.is("dragging") && (this.leave("dragging"), this.trigger("dragged"))
        },
        pointer: function(b) {
            var c = {
                x: null,
                y: null
            };
            return b = b.originalEvent || b || a.event, b = b.touches && b.touches.length ? b.touches[0] : b.changedTouches && b.changedTouches.length ? b.changedTouches[0] : b, b.pageX ? (c.x = b.pageX, c.y = b.pageY) : (c.x = b.clientX, c.y = b.clientY), c
        },
        distance: function(a, b) {
            return "vertical" === this.options.direction ? b.y - a.y : b.x - a.x
        },
        setBarLength: function(a, b) {
            "undefined" != typeof a && this.$bar.css(this.attributes.length, a), b !== !1 && this.updateLength()
        },
        setHandleLength: function(a, b) {
            "undefined" != typeof a && (a < this.options.minHandleLength ? a = this.options.minHandleLength : this.options.maxHandleLength && a > this.options.maxHandleLength && (a = this.options.maxHandleLength), this.$handle.css(this.attributes.length, a), b !== !1 && this.updateLength(a))
        },
        updateLength: function(a, b) {
            this.handleLength = "undefined" != typeof a ? a : this.getHandleLenght(), this.barLength = "undefined" != typeof b ? b : this.getBarLength()
        },
        getBarLength: function() {
            return this.$bar[0][this.attributes.clientLength]
        },
        getHandleLenght: function() {
            return this.$handle[0][this.attributes.clientLength]
        },
        getHandlePosition: function() {
            var a;
            if (this.options.useCssTransforms && o.transform) {
                if (a = h(this.$handle.css(o.transform)), !a) return 0;
                a = "X" === this.attributes.axis ? a[12] || a[4] : a[13] || a[5]
            } else a = this.$handle.css(this.attributes.position);
            return parseFloat(a.replace("px", ""))
        },
        makeHandlePositionStyle: function(a) {
            var b, c = "0",
                d = "0";
            this.options.useCssTransforms && o.transform ? ("X" === this.attributes.axis ? c = a + "px" : d = a + "px", b = o.transform.toString(), a = this.options.useCssTransforms3d && o.transform3d ? "translate3d(" + c + "," + d + ",0)" : "translate(" + c + "," + d + ")") : b = this.attributes.position;
            var e = {};
            return e[b] = a, e
        },
        setHandlePosition: function(a) {
            var b = this.makeHandlePositionStyle(a);
            this.$handle.css(b), this.is("dragging") || (this.handlePosition = parseFloat(a))
        },
        moveTo: function(a, b, c) {
            var d = typeof a;
            "string" === d && (f(a) && (a = g(a) * (this.barLength - this.handleLength)), a = parseFloat(a), d = "number"), "number" === d && this.move(a, b, c)
        },
        moveBy: function(a, b, c) {
            var d = typeof a;
            "string" === d && (f(a) && (a = g(a) * (this.barLength - this.handleLength)), a = parseFloat(a), d = "number"), "number" === d && this.move(this.handlePosition + a, b, c)
        },
        move: function(a, b, c) {
            "number" != typeof a || this.is("disabled") || (0 > a ? a = 0 : a + this.handleLength > this.barLength && (a = this.barLength - this.handleLength), this.is("dragging") || c === !0 ? (this.setHandlePosition(a), b && this.trigger("change", a / (this.barLength - this.handleLength))) : this.doMove(a, this.options.duration, this.options.easing, b))
        },
        doMove: function(b, c, d, f) {
            this.enter("moving"), c = c ? c : this.options.duration, d = d ? d : this.options.easing;
            var g = this,
                h = this.makeHandlePositionStyle(b);
            for (var i in h) break;
            if (this.options.useCssTransitions && o.transition) g.enter("transition"), this.prepareTransition(i, c, d), this.$handle.one(o.transition.end, function() {
                g.$handle.css(o.transition, ""), f && g.trigger("change", b / (g.barLength - g.handleLength)), g.leave("transition"), g.leave("moving")
            }), g.setHandlePosition(b);
            else {
                g.enter("animating");
                var j = e(),
                    k = g.getHandlePosition(),
                    l = b,
                    m = function(b) {
                        var c = (b - j) / g.options.duration;
                        c > 1 && (c = 1), c = g.easing.fn(c);
                        var d = parseFloat(k + c * (l - k), 10);
                        g.setHandlePosition(d), f && g.trigger("change", d / (g.barLength - g.handleLength)), 1 === c ? (a.cancelAnimationFrame(g._frameId), g._frameId = null, g.leave("animating"), g.leave("moving")) : g._frameId = a.requestAnimationFrame(m)
                    };
                g._frameId = a.requestAnimationFrame(m)
            }
        },
        prepareTransition: function(a, b, d, e) {
            var f = [];
            a && f.push(a), b && (c.isNumeric(b) && (b += "ms"), f.push(b)), f.push(d ? d : this.easing.css), e && f.push(e), this.$handle.css(o.transition, f.join(" "))
        },
        enable: function() {
            this._states.disabled = 0, this.$bar.removeClass(this.options.disabledClass)
        },
        disable: function() {
            this._states.disabled = 1, this.$bar.addClass(this.options.disabledClass)
        },
        destory: function() {
            this.$bar.on(this.eventName())
        }
    }, c.fn[i] = function(a) {
        if ("string" != typeof a) return this.each(function() {
            c(this).data(i) || c(this).data(i, new n(a, this))
        });
        var b = Array.prototype.slice.call(arguments, 1);
        this.each(function() {
            var d = c(this).data(i);
            return d && c.isFunction(d[a]) && "_" !== a.charAt(0) ? void d[a].apply(d, b) : !1
        })
    }
}(window, document, jQuery, void 0),
function(a, b, c, d, e) {
    "use strict";

    function f() {
        return "undefined" != typeof a.performance && a.performance.now ? a.performance.now() : Date.now()
    }

    function g(a) {
        return "string" == typeof a && -1 != a.indexOf("%")
    }

    function h(a) {
        return 0 > a ? a = 0 : a > 1 && (a = 1), 100 * parseFloat(a).toFixed(4) + "%"
    }

    function i(a) {
        return parseFloat(a.slice(0, -1) / 100, 10)
    }
    var j = "asScrollable",
        k = 0,
        l = function() {
            var b, c, d;
            return c = a.navigator.userAgent, (b = /(?=.+Mac OS X)(?=.+Firefox)/.test(c)) ? (d = /Firefox\/\d{2}\./.exec(c), d && (d = d[0].replace(/\D+/g, "")), b && +d > 23) : !1
        }(),
        m = c[j] = function(a, b) {
            this.$element = c(b), a = this.options = c.extend({}, m.defaults, a || {}, this.$element.data("options") || {}), this.classes = {
                wrap: a.namespace,
                content: a.namespace + "-content",
                container: a.namespace + "-container",
                bar: a.namespace + "-bar",
                barHide: a.namespace + "-bar-hide",
                skin: a.skin
            }, this.attributes = {
                vertical: {
                    axis: "Y",
                    overflow: "overflow-y",
                    scroll: "scrollTop",
                    scrollLength: "scrollHeight",
                    pageOffset: "pageYOffset",
                    ffPadding: "padding-right",
                    length: "height",
                    clientLength: "clientHeight",
                    offset: "offsetHeight",
                    crossLength: "width",
                    crossClientLength: "clientWidth",
                    crossOffset: "offsetWidth"
                },
                horizontal: {
                    axis: "X",
                    overflow: "overflow-x",
                    scroll: "scrollLeft",
                    scrollLength: "scrollWidth",
                    pageOffset: "pageXOffset",
                    ffPadding: "padding-bottom",
                    length: "width",
                    clientLength: "clientWidth",
                    offset: "offsetWidth",
                    crossLength: "height",
                    crossClientLength: "clientHeight",
                    crossOffset: "offsetHeight"
                }
            }, this._states = {}, this.horizontal = null, this.vertical = null, this.$bar = null, this._frameId = null, this._timeoutId = null, this.instanceId = ++k, this.easing = d.easing[this.options.easing] || d.easing.ease;
            var e = this.$element.css("position");
            this.options.containerSelector ? (this.$container = this.$element.find(this.options.containerSelector), this.$wrap = this.$element, "static" == e && this.$wrap.css("position", "relative")) : (this.$container = this.$element.wrap("<div>"), this.$wrap = this.$container.parent(), this.$wrap.height(this.$element.height()), "static" !== e ? this.$wrap.css("position", e) : this.$wrap.css("position", "relative")), this.options.contentSelector ? this.$content = this.$container.find(this.options.contentSelector) : (this.$content = this.$container.wrap("<div>"), this.$container = this.$content.parent()), this.init()
        };
    m.defaults = {
        namespace: j,
        skin: null,
        contentSelector: null,
        containerSelector: null,
        enabledClass: "is-enabled",
        disabledClass: "is-disabled",
        draggingClass: "is-dragging",
        hoveringClass: "is-hovering",
        scrollingClass: "is-scrolling",
        direction: "vertical",
        showOnHover: !0,
        showOnBarHover: !1,
        duration: 500,
        easing: "ease-in",
        responsive: !0,
        throttle: 20,
        scrollbar: {}
    }, m.prototype = {
        constructor: m,
        init: function() {
            switch (this.options.direction) {
                case "vertical":
                    this.vertical = !0;
                    break;
                case "horizontal":
                    this.horizontal = !0;
                    break;
                case "both":
                    this.horizontal = !0, this.vertical = !0;
                    break;
                case "auto":
                    var a = this.$element.css("overflow-x"),
                        b = this.$element.css("overflow-y");
                    ("scroll" === a || "auto" === a) && (this.horizontal = !0), ("scroll" === b || "auto" === b) && (this.vertical = !0)
            }(this.vertical || this.horizontal) && (this.$wrap.addClass(this.classes.wrap), this.$container.addClass(this.classes.container), this.$content.addClass(this.classes.content), this.options.skin && this.$wrap.addClass(this.classes.skin), this.$wrap.addClass(this.options.enabledClass), this.vertical && (this.$wrap.addClass(this.classes.wrap + "-vertical"), this.initLayout("vertical"), this.createBar("vertical")), this.horizontal && (this.$wrap.addClass(this.classes.wrap + "-horizontal"), this.initLayout("horizontal"), this.createBar("horizontal")), this.bindEvents())
        },
        bindEvents: function() {
            var b = this,
                d = this.options;
            d.responsive && (c(a).on(this.eventNameWithId("orientationchange"), function() {
                b.update.call(b)
            }), c(a).on(this.eventNameWithId("resize"), this.throttle(function() {
                b.update.call(b)
            }, d.throttle))), (this.horizontal || this.vertical) && (this.$wrap.on(this.eventName("mouseenter"), function() {
                b.$wrap.addClass(b.options.hoveringClass), b.enter("hovering"), b.trigger("hover")
            }), this.$wrap.on(this.eventName("mouseleave"), function() {
                b.$wrap.removeClass(b.options.hoveringClass), b.is("hovering") && (b.leave("hovering"), b.trigger("hovered"))
            }), d.showOnHover && (d.showOnBarHover ? this.$bar.on("asScrollbar::hover", function() {
                b.showBar(this.direction)
            }).on("asScrollbar::hovered", function() {
                b.hideBar(this.direction)
            }) : (this.$element.on(j + "::hover", c.proxy(this.showBar, this)), this.$element.on(j + "::hovered", c.proxy(this.hideBar, this)))), this.$container.on(this.eventName("scroll"), function() {
                if (b.horizontal) {
                    var a = b.offsetLeft;
                    b.offsetLeft = b.getOffset("horizontal"), a !== b.offsetLeft && (b.trigger("scroll", b.getPercentOffset("horizontal"), "horizontal"), 0 === b.offsetLeft && b.trigger("scrolltop", "horizontal"), b.offsetLeft === b.getScrollLength("horizontal") && b.trigger("scrollend", "horizontal"))
                }
                if (b.vertical) {
                    var c = b.offsetTop;
                    b.offsetTop = b.getOffset("vertical"), c !== b.offsetTop && (b.trigger("scroll", b.getPercentOffset("vertical"), "vertical"), 0 === b.offsetTop && b.trigger("scrolltop", "vertical"), b.offsetTop === b.getScrollLength("vertical") && b.trigger("scrollend", "vertical"))
                }
            }), this.$element.on(j + "::scroll", function(a, c, d, e) {
                b.is("scrolling") || (b.enter("scrolling"), b.$wrap.addClass(b.options.scrollingClass));
                var f = c.getBarApi(e);
                f.moveTo(h(d), !1, !0), clearTimeout(b._timeoutId), b._timeoutId = setTimeout(function() {
                    b.$wrap.removeClass(b.options.scrollingClass), b.leave("scrolling")
                }, 200)
            }), this.$bar.on("asScrollbar::change", function(a, c, d) {
                b.scrollTo(this.direction, h(d), !1, !0)
            }), this.$bar.on("asScrollbar::drag", function() {
                b.$wrap.addClass(b.options.draggingClass)
            }).on("asScrollbar::dragged", function() {
                b.$wrap.removeClass(b.options.draggingClass)
            }))
        },
        unbindEvents: function() {
            this.$wrap.off(this.eventName()), this.$element.off(j + "::scroll").off(j + "::hover").off(j + "::hovered"), this.$container.off(this.eventName()), c(a).off(this.eventNameWithId())
        },
        initLayout: function(a) {
            "vertical" === a && this.$container.css("height", this.$wrap.height());
            var b = this.attributes[a],
                c = this.$container[0],
                d = this.getBrowserScrollbarWidth(a),
                e = c.parentNode[b.crossClientLength];
            this.$content.css(b.crossLength, e + "px"), this.$container.css(b.crossLength, d + e + "px"), 0 === d && l && this.$container.css(b.ffPadding, 16)
        },
        createBar: function(a) {
            var b = c.extend(this.options.scrollbar, {
                    namespace: this.classes.bar,
                    direction: a,
                    useCssTransitions: !1,
                    keyboard: !1
                }),
                d = c("<div>");
            d.asScrollbar(b), this.options.showOnHover && d.addClass(this.classes.barHide), d.appendTo(this.$wrap), this["$" + a] = d, this.$bar = null === this.$bar ? d : this.$bar.add(d), this.updateBarHandle(a)
        },
        trigger: function(a) {
            var b = Array.prototype.slice.call(arguments, 1),
                c = [this].concat(b);
            this.$element.trigger(j + "::" + a, c), a = a.replace(/\b\w+\b/g, function(a) {
                return a.substring(0, 1).toUpperCase() + a.substring(1)
            });
            var d = "on" + a;
            "function" == typeof this.options[d] && this.options[d].apply(this, b)
        },
        is: function(a) {
            return this._states[a] && this._states[a] > 0
        },
        enter: function(a) {
            this._states[a] === e && (this._states[a] = 0), this._states[a]++
        },
        leave: function(a) {
            this._states[a]--
        },
        eventName: function(a) {
            if ("string" != typeof a || "" === a) return "." + this.options.namespace;
            a = a.split(" ");
            for (var b = a.length, c = 0; b > c; c++) a[c] = a[c] + "." + this.options.namespace;
            return a.join(" ")
        },
        eventNameWithId: function(a) {
            if ("string" != typeof a || "" === a) return this.options.namespace + "-" + this.instanceId;
            a = a.split(" ");
            for (var b = a.length, c = 0; b > c; c++) a[c] = a[c] + "." + this.options.namespace + "-" + this.instanceId;
            return a.join(" ")
        },
        throttle: function(a, b) {
            var c, d, e, f = Date.now || function() {
                    return (new Date).getTime()
                },
                g = null,
                h = 0,
                i = function() {
                    h = f(), g = null, e = a.apply(c, d), c = d = null
                };
            return function() {
                var j = f(),
                    k = b - (j - h);
                return c = this, d = arguments, 0 >= k ? (clearTimeout(g), g = null, h = j, e = a.apply(c, d), c = d = null) : g || (g = setTimeout(i, k)), e
            }
        },
        getBrowserScrollbarWidth: function(a) {
            var c, d, e = this.attributes[a];
            return e.scrollbarWidth ? e.scrollbarWidth : (c = b.createElement("div"), d = c.style, d.position = "absolute", d.width = "100px", d.height = "100px", d.overflow = "scroll", d.top = "-9999px", b.body.appendChild(c), e.scrollbarWidth = c[e.offset] - c[e.clientLength], b.body.removeChild(c), e.scrollbarWidth)
        },
        getOffset: function(a) {
            var b = this.attributes[a],
                c = this.$container[0];
            return c[b.pageOffset] || c[b.scroll]
        },
        getPercentOffset: function(a) {
            return this.getOffset(a) / this.getScrollLength(a)
        },
        getContainerLength: function(a) {
            return this.$container[0][this.attributes[a].clientLength]
        },
        getScrollLength: function(a) {
            var b = this.$content[0][this.attributes[a].scrollLength];
            return b - this.getContainerLength(a)
        },
        scrollTo: function(a, b, c, d) {
            var e = typeof b;
            "string" === e && (g(b) && (b = i(b) * this.getScrollLength(a)), b = parseFloat(b), e = "number"), "number" === e && this.move(a, b, c, d)
        },
        scrollBy: function(a, b, c, d) {
            var e = typeof b;
            "string" === e && (g(b) && (b = i(b) * this.getScrollLength(a)), b = parseFloat(b), e = "number"), "number" === e && this.move(a, this.getOffset(a) + b, c, d)
        },
        move: function(b, c, d, e) {
            if (this[b] === !0 && "number" == typeof c) {
                var g = this;
                this.enter("moving"), 0 > c ? c = 0 : c > this.getScrollLength(b) && (c = this.getScrollLength(b));
                var h = this.attributes[b],
                    i = function() {
                        g.leave("moving")
                    };
                if (e) this.$container[0][h.scroll] = c, d !== !1 && this.trigger("change", c / this.getScrollLength(b)), i();
                else {
                    g.enter("animating");
                    var j = f(),
                        k = g.getOffset(b),
                        l = c,
                        m = function(e) {
                            var f = (e - j) / g.options.duration;
                            f > 1 && (f = 1), f = g.easing.fn(f);
                            var n = parseFloat(k + f * (l - k), 10);
                            g.$container[0][h.scroll] = n, d !== !1 && g.trigger("change", c / g.getScrollLength(b)), 1 === f ? (a.cancelAnimationFrame(g._frameId), g._frameId = null, g.leave("animating"), i()) : g._frameId = a.requestAnimationFrame(m)
                        };
                    g._frameId = a.requestAnimationFrame(m)
                }
            }
        },
        scrollXto: function(a, b, c) {
            return this.scrollTo("horizontal", a, b, c)
        },
        scrollYto: function(a, b, c) {
            return this.scrollTo("vertical", a, b, c)
        },
        scrollXby: function(a, b, c) {
            return this.scrollBy("horizontal", a, b, c)
        },
        scrollYby: function(a, b, c) {
            return this.scrollBy("vertical", a, b, c)
        },
        getBar: function(a) {
            return a && this["$" + a] ? this["$" + a] : this.$bar
        },
        getBarApi: function(a) {
            return this.getBar(a).data("asScrollbar")
        },
        getBarX: function() {
            return this.getBar("horizontal")
        },
        getBarY: function() {
            return this.getBar("vertical")
        },
        showBar: function(a) {
            this.getBar(a).removeClass(this.classes.barHide)
        },
        hideBar: function(a) {
            this.getBar(a).addClass(this.classes.barHide)
        },
        updateBarHandle: function(a) {
            var b = this.getBarApi(a),
                c = this.getScrollLength(a),
                d = this.getContainerLength(a);
            c > 0 ? (b.is("disabled") && b.enable(), b.setHandleLength(b.getBarLength() * d / (c + d), !0)) : b.disable()
        },
        disable: function() {
            this.is("disabled") || (this.enter("disabled"), this.$wrap.addClass(this.options.disabledClass).removeClass(this.options.enabledClass), this.unbindEvents(), this.unStyle())
        },
        enable: function() {
            this.is("disabled") && (this.leave("disabled"), this.$wrap.addClass(this.options.enabledClass).removeClass(this.options.disabledClass), this.bindEvents(), this.update())
        },
        update: function() {
            this.is("disabled") || (this.vertical && (this.initLayout("vertical"), this.updateBarHandle("vertical")), this.horizontal && (this.initLayout("horizontal"), this.updateBarHandle("horizontal")))
        },
        unStyle: function() {
            this.horizontal && (this.$container.css({
                height: "",
                "padding-bottom": ""
            }), this.$content.css({
                height: ""
            })), this.vertical && (this.$container.css({
                width: "",
                height: "",
                "padding-right": ""
            }), this.$content.css({
                width: ""
            })), this.options.containerSelector || this.$wrap.css({
                height: ""
            })
        },
        destory: function() {
            this.$wrap.removeClass(this.classes.wrap + "-vertical").removeClass(this.classes.wrap + "-horizontal").removeClass(this.classes.wrap).removeClass(this.options.enabledClass).removeClass(this.classes.disabledClass), this.unStyle(), this.$bar && this.$bar.remove(), this.unbindEvents(), this.options.containerSelector ? this.$container.removeClass(this.classes.container) : this.$container.unwrap(), this.options.contentSelector || this.$content.unwrap(), this.$content.removeClass(this.classes.content), this.$element.data(j, null)
        }
    }, c.fn[j] = function(a) {
        if ("string" != typeof a) return this.each(function() {
            c(this).data(j) ? c(this).data(j).update() : c(this).data(j, new m(a, this))
        });
        var b = a,
            d = Array.prototype.slice.call(arguments, 1);
        if (/^\_/.test(b)) return !1;
        if (!/^(get)/.test(b)) return this.each(function() {
            var a = c.data(this, j);
            a && "function" == typeof a[b] && a[b].apply(a, d)
        });
        var e = this.first().data(j);
        return e && "function" == typeof e[b] ? e[b].apply(e, d) : this
    }
}(window, document, jQuery, function(a) {
    "use strict";
    return void 0 === a.asScrollbar ? !1 : a.asScrollbar
}(jQuery));
/*! jQuery asHoverScroll - v0.2.3 - 2015-12-17
 * https://github.com/amazingSurge/jquery-asHoverScroll
 * Copyright (c) 2015 amazingSurge; Licensed GPL */
! function(a) {
    "use strict";
    var b = "asHoverScroll",
        c = 0,
        d = a[b] = function(b, e) {
            this.element = b, this.$element = a(b), this.options = a.extend({}, d.defaults, e, this.$element.data()), this.$list = a(this.options.list, this.$element), this.classes = {
                disabled: this.options.namespace + "-disabled"
            }, "vertical" === this.options.direction ? this.attributes = {
                page: "pageY",
                axis: "Y",
                position: "top",
                length: "height",
                offset: "offsetTop",
                client: "clientY",
                clientLength: "clientHeight"
            } : "horizontal" === this.options.direction && (this.attributes = {
                page: "pageX",
                axis: "X",
                position: "left",
                length: "width",
                offset: "offsetLeft",
                client: "clientX",
                clientLength: "clientWidth"
            }), this._states = {}, this._scroll = {
                time: null,
                pointer: null
            }, this.instanceId = ++c, this._trigger("init"), this.init()
        };
    d.defaults = {
        namespace: b,
        list: "> ul",
        item: "> li",
        exception: null,
        direction: "vertical",
        fixed: !1,
        mouseMove: !0,
        touchScroll: !0,
        pointerScroll: !0,
        useCssTransforms: !0,
        useCssTransforms3d: !0,
        boundary: 10,
        throttle: 20,
        onEnter: function() {
            a(this).siblings().removeClass("is-active"), a(this).addClass("is-active")
        },
        onLeave: function() {
            a(this).removeClass("is-active")
        }
    };
    var e = {};
    d.support = e,
        function(b) {
            function c(b, c) {
                var d = !1,
                    g = b.charAt(0).toUpperCase() + b.slice(1);
                return a.each((b + " " + f.join(g + " ") + g).split(" "), function(a, b) {
                    return void 0 !== e[b] ? (d = c ? b : !0, !1) : void 0
                }), d
            }

            function d(a) {
                return c(a, !0)
            }
            var e = a("<support>").get(0).style,
                f = ["webkit", "Moz", "O", "ms"],
                g = {
                    transition: {
                        end: {
                            WebkitTransition: "webkitTransitionEnd",
                            MozTransition: "transitionend",
                            OTransition: "oTransitionEnd",
                            transition: "transitionend"
                        }
                    },
                    animation: {
                        end: {
                            WebkitAnimation: "webkitAnimationEnd",
                            MozAnimation: "animationend",
                            OAnimation: "oAnimationEnd",
                            animation: "animationend"
                        }
                    }
                },
                h = {
                    csstransforms: function() {
                        return !!c("transform")
                    },
                    csstransforms3d: function() {
                        return !!c("perspective")
                    },
                    csstransitions: function() {
                        return !!c("transition")
                    },
                    cssanimations: function() {
                        return !!c("animation")
                    }
                };
            h.csstransitions() && (b.transition = new String(d("transition")), b.transition.end = g.transition.end[b.transition]), h.cssanimations() && (b.animation = new String(d("animation")), b.animation.end = g.animation.end[b.animation]), h.csstransforms() && (b.transform = new String(d("transform")), b.transform3d = h.csstransforms3d()), b.touch = "ontouchstart" in window || window.DocumentTouch && document instanceof window.DocumentTouch ? !0 : !1, b.pointer = window.PointerEvent || window.MSPointerEvent ? !0 : !1, b.convertMatrixToArray = function(a) {
                return a && "matrix" == a.substr(0, 6) ? a.replace(/^.*\((.*)\)$/g, "$1").replace(/px/g, "").split(/, +/) : !1
            }, b.prefixPointerEvent = function(a) {
                return window.MSPointerEvent ? "MSPointer" + a.charAt(9).toUpperCase() + a.substr(10) : a
            }
        }(e), d.prototype = {
            constructor: d,
            init: function() {
                this.initPosition(), this.updateLength(), this.bindEvents()
            },
            bindEvents: function() {
                var b = this,
                    c = ["enter"],
                    d = [];
                this.options.mouseMove && (this.$element.on(this.eventName("mousemove"), a.proxy(this.onMove, this)), c.push("mouseenter"), d.push("mouseleave")), this.options.touchScroll && e.touch && (this.$element.on(this.eventName("touchstart"), a.proxy(this.onScrollStart, this)), this.$element.on(this.eventName("touchcancel"), a.proxy(this.onScrollEnd, this))), this.options.pointerScroll && e.pointer && (this.$element.on(this.eventName(e.prefixPointerEvent("pointerdown")), a.proxy(this.onScrollStart, this)), this.$element.on(this.eventName(e.prefixPointerEvent("pointercancel")), a.proxy(this.onScrollEnd, this))), this.$list.on(this.eventName(c.join(" ")), this.options.item, function() {
                    b.is("scrolling") || b.options.onEnter.call(this)
                }), this.$list.on(this.eventName(d.join(" ")), this.options.item, function() {
                    b.is("scrolling") || b.options.onLeave.call(this)
                }), a(window).on(this.eventNameWithId("orientationchange"), function() {
                    b.update.call(b)
                }), a(window).on(this.eventNameWithId("resize"), this.throttle(function() {
                    b.update.call(b)
                }, this.options.throttle))
            },
            unbindEvents: function() {
                this.$element.off(this.eventName()), this.$list.off(this.eventName()), a(window).off(this.eventNameWithId())
            },
            onScrollStart: function(b) {
                var c = this;
                if (3 !== b.which && !(a(b.target).closest(this.options.exception).length > 0)) {
                    this._scroll.time = (new Date).getTime(), this._scroll.pointer = this.pointer(b), this._scroll.start = this.getPosition(), this._scroll.moved = !1;
                    var d = function() {
                        c.enter("scrolling"), c._trigger("scroll")
                    };
                    this.options.touchScroll && e.touch && (a(document).on(c.eventName("touchend"), a.proxy(this.onScrollEnd, this)), a(document).one(c.eventName("touchmove"), a.proxy(function() {
                        a(document).on(c.eventName("touchmove"), a.proxy(this.onScrollMove, this)), d()
                    }, this))), this.options.pointerScroll && e.pointer && (a(document).on(c.eventName(e.prefixPointerEvent("pointerup")), a.proxy(this.onScrollEnd, this)), a(document).one(c.eventName(e.prefixPointerEvent("pointermove")), a.proxy(function() {
                        a(document).on(c.eventName(e.prefixPointerEvent("pointermove")), a.proxy(this.onScrollMove, this)), d()
                    }, this))), a(document).on(c.eventName("blur"), a.proxy(this.onScrollEnd, this)), b.preventDefault()
                }
            },
            onScrollMove: function(a) {
                this._scroll.updated = this.pointer(a);
                var b = this.distance(this._scroll.pointer, this._scroll.updated);
                if ((Math.abs(this._scroll.pointer.x - this._scroll.updated.x) > 10 || Math.abs(this._scroll.pointer.y - this._scroll.updated.y) > 10) && (this._scroll.moved = !0), this.is("scrolling")) {
                    a.preventDefault();
                    var c = this._scroll.start + b;
                    this.canScroll() && (c > 0 ? c = 0 : c < this.containerLength - this.listLength && (c = this.containerLength - this.listLength), this.updatePosition(c))
                }
            },
            onScrollEnd: function(b) {
                var c = this;
                this.options.touchScroll && e.touch && a(document).off(this.eventName("touchmove touchend")), this.options.pointerScroll && e.pointer && a(document).off(this.eventName(e.prefixPointerEvent("pointerup"))), a(document).off(this.eventName("blur")), this._scroll.moved || a(b.target).trigger("tap"), this.is("scrolling") && setTimeout(function() {
                    c.leave("scrolling"), c._trigger("scrolled")
                }, 500)
            },
            pointer: function(a) {
                var b = {
                    x: null,
                    y: null
                };
                return a = this.getEvent(a), a.pageX && !this.options.fixed ? (b.x = a.pageX, b.y = a.pageY) : (b.x = a.clientX, b.y = a.clientY), b
            },
            getEvent: function(a) {
                return a = a.originalEvent || a || window.event, a = a.touches && a.touches.length ? a.touches[0] : a.changedTouches && a.changedTouches.length ? a.changedTouches[0] : a
            },
            distance: function(a, b) {
                return "vertical" === this.options.direction ? b.y - a.y : b.x - a.x
            },
            onMove: function(a) {
                if (a = this.getEvent(a), !this.is("scrolling") && this.isMatchScroll(a)) {
                    var b, c, d;
                    b = a[this.attributes.page] && !this.options.fixed ? a[this.attributes.page] : a[this.attributes.client], d = b - this.element[this.attributes.offset], d < this.options.boundary ? c = 0 : (c = (d - this.options.boundary) * this.multiplier, c > this.listLength - this.containerLength && (c = this.listLength - this.containerLength)), this.updatePosition(-c)
                }
            },
            isMatchScroll: function(b) {
                return !this.is("disabled") && this.canScroll() ? this.options.exception ? 0 === a(b.target).closest(this.options.exception).length ? !0 : !1 : !0 : !1
            },
            canScroll: function() {
                return this.listLength > this.containerLength
            },
            getContainerLength: function() {
                return this.element[this.attributes.clientLength]
            },
            getListhLength: function() {
                return this.$list[0][this.attributes.clientLength]
            },
            updateLength: function() {
                this.containerLength = this.getContainerLength(), this.listLength = this.getListhLength(), this.multiplier = (this.listLength - this.containerLength) / (this.containerLength - 2 * this.options.boundary)
            },
            initPosition: function() {
                var a = this.makePositionStyle(0);
                this.$list.css(a)
            },
            getPosition: function() {
                var a;
                if (this.options.useCssTransforms && e.transform) {
                    if (a = e.convertMatrixToArray(this.options.useCssTransforms3d && e.transform3d ? this.$list.css(e.transform) : this.$list.css(e.transform)), !a) return 0;
                    a = "X" === this.attributes.axis ? a[12] || a[4] : a[13] || a[5]
                } else a = this.$list.css(this.attributes.position);
                return parseFloat(a.replace("px", ""))
            },
            makePositionStyle: function(a) {
                var b, c = "0px",
                    d = "0px";
                this.options.useCssTransforms && e.transform ? ("X" === this.attributes.axis ? c = a + "px" : d = a + "px", b = e.transform.toString(), a = this.options.useCssTransforms3d && e.transform3d ? "translate3d(" + c + "," + d + ",0px)" : "translate(" + c + "," + d + ")") : b = this.attributes.position;
                var f = {};
                return f[b] = a, f
            },
            updatePosition: function(a) {
                var b = this.makePositionStyle(a);
                this.$list.css(b)
            },
            update: function() {
                this.is("disabled") || (this.updateLength(), this.canScroll() || this.initPosition())
            },
            eventName: function(a) {
                if ("string" != typeof a || "" === a) return "." + b;
                a = a.split(" ");
                for (var c = a.length, d = 0; c > d; d++) a[d] = a[d] + "." + b;
                return a.join(" ")
            },
            eventNameWithId: function(a) {
                if ("string" != typeof a || "" === a) return this.options.namespace + "-" + this.instanceId;
                a = a.split(" ");
                for (var b = a.length, c = 0; b > c; c++) a[c] = a[c] + "." + this.options.namespace + "-" + this.instanceId;
                return a.join(" ")
            },
            _trigger: function(a) {
                var c = Array.prototype.slice.call(arguments, 1),
                    d = [this].concat(c);
                this.$element.trigger(b + "::" + a, d), a = a.replace(/\b\w+\b/g, function(a) {
                    return a.substring(0, 1).toUpperCase() + a.substring(1)
                });
                var e = "on" + a;
                "function" == typeof this.options[e] && this.options[e].apply(this, c)
            },
            is: function(a) {
                return this._states[a] && this._states[a] > 0
            },
            enter: function(a) {
                void 0 === this._states[a] && (this._states[a] = 0), this._states[a]++
            },
            leave: function(a) {
                this._states[a]--
            },
            throttle: function(a, b) {
                var c, d, e, f = Date.now || function() {
                        return (new Date).getTime()
                    },
                    g = null,
                    h = 0,
                    i = function() {
                        h = f(), g = null, e = a.apply(c, d), c = d = null
                    };
                return function() {
                    var j = f(),
                        k = b - (j - h);
                    return c = this, d = arguments, 0 >= k ? (clearTimeout(g), g = null, h = j, e = a.apply(c, d), c = d = null) : g || (g = setTimeout(i, k)), e
                }
            },
            enable: function() {
                this.is("disabled") && (this.leave("disabled"), this.$element.removeClass(this.classes.disabled), this.bindEvents())
            },
            disable: function() {
                this.is("disabled") || (this.enter("disabled"), this.initPosition(), this.$element.addClass(this.classes.disabled), this.unbindEvents())
            },
            destory: function() {
                this.$element.removeClass(this.classes.disabled), this.unbindEvents(), this.$element.data(b, null), this._trigger("destory")
            }
        }, a.fn[b] = function(c) {
            if ("string" != typeof c) return this.each(function() {
                a.data(this, b) || a.data(this, b, new d(this, c))
            });
            var e = c,
                f = Array.prototype.slice.call(arguments, 1);
            if (/^\_/.test(e)) return !1;
            if (!/^(get)/.test(e)) return this.each(function() {
                var c = a.data(this, b);
                c && "function" == typeof c[e] && c[e].apply(c, f)
            });
            var g = this.first().data(b);
            return g && "function" == typeof g[e] ? g[e].apply(g, f) : void 0
        }
}(jQuery);
(function() {
    function require(name) {
        var module = require.modules[name];
        if (!module) throw new Error('failed to require "' + name + '"');
        if (!("exports" in module) && typeof module.definition === "function") {
            module.client = module.component = true;
            module.definition.call(this, module.exports = {}, module);
            delete module.definition
        }
        return module.exports
    }
    require.loader = "component";
    require.helper = {};
    require.helper.semVerSort = function(a, b) {
        var aArray = a.version.split(".");
        var bArray = b.version.split(".");
        for (var i = 0; i < aArray.length; ++i) {
            var aInt = parseInt(aArray[i], 10);
            var bInt = parseInt(bArray[i], 10);
            if (aInt === bInt) {
                var aLex = aArray[i].substr(("" + aInt).length);
                var bLex = bArray[i].substr(("" + bInt).length);
                if (aLex === "" && bLex !== "") return 1;
                if (aLex !== "" && bLex === "") return -1;
                if (aLex !== "" && bLex !== "") return aLex > bLex ? 1 : -1;
                continue
            } else if (aInt > bInt) {
                return 1
            } else {
                return -1
            }
        }
        return 0
    };
    require.latest = function(name, returnPath) {
        function showError(name) {
            throw new Error('failed to find latest module of "' + name + '"')
        }
        var versionRegexp = /(.*)~(.*)@v?(\d+\.\d+\.\d+[^\/]*)$/;
        var remoteRegexp = /(.*)~(.*)/;
        if (!remoteRegexp.test(name)) showError(name);
        var moduleNames = Object.keys(require.modules);
        var semVerCandidates = [];
        var otherCandidates = [];
        for (var i = 0; i < moduleNames.length; i++) {
            var moduleName = moduleNames[i];
            if (new RegExp(name + "@").test(moduleName)) {
                var version = moduleName.substr(name.length + 1);
                var semVerMatch = versionRegexp.exec(moduleName);
                if (semVerMatch != null) {
                    semVerCandidates.push({
                        version: version,
                        name: moduleName
                    })
                } else {
                    otherCandidates.push({
                        version: version,
                        name: moduleName
                    })
                }
            }
        }
        if (semVerCandidates.concat(otherCandidates).length === 0) {
            showError(name)
        }
        if (semVerCandidates.length > 0) {
            var module = semVerCandidates.sort(require.helper.semVerSort).pop().name;
            if (returnPath === true) {
                return module
            }
            return require(module)
        }
        var module = otherCandidates.sort(function(a, b) {
            return a.name > b.name
        })[0].name;
        if (returnPath === true) {
            return module
        }
        return require(module)
    };
    require.modules = {};
    require.register = function(name, definition) {
        require.modules[name] = {
            definition: definition
        }
    };
    require.define = function(name, exports) {
        require.modules[name] = {
            exports: exports
        }
    };
    require.register("abpetkov~transitionize@0.0.3", function(exports, module) {
        module.exports = Transitionize;

        function Transitionize(element, props) {
            if (!(this instanceof Transitionize)) return new Transitionize(element, props);
            this.element = element;
            this.props = props || {};
            this.init()
        }
        Transitionize.prototype.isSafari = function() {
            return /Safari/.test(navigator.userAgent) && /Apple Computer/.test(navigator.vendor)
        };
        Transitionize.prototype.init = function() {
            var transitions = [];
            for (var key in this.props) {
                transitions.push(key + " " + this.props[key])
            }
            this.element.style.transition = transitions.join(", ");
            if (this.isSafari()) this.element.style.webkitTransition = transitions.join(", ")
        }
    });
    require.register("ftlabs~fastclick@v0.6.11", function(exports, module) {
        function FastClick(layer) {
            "use strict";
            var oldOnClick, self = this;
            this.trackingClick = false;
            this.trackingClickStart = 0;
            this.targetElement = null;
            this.touchStartX = 0;
            this.touchStartY = 0;
            this.lastTouchIdentifier = 0;
            this.touchBoundary = 10;
            this.layer = layer;
            if (!layer || !layer.nodeType) {
                throw new TypeError("Layer must be a document node")
            }
            this.onClick = function() {
                return FastClick.prototype.onClick.apply(self, arguments)
            };
            this.onMouse = function() {
                return FastClick.prototype.onMouse.apply(self, arguments)
            };
            this.onTouchStart = function() {
                return FastClick.prototype.onTouchStart.apply(self, arguments)
            };
            this.onTouchMove = function() {
                return FastClick.prototype.onTouchMove.apply(self, arguments)
            };
            this.onTouchEnd = function() {
                return FastClick.prototype.onTouchEnd.apply(self, arguments)
            };
            this.onTouchCancel = function() {
                return FastClick.prototype.onTouchCancel.apply(self, arguments)
            };
            if (FastClick.notNeeded(layer)) {
                return
            }
            if (this.deviceIsAndroid) {
                layer.addEventListener("mouseover", this.onMouse, true);
                layer.addEventListener("mousedown", this.onMouse, true);
                layer.addEventListener("mouseup", this.onMouse, true)
            }
            layer.addEventListener("click", this.onClick, true);
            layer.addEventListener("touchstart", this.onTouchStart, false);
            layer.addEventListener("touchmove", this.onTouchMove, false);
            layer.addEventListener("touchend", this.onTouchEnd, false);
            layer.addEventListener("touchcancel", this.onTouchCancel, false);
            if (!Event.prototype.stopImmediatePropagation) {
                layer.removeEventListener = function(type, callback, capture) {
                    var rmv = Node.prototype.removeEventListener;
                    if (type === "click") {
                        rmv.call(layer, type, callback.hijacked || callback, capture)
                    } else {
                        rmv.call(layer, type, callback, capture)
                    }
                };
                layer.addEventListener = function(type, callback, capture) {
                    var adv = Node.prototype.addEventListener;
                    if (type === "click") {
                        adv.call(layer, type, callback.hijacked || (callback.hijacked = function(event) {
                            if (!event.propagationStopped) {
                                callback(event)
                            }
                        }), capture)
                    } else {
                        adv.call(layer, type, callback, capture)
                    }
                }
            }
            if (typeof layer.onclick === "function") {
                oldOnClick = layer.onclick;
                layer.addEventListener("click", function(event) {
                    oldOnClick(event)
                }, false);
                layer.onclick = null
            }
        }
        FastClick.prototype.deviceIsAndroid = navigator.userAgent.indexOf("Android") > 0;
        FastClick.prototype.deviceIsIOS = /iP(ad|hone|od)/.test(navigator.userAgent);
        FastClick.prototype.deviceIsIOS4 = FastClick.prototype.deviceIsIOS && /OS 4_\d(_\d)?/.test(navigator.userAgent);
        FastClick.prototype.deviceIsIOSWithBadTarget = FastClick.prototype.deviceIsIOS && /OS ([6-9]|\d{2})_\d/.test(navigator.userAgent);
        FastClick.prototype.needsClick = function(target) {
            "use strict";
            switch (target.nodeName.toLowerCase()) {
                case "button":
                case "select":
                case "textarea":
                    if (target.disabled) {
                        return true
                    }
                    break;
                case "input":
                    if (this.deviceIsIOS && target.type === "file" || target.disabled) {
                        return true
                    }
                    break;
                case "label":
                case "video":
                    return true
            }
            return /\bneedsclick\b/.test(target.className)
        };
        FastClick.prototype.needsFocus = function(target) {
            "use strict";
            switch (target.nodeName.toLowerCase()) {
                case "textarea":
                    return true;
                case "select":
                    return !this.deviceIsAndroid;
                case "input":
                    switch (target.type) {
                        case "button":
                        case "checkbox":
                        case "file":
                        case "image":
                        case "radio":
                        case "submit":
                            return false
                    }
                    return !target.disabled && !target.readOnly;
                default:
                    return /\bneedsfocus\b/.test(target.className)
            }
        };
        FastClick.prototype.sendClick = function(targetElement, event) {
            "use strict";
            var clickEvent, touch;
            if (document.activeElement && document.activeElement !== targetElement) {
                document.activeElement.blur()
            }
            touch = event.changedTouches[0];
            clickEvent = document.createEvent("MouseEvents");
            clickEvent.initMouseEvent(this.determineEventType(targetElement), true, true, window, 1, touch.screenX, touch.screenY, touch.clientX, touch.clientY, false, false, false, false, 0, null);
            clickEvent.forwardedTouchEvent = true;
            targetElement.dispatchEvent(clickEvent)
        };
        FastClick.prototype.determineEventType = function(targetElement) {
            "use strict";
            if (this.deviceIsAndroid && targetElement.tagName.toLowerCase() === "select") {
                return "mousedown"
            }
            return "click"
        };
        FastClick.prototype.focus = function(targetElement) {
            "use strict";
            var length;
            if (this.deviceIsIOS && targetElement.setSelectionRange && targetElement.type.indexOf("date") !== 0 && targetElement.type !== "time") {
                length = targetElement.value.length;
                targetElement.setSelectionRange(length, length)
            } else {
                targetElement.focus()
            }
        };
        FastClick.prototype.updateScrollParent = function(targetElement) {
            "use strict";
            var scrollParent, parentElement;
            scrollParent = targetElement.fastClickScrollParent;
            if (!scrollParent || !scrollParent.contains(targetElement)) {
                parentElement = targetElement;
                do {
                    if (parentElement.scrollHeight > parentElement.offsetHeight) {
                        scrollParent = parentElement;
                        targetElement.fastClickScrollParent = parentElement;
                        break
                    }
                    parentElement = parentElement.parentElement
                } while (parentElement)
            }
            if (scrollParent) {
                scrollParent.fastClickLastScrollTop = scrollParent.scrollTop
            }
        };
        FastClick.prototype.getTargetElementFromEventTarget = function(eventTarget) {
            "use strict";
            if (eventTarget.nodeType === Node.TEXT_NODE) {
                return eventTarget.parentNode
            }
            return eventTarget
        };
        FastClick.prototype.onTouchStart = function(event) {
            "use strict";
            var targetElement, touch, selection;
            if (event.targetTouches.length > 1) {
                return true
            }
            targetElement = this.getTargetElementFromEventTarget(event.target);
            touch = event.targetTouches[0];
            if (this.deviceIsIOS) {
                selection = window.getSelection();
                if (selection.rangeCount && !selection.isCollapsed) {
                    return true
                }
                if (!this.deviceIsIOS4) {
                    if (touch.identifier === this.lastTouchIdentifier) {
                        event.preventDefault();
                        return false
                    }
                    this.lastTouchIdentifier = touch.identifier;
                    this.updateScrollParent(targetElement)
                }
            }
            this.trackingClick = true;
            this.trackingClickStart = event.timeStamp;
            this.targetElement = targetElement;
            this.touchStartX = touch.pageX;
            this.touchStartY = touch.pageY;
            if (event.timeStamp - this.lastClickTime < 200) {
                event.preventDefault()
            }
            return true
        };
        FastClick.prototype.touchHasMoved = function(event) {
            "use strict";
            var touch = event.changedTouches[0],
                boundary = this.touchBoundary;
            if (Math.abs(touch.pageX - this.touchStartX) > boundary || Math.abs(touch.pageY - this.touchStartY) > boundary) {
                return true
            }
            return false
        };
        FastClick.prototype.onTouchMove = function(event) {
            "use strict";
            if (!this.trackingClick) {
                return true
            }
            if (this.targetElement !== this.getTargetElementFromEventTarget(event.target) || this.touchHasMoved(event)) {
                this.trackingClick = false;
                this.targetElement = null
            }
            return true
        };
        FastClick.prototype.findControl = function(labelElement) {
            "use strict";
            if (labelElement.control !== undefined) {
                return labelElement.control
            }
            if (labelElement.htmlFor) {
                return document.getElementById(labelElement.htmlFor)
            }
            return labelElement.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")
        };
        FastClick.prototype.onTouchEnd = function(event) {
            "use strict";
            var forElement, trackingClickStart, targetTagName, scrollParent, touch, targetElement = this.targetElement;
            if (!this.trackingClick) {
                return true
            }
            if (event.timeStamp - this.lastClickTime < 200) {
                this.cancelNextClick = true;
                return true
            }
            this.cancelNextClick = false;
            this.lastClickTime = event.timeStamp;
            trackingClickStart = this.trackingClickStart;
            this.trackingClick = false;
            this.trackingClickStart = 0;
            if (this.deviceIsIOSWithBadTarget) {
                touch = event.changedTouches[0];
                targetElement = document.elementFromPoint(touch.pageX - window.pageXOffset, touch.pageY - window.pageYOffset) || targetElement;
                targetElement.fastClickScrollParent = this.targetElement.fastClickScrollParent
            }
            targetTagName = targetElement.tagName.toLowerCase();
            if (targetTagName === "label") {
                forElement = this.findControl(targetElement);
                if (forElement) {
                    this.focus(targetElement);
                    if (this.deviceIsAndroid) {
                        return false
                    }
                    targetElement = forElement
                }
            } else if (this.needsFocus(targetElement)) {
                if (event.timeStamp - trackingClickStart > 100 || this.deviceIsIOS && window.top !== window && targetTagName === "input") {
                    this.targetElement = null;
                    return false
                }
                this.focus(targetElement);
                if (!this.deviceIsIOS4 || targetTagName !== "select") {
                    this.targetElement = null;
                    event.preventDefault()
                }
                return false
            }
            if (this.deviceIsIOS && !this.deviceIsIOS4) {
                scrollParent = targetElement.fastClickScrollParent;
                if (scrollParent && scrollParent.fastClickLastScrollTop !== scrollParent.scrollTop) {
                    return true
                }
            }
            if (!this.needsClick(targetElement)) {
                event.preventDefault();
                this.sendClick(targetElement, event)
            }
            return false
        };
        FastClick.prototype.onTouchCancel = function() {
            "use strict";
            this.trackingClick = false;
            this.targetElement = null
        };
        FastClick.prototype.onMouse = function(event) {
            "use strict";
            if (!this.targetElement) {
                return true
            }
            if (event.forwardedTouchEvent) {
                return true
            }
            if (!event.cancelable) {
                return true
            }
            if (!this.needsClick(this.targetElement) || this.cancelNextClick) {
                if (event.stopImmediatePropagation) {
                    event.stopImmediatePropagation()
                } else {
                    event.propagationStopped = true
                }
                event.stopPropagation();
                event.preventDefault();
                return false
            }
            return true
        };
        FastClick.prototype.onClick = function(event) {
            "use strict";
            var permitted;
            if (this.trackingClick) {
                this.targetElement = null;
                this.trackingClick = false;
                return true
            }
            if (event.target.type === "submit" && event.detail === 0) {
                return true
            }
            permitted = this.onMouse(event);
            if (!permitted) {
                this.targetElement = null
            }
            return permitted
        };
        FastClick.prototype.destroy = function() {
            "use strict";
            var layer = this.layer;
            if (this.deviceIsAndroid) {
                layer.removeEventListener("mouseover", this.onMouse, true);
                layer.removeEventListener("mousedown", this.onMouse, true);
                layer.removeEventListener("mouseup", this.onMouse, true)
            }
            layer.removeEventListener("click", this.onClick, true);
            layer.removeEventListener("touchstart", this.onTouchStart, false);
            layer.removeEventListener("touchmove", this.onTouchMove, false);
            layer.removeEventListener("touchend", this.onTouchEnd, false);
            layer.removeEventListener("touchcancel", this.onTouchCancel, false)
        };
        FastClick.notNeeded = function(layer) {
            "use strict";
            var metaViewport;
            var chromeVersion;
            if (typeof window.ontouchstart === "undefined") {
                return true
            }
            chromeVersion = +(/Chrome\/([0-9]+)/.exec(navigator.userAgent) || [, 0])[1];
            if (chromeVersion) {
                if (FastClick.prototype.deviceIsAndroid) {
                    metaViewport = document.querySelector("meta[name=viewport]");
                    if (metaViewport) {
                        if (metaViewport.content.indexOf("user-scalable=no") !== -1) {
                            return true
                        }
                        if (chromeVersion > 31 && window.innerWidth <= window.screen.width) {
                            return true
                        }
                    }
                } else {
                    return true
                }
            }
            if (layer.style.msTouchAction === "none") {
                return true
            }
            return false
        };
        FastClick.attach = function(layer) {
            "use strict";
            return new FastClick(layer)
        };
        if (typeof define !== "undefined" && define.amd) {
            define(function() {
                "use strict";
                return FastClick
            })
        } else if (typeof module !== "undefined" && module.exports) {
            module.exports = FastClick.attach;
            module.exports.FastClick = FastClick
        } else {
            window.FastClick = FastClick
        }
    });
    require.register("component~indexof@0.0.3", function(exports, module) {
        module.exports = function(arr, obj) {
            if (arr.indexOf) return arr.indexOf(obj);
            for (var i = 0; i < arr.length; ++i) {
                if (arr[i] === obj) return i
            }
            return -1
        }
    });
    require.register("component~classes@1.2.1", function(exports, module) {
        var index = require("component~indexof@0.0.3");
        var re = /\s+/;
        var toString = Object.prototype.toString;
        module.exports = function(el) {
            return new ClassList(el)
        };

        function ClassList(el) {
            if (!el) throw new Error("A DOM element reference is required");
            this.el = el;
            this.list = el.classList
        }
        ClassList.prototype.add = function(name) {
            if (this.list) {
                this.list.add(name);
                return this
            }
            var arr = this.array();
            var i = index(arr, name);
            if (!~i) arr.push(name);
            this.el.className = arr.join(" ");
            return this
        };
        ClassList.prototype.remove = function(name) {
            if ("[object RegExp]" == toString.call(name)) {
                return this.removeMatching(name)
            }
            if (this.list) {
                this.list.remove(name);
                return this
            }
            var arr = this.array();
            var i = index(arr, name);
            if (~i) arr.splice(i, 1);
            this.el.className = arr.join(" ");
            return this
        };
        ClassList.prototype.removeMatching = function(re) {
            var arr = this.array();
            for (var i = 0; i < arr.length; i++) {
                if (re.test(arr[i])) {
                    this.remove(arr[i])
                }
            }
            return this
        };
        ClassList.prototype.toggle = function(name, force) {
            if (this.list) {
                if ("undefined" !== typeof force) {
                    if (force !== this.list.toggle(name, force)) {
                        this.list.toggle(name)
                    }
                } else {
                    this.list.toggle(name)
                }
                return this
            }
            if ("undefined" !== typeof force) {
                if (!force) {
                    this.remove(name)
                } else {
                    this.add(name)
                }
            } else {
                if (this.has(name)) {
                    this.remove(name)
                } else {
                    this.add(name)
                }
            }
            return this
        };
        ClassList.prototype.array = function() {
            var str = this.el.className.replace(/^\s+|\s+$/g, "");
            var arr = str.split(re);
            if ("" === arr[0]) arr.shift();
            return arr
        };
        ClassList.prototype.has = ClassList.prototype.contains = function(name) {
            return this.list ? this.list.contains(name) : !!~index(this.array(), name)
        }
    });
    require.register("component~event@0.1.4", function(exports, module) {
        var bind = window.addEventListener ? "addEventListener" : "attachEvent",
            unbind = window.removeEventListener ? "removeEventListener" : "detachEvent",
            prefix = bind !== "addEventListener" ? "on" : "";
        exports.bind = function(el, type, fn, capture) {
            el[bind](prefix + type, fn, capture || false);
            return fn
        };
        exports.unbind = function(el, type, fn, capture) {
            el[unbind](prefix + type, fn, capture || false);
            return fn
        }
    });
    require.register("component~query@0.0.3", function(exports, module) {
        function one(selector, el) {
            return el.querySelector(selector)
        }
        exports = module.exports = function(selector, el) {
            el = el || document;
            return one(selector, el)
        };
        exports.all = function(selector, el) {
            el = el || document;
            return el.querySelectorAll(selector)
        };
        exports.engine = function(obj) {
            if (!obj.one) throw new Error(".one callback required");
            if (!obj.all) throw new Error(".all callback required");
            one = obj.one;
            exports.all = obj.all;
            return exports
        }
    });
    require.register("component~matches-selector@0.1.5", function(exports, module) {
        var query = require("component~query@0.0.3");
        var proto = Element.prototype;
        var vendor = proto.matches || proto.webkitMatchesSelector || proto.mozMatchesSelector || proto.msMatchesSelector || proto.oMatchesSelector;
        module.exports = match;

        function match(el, selector) {
            if (!el || el.nodeType !== 1) return false;
            if (vendor) return vendor.call(el, selector);
            var nodes = query.all(selector, el.parentNode);
            for (var i = 0; i < nodes.length; ++i) {
                if (nodes[i] == el) return true
            }
            return false
        }
    });
    require.register("component~closest@0.1.4", function(exports, module) {
        var matches = require("component~matches-selector@0.1.5");
        module.exports = function(element, selector, checkYoSelf, root) {
            element = checkYoSelf ? {
                parentNode: element
            } : element;
            root = root || document;
            while ((element = element.parentNode) && element !== document) {
                if (matches(element, selector)) return element;
                if (element === root) return
            }
        }
    });
    require.register("component~delegate@0.2.3", function(exports, module) {
        var closest = require("component~closest@0.1.4"),
            event = require("component~event@0.1.4");
        exports.bind = function(el, selector, type, fn, capture) {
            return event.bind(el, type, function(e) {
                var target = e.target || e.srcElement;
                e.delegateTarget = closest(target, selector, true, el);
                if (e.delegateTarget) fn.call(el, e)
            }, capture)
        };
        exports.unbind = function(el, type, fn, capture) {
            event.unbind(el, type, fn, capture)
        }
    });
    require.register("component~events@1.0.9", function(exports, module) {
        var events = require("component~event@0.1.4");
        var delegate = require("component~delegate@0.2.3");
        module.exports = Events;

        function Events(el, obj) {
            if (!(this instanceof Events)) return new Events(el, obj);
            if (!el) throw new Error("element required");
            if (!obj) throw new Error("object required");
            this.el = el;
            this.obj = obj;
            this._events = {}
        }
        Events.prototype.sub = function(event, method, cb) {
            this._events[event] = this._events[event] || {};
            this._events[event][method] = cb
        };
        Events.prototype.bind = function(event, method) {
            var e = parse(event);
            var el = this.el;
            var obj = this.obj;
            var name = e.name;
            var method = method || "on" + name;
            var args = [].slice.call(arguments, 2);

            function cb() {
                var a = [].slice.call(arguments).concat(args);
                obj[method].apply(obj, a)
            }
            if (e.selector) {
                cb = delegate.bind(el, e.selector, name, cb)
            } else {
                events.bind(el, name, cb)
            }
            this.sub(name, method, cb);
            return cb
        };
        Events.prototype.unbind = function(event, method) {
            if (0 == arguments.length) return this.unbindAll();
            if (1 == arguments.length) return this.unbindAllOf(event);
            var bindings = this._events[event];
            if (!bindings) return;
            var cb = bindings[method];
            if (!cb) return;
            events.unbind(this.el, event, cb)
        };
        Events.prototype.unbindAll = function() {
            for (var event in this._events) {
                this.unbindAllOf(event)
            }
        };
        Events.prototype.unbindAllOf = function(event) {
            var bindings = this._events[event];
            if (!bindings) return;
            for (var method in bindings) {
                this.unbind(event, method)
            }
        };

        function parse(event) {
            var parts = event.split(/ +/);
            return {
                name: parts.shift(),
                selector: parts.join(" ")
            }
        }
    });
    require.register("switchery", function(exports, module) {
        var transitionize = require("abpetkov~transitionize@0.0.3"),
            fastclick = require("ftlabs~fastclick@v0.6.11"),
            classes = require("component~classes@1.2.1"),
            events = require("component~events@1.0.9");
        module.exports = Switchery;
        var defaults = {
            color: "#64bd63",
            secondaryColor: "#dfdfdf",
            jackColor: "#fff",
            jackSecondaryColor: null,
            className: "switchery",
            disabled: false,
            disabledOpacity: .5,
            speed: "0.4s",
            size: "default"
        };

        function Switchery(element, options) {
            if (!(this instanceof Switchery)) return new Switchery(element, options);
            this.element = element;
            this.options = options || {};
            for (var i in defaults) {
                if (this.options[i] == null) {
                    this.options[i] = defaults[i]
                }
            }
            if (this.element != null && this.element.type == "checkbox") this.init();
            if (this.isDisabled() === true) this.disable()
        }
        Switchery.prototype.hide = function() {
            this.element.style.display = "none"
        };
        Switchery.prototype.show = function() {
            var switcher = this.create();
            this.insertAfter(this.element, switcher)
        };
        Switchery.prototype.create = function() {
            this.switcher = document.createElement("span");
            this.jack = document.createElement("small");
            this.switcher.appendChild(this.jack);
            this.switcher.className = this.options.className;
            this.events = events(this.switcher, this);
            return this.switcher
        };
        Switchery.prototype.insertAfter = function(reference, target) {
            reference.parentNode.insertBefore(target, reference.nextSibling)
        };
        Switchery.prototype.setPosition = function(clicked) {
            var checked = this.isChecked(),
                switcher = this.switcher,
                jack = this.jack;
            if (clicked && checked) checked = false;
            else if (clicked && !checked) checked = true;
            if (checked === true) {
                this.element.checked = true;
                if (window.getComputedStyle) jack.style.left = parseInt(window.getComputedStyle(switcher).width) - parseInt(window.getComputedStyle(jack).width) + "px";
                else jack.style.left = parseInt(switcher.currentStyle["width"]) - parseInt(jack.currentStyle["width"]) + "px";
                if (this.options.color) this.colorize();
                this.setSpeed()
            } else {
                jack.style.left = 0;
                this.element.checked = false;
                this.switcher.style.boxShadow = "inset 0 0 0 0 " + this.options.secondaryColor;
                this.switcher.style.borderColor = this.options.secondaryColor;
                this.switcher.style.backgroundColor = this.options.secondaryColor !== defaults.secondaryColor ? this.options.secondaryColor : "#fff";
                this.jack.style.backgroundColor = this.options.jackSecondaryColor !== this.options.jackColor ? this.options.jackSecondaryColor : this.options.jackColor;
                this.setSpeed()
            }
        };
        Switchery.prototype.setSpeed = function() {
            var switcherProp = {},
                jackProp = {
                    "background-color": this.options.speed,
                    left: this.options.speed.replace(/[a-z]/, "") / 2 + "s"
                };
            if (this.isChecked()) {
                switcherProp = {
                    border: this.options.speed,
                    "box-shadow": this.options.speed,
                    "background-color": this.options.speed.replace(/[a-z]/, "") * 3 + "s"
                }
            } else {
                switcherProp = {
                    border: this.options.speed,
                    "box-shadow": this.options.speed
                }
            }
            transitionize(this.switcher, switcherProp);
            transitionize(this.jack, jackProp)
        };
        Switchery.prototype.setSize = function() {
            var small = "switchery-small",
                normal = "switchery-default",
                large = "switchery-large";
            switch (this.options.size) {
                case "small":
                    classes(this.switcher).add(small);
                    break;
                case "large":
                    classes(this.switcher).add(large);
                    break;
                default:
                    classes(this.switcher).add(normal);
                    break
            }
        };
        Switchery.prototype.colorize = function() {
            var switcherHeight = this.switcher.offsetHeight / 2;
            this.switcher.style.backgroundColor = this.options.color;
            this.switcher.style.borderColor = this.options.color;
            this.switcher.style.boxShadow = "inset 0 0 0 " + switcherHeight + "px " + this.options.color;
            this.jack.style.backgroundColor = this.options.jackColor
        };
        Switchery.prototype.handleOnchange = function(state) {
            if (document.dispatchEvent) {
                var event = document.createEvent("HTMLEvents");
                event.initEvent("change", true, true);
                this.element.dispatchEvent(event)
            } else {
                this.element.fireEvent("onchange")
            }
        };
        Switchery.prototype.handleChange = function() {
            var self = this,
                el = this.element;
            if (el.addEventListener) {
                el.addEventListener("change", function() {
                    self.setPosition()
                })
            } else {
                el.attachEvent("onchange", function() {
                    self.setPosition()
                })
            }
        };
        Switchery.prototype.handleClick = function() {
            var switcher = this.switcher;
            fastclick(switcher);
            this.events.bind("click", "bindClick")
        };
        Switchery.prototype.bindClick = function() {
            var parent = this.element.parentNode.tagName.toLowerCase(),
                labelParent = parent === "label" ? false : true;
            this.setPosition(labelParent);
            this.handleOnchange(this.element.checked)
        };
        Switchery.prototype.markAsSwitched = function() {
            this.element.setAttribute("data-switchery", true)
        };
        Switchery.prototype.markedAsSwitched = function() {
            return this.element.getAttribute("data-switchery")
        };
        Switchery.prototype.init = function() {
            this.hide();
            this.show();
            this.setSize();
            this.setPosition();
            this.markAsSwitched();
            this.handleChange();
            this.handleClick()
        };
        Switchery.prototype.isChecked = function() {
            return this.element.checked
        };
        Switchery.prototype.isDisabled = function() {
            return this.options.disabled || this.element.disabled || this.element.readOnly
        };
        Switchery.prototype.destroy = function() {
            this.events.unbind()
        };
        Switchery.prototype.enable = function() {
            if (this.options.disabled) this.options.disabled = false;
            if (this.element.disabled) this.element.disabled = false;
            if (this.element.readOnly) this.element.readOnly = false;
            this.switcher.style.opacity = 1;
            this.events.bind("click", "bindClick")
        };
        Switchery.prototype.disable = function() {
            if (!this.options.disabled) this.options.disabled = true;
            if (!this.element.disabled) this.element.disabled = true;
            if (!this.element.readOnly) this.element.readOnly = true;
            this.switcher.style.opacity = this.options.disabledOpacity;
            this.destroy()
        }
    });
    if (typeof exports == "object") {
        module.exports = require("switchery")
    } else if (typeof define == "function" && define.amd) {
        define("Switchery", [], function() {
            return require("switchery")
        })
    } else {
        (this || window)["Switchery"] = require("switchery")
    }
})();
(function(C, p) {
    "object" === typeof exports ? p(exports) : "function" === typeof define && define.amd ? define(["exports"], p) : p(C)
})(this, function(C) {
    function p(a) {
        this._targetElement = a;
        this._introItems = [];
        this._options = {
            nextLabel: "Next &rarr;",
            prevLabel: "&larr; Back",
            skipLabel: "Skip",
            doneLabel: "Done",
            tooltipPosition: "bottom",
            tooltipClass: "",
            highlightClass: "",
            exitOnEsc: !0,
            exitOnOverlayClick: !0,
            showStepNumbers: !0,
            keyboardNavigation: !0,
            showButtons: !0,
            showBullets: !0,
            showProgress: !1,
            scrollToElement: !0,
            overlayOpacity: 0.8,
            positionPrecedence: ["bottom", "top", "right", "left"],
            disableInteraction: !1,
            hintPosition: "top-middle",
            hintButtonLabel: "Got it"
        }
    }

    function P(a) {
        var b = [],
            c = this;
        if (this._options.steps)
            for (var d = 0, f = this._options.steps.length; d < f; d++) {
                var e = y(this._options.steps[d]);
                e.step = b.length + 1;
                "string" === typeof e.element && (e.element = document.querySelector(e.element));
                if ("undefined" === typeof e.element || null == e.element) {
                    var g = document.querySelector(".introjsFloatingElement");
                    null == g && (g = document.createElement("div"),
                        g.className = "introjsFloatingElement", document.body.appendChild(g));
                    e.element = g;
                    e.position = "floating"
                }
                null != e.element && b.push(e)
            } else {
                f = a.querySelectorAll("*[data-intro]");
                if (1 > f.length) return !1;
                d = 0;
                for (e = f.length; d < e; d++) {
                    var g = f[d],
                        k = parseInt(g.getAttribute("data-step"), 10);
                    0 < k && (b[k - 1] = {
                        element: g,
                        intro: g.getAttribute("data-intro"),
                        step: parseInt(g.getAttribute("data-step"), 10),
                        tooltipClass: g.getAttribute("data-tooltipClass"),
                        highlightClass: g.getAttribute("data-highlightClass"),
                        position: g.getAttribute("data-position") ||
                            this._options.tooltipPosition
                    })
                }
                d = k = 0;
                for (e = f.length; d < e; d++)
                    if (g = f[d], null == g.getAttribute("data-step")) {
                        for (;
                            "undefined" != typeof b[k];) k++;
                        b[k] = {
                            element: g,
                            intro: g.getAttribute("data-intro"),
                            step: k + 1,
                            tooltipClass: g.getAttribute("data-tooltipClass"),
                            highlightClass: g.getAttribute("data-highlightClass"),
                            position: g.getAttribute("data-position") || this._options.tooltipPosition
                        }
                    }
            }
        d = [];
        for (f = 0; f < b.length; f++) b[f] && d.push(b[f]);
        b = d;
        b.sort(function(a, c) {
            return a.step - c.step
        });
        c._introItems = b;
        Q.call(c, a) &&
            (z.call(c), a.querySelector(".introjs-skipbutton"), a.querySelector(".introjs-nextbutton"), c._onKeyDown = function(b) {
                if (27 === b.keyCode && !0 == c._options.exitOnEsc) void 0 != c._introExitCallback && c._introExitCallback.call(c), A.call(c, a);
                else if (37 === b.keyCode) D.call(c);
                else if (39 === b.keyCode) z.call(c);
                else if (13 === b.keyCode) {
                    var d = b.target || b.srcElement;
                    d && 0 < d.className.indexOf("introjs-prevbutton") ? D.call(c) : d && 0 < d.className.indexOf("introjs-skipbutton") ? (c._introItems.length - 1 == c._currentStep && "function" ===
                        typeof c._introCompleteCallback && c._introCompleteCallback.call(c), void 0 != c._introExitCallback && c._introExitCallback.call(c), A.call(c, a)) : z.call(c);
                    b.preventDefault ? b.preventDefault() : b.returnValue = !1
                }
            }, c._onResize = function(a) {
                r.call(c, document.querySelector(".introjs-helperLayer"));
                r.call(c, document.querySelector(".introjs-tooltipReferenceLayer"))
            }, window.addEventListener ? (this._options.keyboardNavigation && window.addEventListener("keydown", c._onKeyDown, !0), window.addEventListener("resize", c._onResize, !0)) : document.attachEvent && (this._options.keyboardNavigation && document.attachEvent("onkeydown", c._onKeyDown), document.attachEvent("onresize", c._onResize)));
        return !1
    }

    function y(a) {
        if (null == a || "object" != typeof a || "undefined" != typeof a.nodeType) return a;
        var b = {},
            c;
        for (c in a) b[c] = "undefined" != typeof jQuery && a[c] instanceof jQuery ? a[c] : y(a[c]);
        return b
    }

    function z() {
        this._direction = "forward";
        "undefined" === typeof this._currentStep ? this._currentStep = 0 : ++this._currentStep;
        if (this._introItems.length <= this._currentStep) "function" ===
            typeof this._introCompleteCallback && this._introCompleteCallback.call(this), A.call(this, this._targetElement);
        else {
            var a = this._introItems[this._currentStep];
            "undefined" !== typeof this._introBeforeChangeCallback && this._introBeforeChangeCallback.call(this, a.element);
            K.call(this, a)
        }
    }

    function D() {
        this._direction = "backward";
        if (0 === this._currentStep) return !1;
        var a = this._introItems[--this._currentStep];
        "undefined" !== typeof this._introBeforeChangeCallback && this._introBeforeChangeCallback.call(this, a.element);
        K.call(this, a)
    }

    function A(a) {
        var b = a.querySelector(".introjs-overlay");
        if (null != b) {
            b.style.opacity = 0;
            setTimeout(function() {
                b.parentNode && b.parentNode.removeChild(b)
            }, 500);
            var c = a.querySelector(".introjs-helperLayer");
            c && c.parentNode.removeChild(c);
            (c = a.querySelector(".introjs-tooltipReferenceLayer")) && c.parentNode.removeChild(c);
            (a = a.querySelector(".introjs-disableInteraction")) && a.parentNode.removeChild(a);
            (a = document.querySelector(".introjsFloatingElement")) && a.parentNode.removeChild(a);
            if (a = document.querySelector(".introjs-showElement")) a.className =
                a.className.replace(/introjs-[a-zA-Z]+/g, "").replace(/^\s+|\s+$/g, "");
            if ((a = document.querySelectorAll(".introjs-fixParent")) && 0 < a.length)
                for (c = a.length - 1; 0 <= c; c--) a[c].className = a[c].className.replace(/introjs-fixParent/g, "").replace(/^\s+|\s+$/g, "");
            window.removeEventListener ? window.removeEventListener("keydown", this._onKeyDown, !0) : document.detachEvent && document.detachEvent("onkeydown", this._onKeyDown);
            this._currentStep = void 0
        }
    }

    function F(a, b, c, d, f) {
        var e = "",
            g, k;
        f = f || !1;
        b.style.top = null;
        b.style.right =
            null;
        b.style.bottom = null;
        b.style.left = null;
        b.style.marginLeft = null;
        b.style.marginTop = null;
        c.style.display = "inherit";
        "undefined" != typeof d && null != d && (d.style.top = null, d.style.left = null);
        if (this._introItems[this._currentStep]) {
            e = this._introItems[this._currentStep];
            e = "string" === typeof e.tooltipClass ? e.tooltipClass : this._options.tooltipClass;
            b.className = ("introjs-tooltip " + e).replace(/^\s+|\s+$/g, "");
            k = this._introItems[this._currentStep].position;
            if (("auto" == k || "auto" == this._options.tooltipPosition) &&
                "floating" != k) {
                e = k;
                g = this._options.positionPrecedence.slice();
                k = G();
                var x = t(b).height + 10,
                    q = t(b).width + 20,
                    l = t(a),
                    m = "floating";
                l.left + q > k.width || 0 > l.left + l.width / 2 - q ? (s(g, "bottom"), s(g, "top")) : (l.height + l.top + x > k.height && s(g, "bottom"), 0 > l.top - x && s(g, "top"));
                l.width + l.left + q > k.width && s(g, "right");
                0 > l.left - q && s(g, "left");
                0 < g.length && (m = g[0]);
                e && "auto" != e && -1 < g.indexOf(e) && (m = e);
                k = m
            }
            e = t(a);
            a = t(b);
            g = G();
            switch (k) {
                case "top":
                    c.className = "introjs-arrow bottom";
                    H(e, f ? 0 : 15, a, g, b);
                    b.style.bottom = e.height + 20 +
                        "px";
                    break;
                case "right":
                    b.style.left = e.width + 20 + "px";
                    e.top + a.height > g.height ? (c.className = "introjs-arrow left-bottom", b.style.top = "-" + (a.height - e.height - 20) + "px") : c.className = "introjs-arrow left";
                    break;
                case "left":
                    f || !0 != this._options.showStepNumbers || (b.style.top = "15px");
                    e.top + a.height > g.height ? (b.style.top = "-" + (a.height - e.height - 20) + "px", c.className = "introjs-arrow right-bottom") : c.className = "introjs-arrow right";
                    b.style.right = e.width + 20 + "px";
                    break;
                case "floating":
                    c.style.display = "none";
                    b.style.left =
                        "50%";
                    b.style.top = "50%";
                    b.style.marginLeft = "-" + a.width / 2 + "px";
                    b.style.marginTop = "-" + a.height / 2 + "px";
                    "undefined" != typeof d && null != d && (d.style.left = "-" + (a.width / 2 + 18) + "px", d.style.top = "-" + (a.height / 2 + 18) + "px");
                    break;
                case "bottom-right-aligned":
                    c.className = "introjs-arrow top-right";
                    L(e, 0, a, b);
                    b.style.top = e.height + 20 + "px";
                    break;
                case "bottom-middle-aligned":
                    c.className = "introjs-arrow top-middle";
                    c = e.width / 2 - a.width / 2;
                    f && (c += 5);
                    L(e, c, a, b) && (b.style.right = null, H(e, c, a, g, b));
                    b.style.top = e.height + 20 + "px";
                    break;
                default:
                    c.className = "introjs-arrow top", H(e, 0, a, g, b), b.style.top = e.height + 20 + "px"
            }
        }
    }

    function H(a, b, c, d, f) {
        if (a.left + b + c.width > d.width) return f.style.left = d.width - c.width - a.left + "px", !1;
        f.style.left = b + "px";
        return !0
    }

    function L(a, b, c, d) {
        if (0 > a.left + a.width - b - c.width) return d.style.left = -a.left + "px", !1;
        d.style.right = b + "px";
        return !0
    }

    function s(a, b) {
        -1 < a.indexOf(b) && a.splice(a.indexOf(b), 1)
    }

    function r(a) {
        if (a && this._introItems[this._currentStep]) {
            var b = this._introItems[this._currentStep],
                c = t(b.element),
                d = 10;
            I(b.element) && (a.className += " introjs-fixedTooltip");
            "floating" == b.position && (d = 0);
            a.setAttribute("style", "width: " + (c.width + d) + "px; height:" + (c.height + d) + "px; top:" + (c.top - 5) + "px;left: " + (c.left - 5) + "px;")
        }
    }

    function R() {
        var a = document.querySelector(".introjs-disableInteraction");
        null === a && (a = document.createElement("div"), a.className = "introjs-disableInteraction", this._targetElement.appendChild(a));
        r.call(this, a)
    }

    function K(a) {
        "undefined" !== typeof this._introChangeCallback && this._introChangeCallback.call(this,
            a.element);
        var b = this,
            c = document.querySelector(".introjs-helperLayer"),
            d = document.querySelector(".introjs-tooltipReferenceLayer"),
            f = "introjs-helperLayer";
        t(a.element);
        "string" === typeof a.highlightClass && (f += " " + a.highlightClass);
        "string" === typeof this._options.highlightClass && (f += " " + this._options.highlightClass);
        if (null != c) {
            var e = d.querySelector(".introjs-helperNumberLayer"),
                g = d.querySelector(".introjs-tooltiptext"),
                k = d.querySelector(".introjs-arrow"),
                x = d.querySelector(".introjs-tooltip"),
                q = d.querySelector(".introjs-skipbutton"),
                l = d.querySelector(".introjs-prevbutton"),
                m = d.querySelector(".introjs-nextbutton");
            c.className = f;
            x.style.opacity = 0;
            x.style.display = "none";
            if (null != e) {
                var h = this._introItems[0 <= a.step - 2 ? a.step - 2 : 0];
                if (null != h && "forward" == this._direction && "floating" == h.position || "backward" == this._direction && "floating" == a.position) e.style.opacity = 0
            }
            r.call(b, c);
            r.call(b, d);
            if ((h = document.querySelectorAll(".introjs-fixParent")) && 0 < h.length)
                for (f = h.length - 1; 0 <= f; f--) h[f].className = h[f].className.replace(/introjs-fixParent/g,
                    "").replace(/^\s+|\s+$/g, "");
            h = document.querySelector(".introjs-showElement");
            h.className = h.className.replace(/introjs-[a-zA-Z]+/g, "").replace(/^\s+|\s+$/g, "");
            b._lastShowElementTimer && clearTimeout(b._lastShowElementTimer);
            b._lastShowElementTimer = setTimeout(function() {
                null != e && (e.innerHTML = a.step);
                g.innerHTML = a.intro;
                x.style.display = "block";
                F.call(b, a.element, x, k, e);
                d.querySelector(".introjs-bullets li > a.active").className = "";
                d.querySelector('.introjs-bullets li > a[data-stepnumber="' + a.step + '"]').className =
                    "active";
                d.querySelector(".introjs-progress .introjs-progressbar").setAttribute("style", "width:" + M.call(b) + "%;");
                x.style.opacity = 1;
                e && (e.style.opacity = 1); - 1 === m.tabIndex ? q.focus() : m.focus()
            }, 350)
        } else {
            var p = document.createElement("div"),
                l = document.createElement("div"),
                c = document.createElement("div"),
                n = document.createElement("div"),
                s = document.createElement("div"),
                w = document.createElement("div"),
                E = document.createElement("div"),
                u = document.createElement("div");
            p.className = f;
            l.className = "introjs-tooltipReferenceLayer";
            r.call(b, p);
            r.call(b, l);
            this._targetElement.appendChild(p);
            this._targetElement.appendChild(l);
            c.className = "introjs-arrow";
            s.className = "introjs-tooltiptext";
            s.innerHTML = a.intro;
            w.className = "introjs-bullets";
            !1 === this._options.showBullets && (w.style.display = "none");
            for (var p = document.createElement("ul"), f = 0, C = this._introItems.length; f < C; f++) {
                var y = document.createElement("li"),
                    B = document.createElement("a");
                B.onclick = function() {
                    b.goToStep(this.getAttribute("data-stepnumber"))
                };
                f === a.step - 1 && (B.className =
                    "active");
                B.href = "javascript:void(0);";
                B.innerHTML = "&nbsp;";
                B.setAttribute("data-stepnumber", this._introItems[f].step);
                y.appendChild(B);
                p.appendChild(y)
            }
            w.appendChild(p);
            E.className = "introjs-progress";
            !1 === this._options.showProgress && (E.style.display = "none");
            f = document.createElement("div");
            f.className = "introjs-progressbar";
            f.setAttribute("style", "width:" + M.call(this) + "%;");
            E.appendChild(f);
            u.className = "introjs-tooltipbuttons";
            !1 === this._options.showButtons && (u.style.display = "none");
            n.className = "introjs-tooltip";
            n.appendChild(s);
            n.appendChild(w);
            n.appendChild(E);
            !0 == this._options.showStepNumbers && (h = document.createElement("span"), h.className = "introjs-helperNumberLayer", h.innerHTML = a.step, l.appendChild(h));
            n.appendChild(c);
            l.appendChild(n);
            m = document.createElement("a");
            m.onclick = function() {
                b._introItems.length - 1 != b._currentStep && z.call(b)
            };
            m.href = "javascript:void(0);";
            m.innerHTML = this._options.nextLabel;
            l = document.createElement("a");
            l.onclick = function() {
                0 != b._currentStep && D.call(b)
            };
            l.href = "javascript:void(0);";
            l.innerHTML = this._options.prevLabel;
            q = document.createElement("a");
            q.className = "introjs-button introjs-skipbutton";
            q.href = "javascript:void(0);";
            q.innerHTML = this._options.skipLabel;
            q.onclick = function() {
                b._introItems.length - 1 == b._currentStep && "function" === typeof b._introCompleteCallback && b._introCompleteCallback.call(b);
                b._introItems.length - 1 != b._currentStep && "function" === typeof b._introExitCallback && b._introExitCallback.call(b);
                A.call(b, b._targetElement)
            };
            u.appendChild(q);
            1 < this._introItems.length &&
                (u.appendChild(l), u.appendChild(m));
            n.appendChild(u);
            F.call(b, a.element, n, c, h)
        }!0 === this._options.disableInteraction && R.call(b);
        l.removeAttribute("tabIndex");
        m.removeAttribute("tabIndex");
        0 == this._currentStep && 1 < this._introItems.length ? (l.className = "introjs-button introjs-prevbutton introjs-disabled", l.tabIndex = "-1", m.className = "introjs-button introjs-nextbutton", q.innerHTML = this._options.skipLabel) : this._introItems.length - 1 == this._currentStep || 1 == this._introItems.length ? (q.innerHTML = this._options.doneLabel,
            l.className = "introjs-button introjs-prevbutton", m.className = "introjs-button introjs-nextbutton introjs-disabled", m.tabIndex = "-1") : (l.className = "introjs-button introjs-prevbutton", m.className = "introjs-button introjs-nextbutton", q.innerHTML = this._options.skipLabel);
        m.focus();
        a.element.className += " introjs-showElement";
        h = v(a.element, "position");
        "absolute" !== h && "relative" !== h && (a.element.className += " introjs-relativePosition");
        for (h = a.element.parentNode; null != h && "body" !== h.tagName.toLowerCase();) {
            c = v(h,
                "z-index");
            n = parseFloat(v(h, "opacity"));
            u = v(h, "transform") || v(h, "-webkit-transform") || v(h, "-moz-transform") || v(h, "-ms-transform") || v(h, "-o-transform");
            if (/[0-9]+/.test(c) || 1 > n || "none" !== u && void 0 !== u) h.className += " introjs-fixParent";
            h = h.parentNode
        }
        S(a.element) || !0 !== this._options.scrollToElement || (n = a.element.getBoundingClientRect(), h = G().height, c = n.bottom - (n.bottom - n.top), n = n.bottom - h, 0 > c || a.element.clientHeight > h ? window.scrollBy(0, c - 30) : window.scrollBy(0, n + 100));
        "undefined" !== typeof this._introAfterChangeCallback &&
            this._introAfterChangeCallback.call(this, a.element)
    }

    function v(a, b) {
        var c = "";
        a.currentStyle ? c = a.currentStyle[b] : document.defaultView && document.defaultView.getComputedStyle && (c = document.defaultView.getComputedStyle(a, null).getPropertyValue(b));
        return c && c.toLowerCase ? c.toLowerCase() : c
    }

    function I(a) {
        var b = a.parentNode;
        return "HTML" === b.nodeName ? !1 : "fixed" == v(a, "position") ? !0 : I(b)
    }

    function G() {
        if (void 0 != window.innerWidth) return {
            width: window.innerWidth,
            height: window.innerHeight
        };
        var a = document.documentElement;
        return {
            width: a.clientWidth,
            height: a.clientHeight
        }
    }

    function S(a) {
        a = a.getBoundingClientRect();
        return 0 <= a.top && 0 <= a.left && a.bottom + 80 <= window.innerHeight && a.right <= window.innerWidth
    }

    function Q(a) {
        var b = document.createElement("div"),
            c = "",
            d = this;
        b.className = "introjs-overlay";
        if ("body" === a.tagName.toLowerCase()) c += "top: 0;bottom: 0; left: 0;right: 0;position: fixed;", b.setAttribute("style", c);
        else {
            var f = t(a);
            f && (c += "width: " + f.width + "px; height:" + f.height + "px; top:" + f.top + "px;left: " + f.left + "px;", b.setAttribute("style",
                c))
        }
        a.appendChild(b);
        b.onclick = function() {
            !0 == d._options.exitOnOverlayClick && (void 0 != d._introExitCallback && d._introExitCallback.call(d), A.call(d, a))
        };
        setTimeout(function() {
            c += "opacity: " + d._options.overlayOpacity.toString() + ";";
            b.setAttribute("style", c)
        }, 10);
        return !0
    }

    function w() {
        var a = this._targetElement.querySelector(".introjs-hintReference");
        if (a) {
            var b = a.getAttribute("data-step");
            a.parentNode.removeChild(a);
            return b
        }
    }

    function N() {
        for (var a = 0, b = this._introItems.length; a < b; a++) {
            var c = this._introItems[a];
            O.call(this, c.hintPosition, c.element, c.targetElement)
        }
    }

    function T(a) {
        w.call(this);
        var b = this._targetElement.querySelector('.introjs-hint[data-step="' + a + '"]');
        b && (b.className += " introjs-hidehint");
        "undefined" !== typeof this._hintCloseCallback && this._hintCloseCallback.call(this, a)
    }

    function U() {
        var a = this,
            b = document.querySelector(".introjs-hints");
        null == b && (b = document.createElement("div"), b.className = "introjs-hints");
        for (var c = 0, d = this._introItems.length; c < d; c++) {
            var f = this._introItems[c];
            if (!document.querySelector('.introjs-hint[data-step="' +
                    c + '"]')) {
                var e = document.createElement("a");
                e.href = "javascript:void(0);";
                (function(b, c, d) {
                    b.onclick = function(e) {
                        e = e ? e : window.event;
                        e.stopPropagation && e.stopPropagation();
                        null != e.cancelBubble && (e.cancelBubble = !0);
                        V.call(a, b, c, d)
                    }
                })(e, f, c);
                e.className = "introjs-hint";
                I(f.element) && (e.className += " introjs-fixedhint");
                var g = document.createElement("div");
                g.className = "introjs-hint-dot";
                var k = document.createElement("div");
                k.className = "introjs-hint-pulse";
                e.appendChild(g);
                e.appendChild(k);
                e.setAttribute("data-step",
                    c);
                f.targetElement = f.element;
                f.element = e;
                O.call(this, f.hintPosition, e, f.targetElement);
                b.appendChild(e)
            }
        }
        document.body.appendChild(b);
        "undefined" !== typeof this._hintsAddedCallback && this._hintsAddedCallback.call(this)
    }

    function O(a, b, c) {
        c = t.call(this, c);
        switch (a) {
            default:
                case "top-left":
                b.style.left = c.left + "px";b.style.top = c.top + "px";
            break;
            case "top-right":
                    b.style.left = c.left + c.width + "px";b.style.top = c.top + "px";
                break;
            case "bottom-left":
                    b.style.left = c.left + "px";b.style.top = c.top + c.height + "px";
                break;
            case "bottom-right":
                    b.style.left = c.left + c.width + "px";b.style.top = c.top + c.height + "px";
                break;
            case "bottom-middle":
                    b.style.left = c.left + c.width / 2 + "px";b.style.top = c.top + c.height + "px";
                break;
            case "top-middle":
                    b.style.left = c.left + c.width / 2 + "px",
                b.style.top = c.top + "px"
        }
    }

    function V(a, b, c) {
        "undefined" !== typeof this._hintClickCallback && this._hintClickCallback.call(this, a, b, c);
        var d = w.call(this);
        if (parseInt(d, 10) != c) {
            var d = document.createElement("div"),
                f = document.createElement("div"),
                e = document.createElement("div"),
                g = document.createElement("div");
            d.className = "introjs-tooltip";
            d.onclick = function(a) {
                a.stopPropagation ? a.stopPropagation() : a.cancelBubble = !0
            };
            f.className = "introjs-tooltiptext";
            var k = document.createElement("p");
            k.innerHTML = b.hint;
            b = document.createElement("a");
            b.className = "introjs-button";
            b.innerHTML = this._options.hintButtonLabel;
            b.onclick = T.bind(this, c);
            f.appendChild(k);
            f.appendChild(b);
            e.className = "introjs-arrow";
            d.appendChild(e);
            d.appendChild(f);
            this._currentStep = a.getAttribute("data-step");
            g.className =
                "introjs-tooltipReferenceLayer introjs-hintReference";
            g.setAttribute("data-step", a.getAttribute("data-step"));
            r.call(this, g);
            g.appendChild(d);
            document.body.appendChild(g);
            F.call(this, a, d, e, null, !0)
        }
    }

    function t(a) {
        var b = {};
        b.width = a.offsetWidth;
        b.height = a.offsetHeight;
        for (var c = 0, d = 0; a && !isNaN(a.offsetLeft) && !isNaN(a.offsetTop);) c += a.offsetLeft, d += a.offsetTop, a = a.offsetParent;
        b.top = d;
        b.left = c;
        return b
    }

    function M() {
        return 100 * (parseInt(this._currentStep + 1, 10) / this._introItems.length)
    }
    var J = function(a) {
        if ("object" ===
            typeof a) return new p(a);
        if ("string" === typeof a) {
            if (a = document.querySelector(a)) return new p(a);
            throw Error("There is no element with given selector.");
        }
        return new p(document.body)
    };
    J.version = "2.0";
    J.fn = p.prototype = {
        clone: function() {
            return new p(this)
        },
        setOption: function(a, b) {
            this._options[a] = b;
            return this
        },
        setOptions: function(a) {
            var b = this._options,
                c = {},
                d;
            for (d in b) c[d] = b[d];
            for (d in a) c[d] = a[d];
            this._options = c;
            return this
        },
        start: function() {
            P.call(this, this._targetElement);
            return this
        },
        goToStep: function(a) {
            this._currentStep =
                a - 2;
            "undefined" !== typeof this._introItems && z.call(this);
            return this
        },
        nextStep: function() {
            z.call(this);
            return this
        },
        previousStep: function() {
            D.call(this);
            return this
        },
        exit: function() {
            A.call(this, this._targetElement);
            return this
        },
        refresh: function() {
            r.call(this, document.querySelector(".introjs-helperLayer"));
            r.call(this, document.querySelector(".introjs-tooltipReferenceLayer"));
            return this
        },
        onbeforechange: function(a) {
            if ("function" === typeof a) this._introBeforeChangeCallback = a;
            else throw Error("Provided callback for onbeforechange was not a function");
            return this
        },
        onchange: function(a) {
            if ("function" === typeof a) this._introChangeCallback = a;
            else throw Error("Provided callback for onchange was not a function.");
            return this
        },
        onafterchange: function(a) {
            if ("function" === typeof a) this._introAfterChangeCallback = a;
            else throw Error("Provided callback for onafterchange was not a function");
            return this
        },
        oncomplete: function(a) {
            if ("function" === typeof a) this._introCompleteCallback = a;
            else throw Error("Provided callback for oncomplete was not a function.");
            return this
        },
        onhintsadded: function(a) {
            if ("function" === typeof a) this._hintsAddedCallback = a;
            else throw Error("Provided callback for onhintsadded was not a function.");
            return this
        },
        onhintclick: function(a) {
            if ("function" === typeof a) this._hintClickCallback = a;
            else throw Error("Provided callback for onhintclick was not a function.");
            return this
        },
        onhintclose: function(a) {
            if ("function" === typeof a) this._hintCloseCallback = a;
            else throw Error("Provided callback for onhintclose was not a function.");
            return this
        },
        onexit: function(a) {
            if ("function" ===
                typeof a) this._introExitCallback = a;
            else throw Error("Provided callback for onexit was not a function.");
            return this
        },
        addHints: function() {
            a: {
                var a = this._targetElement;this._introItems = [];
                if (this._options.hints)
                    for (var a = 0, b = this._options.hints.length; a < b; a++) {
                        var c = y(this._options.hints[a]);
                        "string" === typeof c.element && (c.element = document.querySelector(c.element));
                        c.hintPosition = c.hintPosition || "top-middle";
                        null != c.element && this._introItems.push(c)
                    } else {
                        c = a.querySelectorAll("*[data-hint]");
                        if (1 > c.length) break a;
                        a = 0;
                        for (b = c.length; a < b; a++) {
                            var d = c[a];
                            this._introItems.push({
                                element: d,
                                hint: d.getAttribute("data-hint"),
                                hintPosition: d.getAttribute("data-hintPosition") || this._options.hintPosition,
                                tooltipClass: d.getAttribute("data-tooltipClass"),
                                position: d.getAttribute("data-position") || this._options.tooltipPosition
                            })
                        }
                    }
                U.call(this);document.addEventListener ? (document.addEventListener("click", w.bind(this), !1), window.addEventListener("resize", N.bind(this), !0)) : document.attachEvent && (document.attachEvent("onclick",
                    w.bind(this)), document.attachEvent("onresize", N.bind(this)))
            }
            return this
        }
    };
    return C.introJs = J
});
/*!
 * screenfull
 * v3.0.0 - 2015-11-24
 * (c) Sindre Sorhus; MIT License
 */
! function() {
    "use strict";
    var a = "undefined" != typeof module && module.exports,
        b = "undefined" != typeof Element && "ALLOW_KEYBOARD_INPUT" in Element,
        c = function() {
            for (var a, b, c = [
                    ["requestFullscreen", "exitFullscreen", "fullscreenElement", "fullscreenEnabled", "fullscreenchange", "fullscreenerror"],
                    ["webkitRequestFullscreen", "webkitExitFullscreen", "webkitFullscreenElement", "webkitFullscreenEnabled", "webkitfullscreenchange", "webkitfullscreenerror"],
                    ["webkitRequestFullScreen", "webkitCancelFullScreen", "webkitCurrentFullScreenElement", "webkitCancelFullScreen", "webkitfullscreenchange", "webkitfullscreenerror"],
                    ["mozRequestFullScreen", "mozCancelFullScreen", "mozFullScreenElement", "mozFullScreenEnabled", "mozfullscreenchange", "mozfullscreenerror"],
                    ["msRequestFullscreen", "msExitFullscreen", "msFullscreenElement", "msFullscreenEnabled", "MSFullscreenChange", "MSFullscreenError"]
                ], d = 0, e = c.length, f = {}; e > d; d++)
                if (a = c[d], a && a[1] in document) {
                    for (d = 0, b = a.length; b > d; d++) f[c[0][d]] = a[d];
                    return f
                }
            return !1
        }(),
        d = {
            request: function(a) {
                var d = c.requestFullscreen;
                a = a || document.documentElement, /5\.1[\.\d]* Safari/.test(navigator.userAgent) ? a[d]() : a[d](b && Element.ALLOW_KEYBOARD_INPUT)
            },
            exit: function() {
                document[c.exitFullscreen]()
            },
            toggle: function(a) {
                this.isFullscreen ? this.exit() : this.request(a)
            },
            raw: c
        };
    return c ? (Object.defineProperties(d, {
        isFullscreen: {
            get: function() {
                return Boolean(document[c.fullscreenElement])
            }
        },
        element: {
            enumerable: !0,
            get: function() {
                return document[c.fullscreenElement]
            }
        },
        enabled: {
            enumerable: !0,
            get: function() {
                return Boolean(document[c.fullscreenEnabled])
            }
        }
    }), void(a ? module.exports = d : window.screenfull = d)) : void(a ? module.exports = !1 : window.screenfull = !1)
}();
/*! jQuery slidePanel - v0.2.2 - 2015-10-14
 * https://github.com/amazingSurge/jquery-slidePanel
 * Copyright (c) 2015 amazingSurge; Licensed GPL */
! function(a, b, c, d) {
    "use strict";

    function e() {
        return "undefined" != typeof c.performance && c.performance.now ? c.performance.now() : Date.now()
    }

    function f(a) {
        return "string" == typeof a && -1 != a.indexOf("%")
    }

    function g(a) {
        return "string" == typeof a && -1 != a.indexOf("px")
    }

    function h(a) {
        return a && "matrix" == a.substr(0, 6) ? a.replace(/^.*\((.*)\)$/g, "$1").replace(/px/g, "").split(/, +/) : !1
    }

    function i(a) {
        "string" != typeof a && (a = JSON.stringify(a));
        var b, c, d, e = 0;
        if (0 === a.length) return e;
        for (b = 0, d = a.length; d > b; b++) c = a.charCodeAt(b), e = (e << 5) - e + c, e |= 0;
        return e
    }

    function j(a, b, c, d) {
        function e(a, b) {
            return 1 - 3 * b + 3 * a
        }

        function f(a, b) {
            return 3 * b - 6 * a
        }

        function g(a) {
            return 3 * a
        }

        function h(a, b, c) {
            return ((e(b, c) * a + f(b, c)) * a + g(b)) * a
        }

        function i(a, b, c) {
            return 3 * e(b, c) * a * a + 2 * f(b, c) * a + g(b)
        }

        function j(b) {
            for (var d = b, e = 0; 4 > e; ++e) {
                var f = i(d, a, c);
                if (0 === f) return d;
                var g = h(d, a, c) - b;
                d -= g / f
            }
            return d
        }
        return a === b && c === d ? {
            css: "linear",
            fn: function(a) {
                return a
            }
        } : {
            css: "cubic-bezier(" + a + "," + b + "," + c + "," + d + ")",
            fn: function(a) {
                return h(j(a), b, d)
            }
        }
    }

    function k() {
        return this.initialize.apply(this, Array.prototype.slice.call(arguments))
    }

    function l() {
        return this.initialize.apply(this, Array.prototype.slice.call(arguments))
    }

    function m() {
        return this.initialize.apply(this, Array.prototype.slice.call(arguments))
    }

    function n() {
        return this.initialize.apply(this, Array.prototype.slice.call(arguments))
    }
    var o = a.slidePanel = function() {
        o.show.apply(this, arguments)
    };
    Date.now || (Date.now = function() {
        return (new Date).getTime()
    });
    for (var p = ["webkit", "moz"], q = 0; q < p.length && !c.requestAnimationFrame; ++q) {
        var r = p[q];
        c.requestAnimationFrame = c[r + "RequestAnimationFrame"], c.cancelAnimationFrame = c[r + "CancelAnimationFrame"] || c[r + "CancelRequestAnimationFrame"]
    }
    if (/iP(ad|hone|od).*OS (6|7|8)/.test(c.navigator.userAgent) || !c.requestAnimationFrame || !c.cancelAnimationFrame) {
        var s = 0;
        c.requestAnimationFrame = function(a) {
            var b = e(),
                c = Math.max(s + 16, b);
            return setTimeout(function() {
                a(s = c)
            }, c - b)
        }, c.cancelAnimationFrame = clearTimeout
    }
    var t = function() {
            function e(b, c) {
                var e = !1,
                    f = b.charAt(0).toUpperCase() + b.slice(1);
                return g[b] !== d && (e = b), e || a.each(h, function(a, b) {
                    return g[b + f] !== d ? (e = "-" + b.toLowerCase() + "-" + f, !1) : void 0
                }), c ? e : e ? !0 : !1
            }

            function f(a) {
                return e(a, !0)
            }
            var g = a("<support>").get(0).style,
                h = ["webkit", "Moz", "O", "ms"],
                i = {
                    transition: {
                        end: {
                            WebkitTransition: "webkitTransitionEnd",
                            MozTransition: "transitionend",
                            OTransition: "oTransitionEnd",
                            transition: "transitionend"
                        }
                    },
                    animation: {
                        end: {
                            WebkitAnimation: "webkitAnimationEnd",
                            MozAnimation: "animationend",
                            OAnimation: "oAnimationEnd",
                            animation: "animationend"
                        }
                    }
                },
                j = {
                    csstransforms: function() {
                        return !!e("transform")
                    },
                    csstransforms3d: function() {
                        return !!e("perspective")
                    },
                    csstransitions: function() {
                        return !!e("transition")
                    },
                    cssanimations: function() {
                        return !!e("animation")
                    }
                },
                k = {};
            return j.csstransitions() && (k.transition = new String(f("transition")), k.transition.end = i.transition.end[k.transition]), j.cssanimations() && (k.animation = new String(f("animation")), k.animation.end = i.animation.end[k.animation]), j.csstransforms() && (k.transform = new String(f("transform")), k.transform3d = j.csstransforms3d()), k.touch = "ontouchstart" in c || c.DocumentTouch && b instanceof c.DocumentTouch ? !0 : !1, k.pointer = c.PointerEvent || c.MSPointerEvent ? !0 : !1, k.prefixPointerEvent = function(a) {
                return c.MSPointerEvent ? "MSPointer" + a.charAt(9).toUpperCase() + a.substr(10) : a
            }, k
        }(),
        u = {
            ease: j(.25, .1, .25, 1),
            linear: j(0, 0, 1, 1),
            "ease-in": j(.42, 0, 1, 1),
            "ease-out": j(0, 0, .58, 1),
            "ease-in-out": j(.42, 0, .58, 1)
        };
    o.options = {
        skin: null,
        classes: {
            base: "slidePanel",
            show: "slidePanel-show",
            loading: "slidePanel-loading",
            content: "slidePanel-content",
            dragging: "slidePanel-dragging",
            willClose: "slidePanel-will-close"
        },
        closeSelector: null,
        template: function(a) {
            return '<div class="' + a.classes.base + " " + a.classes.base + "-" + a.direction + '"><div class="' + a.classes.content + '"></div></div>'
        },
        loading: {
            appendTo: "panel",
            template: function(a) {
                return '<div class="' + a.classes.loading + '"></div>'
            },
            showCallback: function(a) {
                this.$el.addClass(a.classes.loading + "-show")
            },
            hideCallback: function(a) {
                this.$el.removeClass(a.classes.loading + "-show")
            }
        },
        contentFilter: function(a) {
            return a
        },
        useCssTransforms3d: !0,
        useCssTransforms: !0,
        useCssTransitions: !0,
        dragTolerance: 150,
        mouseDragHandler: null,
        mouseDrag: !0,
        touchDrag: !0,
        pointerDrag: !0,
        direction: "right",
        duration: "500",
        easing: "ease",
        beforeLoad: a.noop,
        afterLoad: a.noop,
        beforeShow: a.noop,
        afterShow: a.noop,
        onChange: a.noop,
        beforeChange: a.noop,
        beforeHide: a.noop,
        afterHide: a.noop,
        beforeDrag: a.noop,
        afterDrag: a.noop
    }, a.extend(k.prototype, {
        initialize: function(a) {
            this.options = a, this._instance = null, this._showed = !1, this._isLoading = !1, this.build()
        },
        setLength: function() {
            switch (this.options.direction) {
                case "top":
                case "bottom":
                    this._length = this.$panel.outerHeight();
                    break;
                case "left":
                case "right":
                    this._length = this.$panel.outerWidth()
            }
        },
        build: function() {
            if (!this._builded) {
                var b = this.options,
                    c = b.template.call(this, b),
                    d = this;
                this.$panel = a(c).appendTo("body"), b.skin && this.$panel.addClass(b.skin), this.$content = this.$panel.find("." + this.options.classes.content), b.closeSelector && this.$panel.on("click", b.closeSelector, function() {
                    return d.hide(), !1
                }), this.loading = new l(this), this.setLength(), this.setPosition(this.getHidePosition()), (b.mouseDrag || b.touchDrag || b.pointerDrag) && (this.drag = new m(this)), this._builded = !0
            }
        },
        getHidePosition: function() {
            var b = this.options;
            if (b.useCssTransforms || b.useCssTransforms3d) switch (b.direction) {
                case "top":
                case "left":
                    return "-100";
                case "bottom":
                case "right":
                    return "100"
            } else switch (b.direction) {
                case "top":
                case "bottom":
                    return parseFloat(100 * -(this._length / a(c).height()), 10);
                case "left":
                case "right":
                    return parseFloat(100 * -(this._length / a(c).width()), 10)
            }
        },
        empty: function() {
            this._instance = null, this.$content.empty()
        },
        load: function(b) {
            function c(a) {
                a = e.contentFilter.call(this, a, b), d.$content.html(a), d.hideLoading(), d._instance = b, w.trigger(d, "afterLoad", b)
            } {
                var d = this,
                    e = b.options;
                this._instance
            }
            w.trigger(this, "beforeLoad", b), this.empty(), b.content ? c(b.content) : b.url ? (this.showLoading(), a.ajax(b.url, b.settings || {}).done(function(a) {
                c(a)
            })) : c("")
        },
        showLoading: function() {
            var a = this;
            this.loading.show(function() {
                a._isLoading = !0
            })
        },
        hideLoading: function() {
            var a = this;
            this.loading.hide(function() {
                a._isLoading = !1
            })
        },
        show: function(b) {
            this.build(), w.enter("show"), w.trigger(this, "beforeShow"), a("html").addClass(this.options.classes.base + "-html"), this.$panel.addClass(this.options.classes.show);
            var c = this;
            v["do"](this, 0, function() {
                c._showed = !0, w.trigger(c, "afterShow"), a.isFunction(b) && b.call(c)
            })
        },
        change: function(a) {
            w.trigger(this, "beforeShow"), w.trigger(this, "onChange", a, this._instance), this.load(a), w.trigger(this, "afterShow")
        },
        revert: function(b) {
            var c = this;
            v["do"](this, 0, function() {
                a.isFunction(b) && b.call(c)
            })
        },
        hide: function(b) {
            w.leave("show"), w.trigger(this, "beforeHide");
            var c = this;
            v["do"](this, this.getHidePosition(), function() {
                c.$panel.removeClass(c.options.classes.show), c._showed = !1, c._instance = null, w._current === c && (w._current = null), w.is("show") || a("html").removeClass(c.options.classes.base + "-html"), a.isFunction(b) && b.call(c), w.trigger(c, "afterHide")
            })
        },
        makePositionStyle: function(a) {
            var b, c = "0",
                d = "0";
            f(a) || g(a) || (a += "%"), this.options.useCssTransforms && t.transform ? ("left" === this.options.direction || "right" === this.options.direction ? c = a : d = a, b = t.transform.toString(), a = this.options.useCssTransforms3d && t.transform3d ? "translate3d(" + c + "," + d + ",0)" : "translate(" + c + "," + d + ")") : b = this.options.direction;
            var e = {};
            return e[b] = a, e
        },
        getPosition: function(a) {
            var b;
            if (this.options.useCssTransforms && t.transform) {
                if (b = h(this.$panel.css(t.transform)), !b) return 0;
                b = "left" === this.options.direction || "right" === this.options.direction ? b[12] || b[4] : b[13] || b[5]
            } else b = this.$panel.css(this.options.direction), b = parseFloat(b.replace("px", ""));
            return a !== !0 && (b = b / this._length * 100), parseFloat(b, 10)
        },
        setPosition: function(a) {
            var b = this.makePositionStyle(a);
            this.$panel.css(b)
        }
    }), a.extend(l.prototype, {
        initialize: function(a) {
            this._view = a, this.build()
        },
        build: function() {
            if (!this._builded) {
                var b = this._view.options,
                    c = b.loading.template.call(this, b);
                switch (this.$el = a(c), b.loading.appendTo) {
                    case "panel":
                        this.$el.appendTo(this._view.$panel);
                        break;
                    case "body":
                        this.$el.appendTo("body");
                        break;
                    default:
                        this.$el.appendTo(b.loading.appendTo)
                }
                this._builded = !0
            }
        },
        show: function(b) {
            this.build();
            var c = this._view.options;
            c.loading.showCallback.call(this, c), a.isFunction(b) && b.call(this)
        },
        hide: function(b) {
            var c = this._view.options;
            c.loading.hideCallback.call(this, c), a.isFunction(b) && b.call(this)
        }
    });
    var v = {
        prepareTransition: function(b, c, d, e, f) {
            var g = [];
            c && g.push(c), d && (a.isNumeric(d) && (d += "ms"), g.push(d)), g.push(e ? e : this.easing.css), f && g.push(f), b.css(t.transition, g.join(" "))
        },
        "do": function(b, d, f) {
            w.enter("animating");
            var g = b.options.duration,
                h = b.options.easing || "ease",
                i = this,
                j = b.makePositionStyle(d);
            for (var k in j) break;
            if (b.options.useCssTransitions && t.transition) setTimeout(function() {
                i.prepareTransition(b.$panel, k, g, h)
            }, 20), b.$panel.one(t.transition.end, function() {
                a.isFunction(f) && f(), b.$panel.css(t.transition, ""), w.leave("animating")
            }), setTimeout(function() {
                b.setPosition(d)
            }, 20);
            else {
                var l = e(),
                    m = b.getPosition(),
                    n = d,
                    o = function(d) {
                        var e = (d - l) / b.options.duration;
                        e > 1 && (e = 1), e = u[h].fn(e);
                        var g = parseFloat(m + e * (n - m), 10);
                        b.setPosition(g), 1 === e ? (c.cancelAnimationFrame(i._frameId), i._frameId = null, a.isFunction(f) && f(), w.leave("animating")) : i._frameId = c.requestAnimationFrame(o)
                    };
                i._frameId = c.requestAnimationFrame(o)
            }
        }
    };
    a.extend(m.prototype, {
        initialize: function(a) {
            this._view = a, this.options = a.options, this._drag = {
                time: null,
                pointer: null
            }, this.bindEvents()
        },
        bindEvents: function() {
            var b = this.options,
                c = this._view.$panel;
            b.mouseDrag && (c.on(w.eventName("mousedown"), a.proxy(this.onDragStart, this)), c.on(w.eventName("dragstart selectstart"), function() {
                return !b.mouseDragHandler || a(event.target).is(b.mouseDragHandler) || a(event.target).parents(b.mouseDragHandler).length > 0 ? !1 : void 0
            })), b.touchDrag && t.touch && (c.on(w.eventName("touchstart"), a.proxy(this.onDragStart, this)), c.on(w.eventName("touchcancel"), a.proxy(this.onDragEnd, this))), b.pointerDrag && t.pointer && (c.on(w.eventName(t.prefixPointerEvent("pointerdown")), a.proxy(this.onDragStart, this)), c.on(w.eventName(t.prefixPointerEvent("pointercancel")), a.proxy(this.onDragEnd, this)))
        },
        onDragStart: function(c) {
            var d = this;
            if (3 !== c.which) {
                var e = this.options;
                this._view.$panel.addClass(this.options.classes.dragging), this._position = this._view.getPosition(!0), this._drag.time = (new Date).getTime(), this._drag.pointer = this.pointer(c);
                var f = function() {
                    w.enter("dragging"), w.trigger(d._view, "beforeDrag")
                };
                if (e.mouseDrag) {
                    if (e.mouseDragHandler && !(a(c.target).is(e.mouseDragHandler) || a(c.target).parents(e.mouseDragHandler).length > 0)) return;
                    a(b).on(w.eventName("mouseup"), a.proxy(this.onDragEnd, this)), a(b).one(w.eventName("mousemove"), a.proxy(function() {
                        a(b).on(w.eventName("mousemove"), a.proxy(this.onDragMove, this)), f()
                    }, this))
                }
                e.touchDrag && t.touch && (a(b).on(w.eventName("touchend"), a.proxy(this.onDragEnd, this)), a(b).one(w.eventName("touchmove"), a.proxy(function() {
                    a(b).on(w.eventName("touchmove"), a.proxy(this.onDragMove, this)), f()
                }, this))), e.pointerDrag && t.pointer && (a(b).on(w.eventName(t.prefixPointerEvent("pointerup")), a.proxy(this.onDragEnd, this)), a(b).one(w.eventName(t.prefixPointerEvent("pointermove")), a.proxy(function() {
                    a(b).on(w.eventName(t.prefixPointerEvent("pointermove")), a.proxy(this.onDragMove, this)), f()
                }, this))), a(b).on(w.eventName("blur"), a.proxy(this.onDragEnd, this)), c.preventDefault()
            }
        },
        onDragMove: function(a) {
            var b = this.distance(this._drag.pointer, this.pointer(a));
            w.is("dragging") && (Math.abs(b) > this.options.dragTolerance ? this._willClose !== !0 && (this._willClose = !0, this._view.$panel.addClass(this.options.classes.willClose)) : this._willClose !== !1 && (this._willClose = !1, this._view.$panel.removeClass(this.options.classes.willClose)), w.is("dragging") && (a.preventDefault(), this.move(b)))
        },
        onDragEnd: function(c) {
            var d = this.distance(this._drag.pointer, this.pointer(c));
            a(b).off(w.eventName("mousemove mouseup touchmove touchend pointermove pointerup MSPointerMove MSPointerUp blur")), this._view.$panel.removeClass(this.options.classes.dragging), this._willClose === !0 && (this._willClose = !1, this._view.$panel.removeClass(this.options.classes.willClose)), w.is("dragging") && (w.leave("dragging"), w.trigger(this._view, "afterDrag"), Math.abs(d) < this.options.dragTolerance ? this._view.revert() : w.hide())
        },
        pointer: function(a) {
            var b = {
                x: null,
                y: null
            };
            return a = a.originalEvent || a || c.event, a = a.touches && a.touches.length ? a.touches[0] : a.changedTouches && a.changedTouches.length ? a.changedTouches[0] : a, a.pageX ? (b.x = a.pageX, b.y = a.pageY) : (b.x = a.clientX, b.y = a.clientY), b
        },
        distance: function(a, b) {
            var c = this.options.direction;
            return "left" === c || "right" === c ? b.x - a.x : b.y - a.y
        },
        move: function(a) {
            var b = this._position + a;
            if ("right" === this.options.direction || "bottom" === this.options.direction) {
                if (0 > b) return
            } else if (b > 0) return;
            this.options.useCssTransforms || this.options.useCssTransforms3d || ("right" === this.options.direction || "bottom" === this.options.direction) && (b = -b), this._view.setPosition(b + "px")
        }
    }), a.extend(n.prototype, {
        initialize: function(b) {
            var c = arguments[1] || {};
            if ("string" == typeof b) b = {
                url: b
            };
            else if (b && 1 == b.nodeType) {
                var d = a(b);
                b = {
                    url: d.attr("href"),
                    settings: d.data("settings") || {},
                    options: d.data() || {}
                }
            }
            return b.options = b && b.options ? a.extend(!0, c, b.options) : c, b.options = a.extend(!0, {}, o.options, b.options), a.extend(this, b), this
        }
    });
    var w = {
        _states: {},
        _views: {},
        _current: null,
        is: function(a) {
            return this._states[a] && this._states[a] > 0
        },
        enter: function(a) {
            this._states[a] === d && (this._states[a] = 0), this._states[a]++
        },
        leave: function(a) {
            this._states[a]--
        },
        trigger: function(c, d) {
            var e = Array.prototype.slice.call(arguments, 2),
                f = [c].concat(e);
            a(b).trigger("slidePanel::" + d, f), a.isFunction(c.options[d]) && c.options[d].apply(c, e)
        },
        eventName: function(a) {
            if ("string" != typeof a || "" === a) return ".slidepanel";
            a = a.split(" ");
            for (var b = a.length, c = 0; b > c; c++) a[c] = a[c] + ".slidepanel";
            return a.join(" ")
        },
        show: function(a) {
            if (!(a instanceof n)) switch (arguments.length) {
                case 0:
                    a = new n;
                    break;
                case 1:
                    a = new n(arguments[0]);
                    break;
                case 2:
                    a = new n(arguments[0], arguments[1])
            }
            var b = this.getView(a.options),
                c = this,
                d = function() {
                    b.show(), b.load(a), c._current = b
                };
            null !== this._current ? b === this._current ? this._current.change(a) : this._current.hide(d) : d()
        },
        getView: function(a) {
            var b = i(a);
            return this._views.hasOwnProperty(b) ? this._views[b] : this._views[b] = new k(a)
        },
        hide: function(a) {
            if (a) {
                var b = this.getView(a.options);
                b.hide()
            } else if (null !== this._current) {
                this._current.hide()
            }
        }
    };
    a.extend(o, {
        is: function(a) {
            return w.is(a)
        },
        show: function() {
            return w.show.apply(w, arguments), this
        },
        hide: function() {
            return w.hide.apply(w, arguments), this
        }
    }), a.fn.slidePanel = function(b) {
        if ("string" == typeof b) {
            var c = b,
                d = Array.prototype.slice.call(arguments, 1);
            return this.each(function() {
                var b = a.data(this, "slidePanel");
                switch (b instanceof n || (b = new n(this, d), a.data(this, "slidePanel", b)), c) {
                    case "hide":
                        w.hide(b);
                        break;
                    case "show":
                        w.show(b)
                }
            })
        }
        return this.each(function() {
            a.data(this, "slidePanel") || (a.data(this, "slidePanel", new n(this, b)), a(this).on("click", function(b) {
                var c = a.data(this, "slidePanel");
                w.show(c), b.preventDefault(), b.stopPropagation()
            }))
        })
    }
}(jQuery, document, window);
! function(window, document, $) {
    "use strict";
    var $doc = $(document);
    $.site = $.site || {}, $.extend($.site, {
        _queue: {
            prepare: [],
            run: [],
            complete: []
        },
        run: function() {
            var self = this;
            this.dequeue("prepare", function() {
                self.trigger("before.run", self)
            }), this.dequeue("run", function() {
                self.dequeue("complete", function() {
                    self.trigger("after.run", self)
                })
            })
        },
        dequeue: function(name, done) {
            var self = this,
                queue = this.getQueue(name),
                fn = queue.shift(),
                next = function() {
                    self.dequeue(name, done)
                };
            fn ? fn.call(this, next) : $.isFunction(done) && done.call(this)
        },
        getQueue: function(name) {
            return $.isArray(this._queue[name]) || (this._queue[name] = []), this._queue[name]
        },
        extend: function(obj) {
            return $.each(this._queue, function(name, queue) {
                $.isFunction(obj[name]) && (queue.push(obj[name]), delete obj[name])
            }), $.extend(this, obj), this
        },
        trigger: function(name, data, $el) {
            "undefined" != typeof name && ("undefined" == typeof $el && ($el = $doc), $el.trigger(name + ".site", data))
        },
        throttle: function(func, wait) {
            var context, args, result, _now = Date.now || function() {
                    return (new Date).getTime()
                },
                timeout = null,
                previous = 0,
                later = function() {
                    previous = _now(), timeout = null, result = func.apply(context, args), context = args = null
                };
            return function() {
                var now = _now(),
                    remaining = wait - (now - previous);
                return context = this, args = arguments, 0 >= remaining ? (clearTimeout(timeout), timeout = null, previous = now, result = func.apply(context, args), context = args = null) : timeout || (timeout = setTimeout(later, remaining)), result
            }
        },
        resize: function() {
            if (document.createEvent) {
                var ev = document.createEvent("Event");
                ev.initEvent("resize", !0, !0), window.dispatchEvent(ev)
            } else {
                element = document.documentElement;
                var event = document.createEventObject();
                element.fireEvent("onresize", event)
            }
        }
    }), $.configs = $.configs || {}, $.extend($.configs, {
        data: {},
        get: function(name) {
            for (var callback = function(data, name) {
                    return data[name]
                }, data = this.data, i = 0; i < arguments.length; i++) name = arguments[i], data = callback(data, name);
            return data
        },
        set: function(name, value) {
            this.data[name] = value
        },
        extend: function(name, options) {
            var value = this.get(name);
            return $.extend(!0, value, options)
        }
    }), $.colors = function(name, level) {
        if ("primary" === name && (name = $.configs.get("site", "primaryColor"), name || (name = "red")), "undefined" == typeof $.configs.colors) return null;
        if ("undefined" != typeof $.configs.colors[name]) {
            if (level && "undefined" != typeof $.configs.colors[name][level]) return $.configs.colors[name][level];
            if ("undefined" == typeof level) return $.configs.colors[name]
        }
        return null
    }, $.components = $.components || {}, $.extend($.components, {
        _components: {},
        register: function(name, obj) {
            this._components[name] = obj
        },
        init: function(name, context, args) {
            var self = this;
            if ("undefined" == typeof name) $.each(this._components, function(name) {
                self.init(name)
            });
            else {
                context = context || document, args = args || [];
                var obj = this.get(name);
                if (obj) switch (obj.mode) {
                    case "default":
                        return this._initDefault(name, context);
                    case "init":
                        return this._initComponent(name, obj, context, args);
                    case "api":
                        return this._initApi(name, obj, args);
                    default:
                        return this._initApi(name, obj, context, args), void this._initComponent(name, obj, context, args)
                }
            }
        },
        call: function(name, context) {
            var args = Array.prototype.slice.call(arguments, 2),
                obj = this.get(name);
            return context = context || document, this._initComponent(name, obj, context, args)
        },
        _initDefault: function(name, context) {
            if ($.fn[name]) {
                var defaults = this.getDefaults(name);
                $("[data-plugin=" + name + "]", context).each(function() {
                    var $this = $(this),
                        options = $.extend(!0, {}, defaults, $this.data());
                    $this[name](options)
                })
            }
        },
        _initComponent: function(name, obj, context, args) {
            $.isFunction(obj.init) && obj.init.apply(obj, [context].concat(args))
        },
        _initApi: function(name, obj, args) {
            "undefined" == typeof obj.apiCalled && $.isFunction(obj.api) && (obj.api.apply(obj, args), obj.apiCalled = !0)
        },
        getDefaults: function(name) {
            var component = this.get(name);
            return component && "undefined" != typeof component.defaults ? component.defaults : {}
        },
        get: function(name, property) {
            return "undefined" != typeof this._components[name] ? "undefined" != typeof property ? this._components[name][property] : this._components[name] : void 0
        }
    })
}(window, document, jQuery);
! function(window, document, $) {
    "use strict";
    var $body = $(document.body);
    $.configs.set("site", {
        fontFamily: "Noto Sans, sans-serif",
        primaryColor: "blue",
        assets: "../assets"
    }), window.Site = $.site.extend({
        run: function(next) {
            this.polyfillIEWidth(), "undefined" != typeof $.site.menu && $.site.menu.init(), "undefined" != typeof $.site.menubar && ($(".site-menubar").on("changing.site.menubar", function() {
                $('[data-toggle="menubar"]').each(function() {
                    function toggle($el) {
                        $el.toggleClass("hided", !$.site.menubar.opened), $el.toggleClass("unfolded", !$.site.menubar.folded)
                    }
                    var $this = $(this),
                        $hamburger = $(this).find(".hamburger");
                    toggle($hamburger.length > 0 ? $hamburger : $this)
                }), $.site.menu.refresh()
            }), $(document).on("click", '[data-toggle="collapse"]', function(e) {
                var $trigger = $(e.target);
                $trigger.is('[data-toggle="collapse"]') || ($trigger = $trigger.parents('[data-toggle="collapse"]'));
                var href, target = $trigger.attr("data-target") || (href = $trigger.attr("href")) && href.replace(/.*(?=#[^\s]+$)/, ""),
                    $target = $(target);
                if ($target.hasClass("navbar-search-overlap")) $target.find("input").focus(), e.preventDefault();
                else if ("site-navbar-collapse" === $target.attr("id")) {
                    var isOpen = !$trigger.hasClass("collapsed");
                    $body.addClass("site-navbar-collapsing"), $body.toggleClass("site-navbar-collapse-show", isOpen), setTimeout(function() {
                        $body.removeClass("site-navbar-collapsing")
                    }, 350), isOpen && $.site.menubar.scrollable.update()
                }
            }), $(document).on("click", '[data-toggle="menubar"]', function() {
                return $.site.menubar.toggle(), !1
            }), $.site.menubar.init(), Breakpoints.on("change", function() {
                $.site.menubar.change()
            })), "undefined" != typeof $.site.gridmenu && $.site.gridmenu.init(), "undefined" != typeof $.site.sidebar && $.site.sidebar.init(), $(document).tooltip({
                selector: "[data-tooltip=true]",
                container: "body"
            }), $('[data-toggle="tooltip"]').tooltip(), $('[data-toggle="popover"]').popover(), "undefined" != typeof screenfull && ($(document).on("click", '[data-toggle="fullscreen"]', function() {
                return screenfull.enabled && screenfull.toggle(), !1
            }), screenfull.enabled && document.addEventListener(screenfull.raw.fullscreenchange, function() {
                $('[data-toggle="fullscreen"]').toggleClass("active", screenfull.isFullscreen)
            })), $body.on("click", ".dropdown-menu-media", function(e) {
                e.stopPropagation()
            }), "undefined" != typeof $.animsition ? this.loadAnimate(function() {
                $(".animsition").css({
                    "animation-duration": "0s"
                }), next()
            }) : next(), $(document).on("click", ".navbar-mega .dropdown-menu", function(e) {
                e.stopPropagation()
            }), $(document).on("show.bs.dropdown", function(e) {
                var $target = $(e.target),
                    $trigger = e.relatedTarget ? $(e.relatedTarget) : $target.children('[data-toggle="dropdown"]'),
                    animation = $trigger.data("animation");
                if (animation) {
                    var $menu = $target.children(".dropdown-menu");
                    $menu.addClass("animation-" + animation), $menu.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend", function() {
                        $menu.removeClass("animation-" + animation)
                    })
                }
            }), $(document).on("shown.bs.dropdown", function(e) {
                var $target = $(e.target),
                    $menu = $target.find(".dropdown-menu-media > .list-group");
                if ($menu.length > 0) {
                    var api = $menu.data("asScrollable");
                    if (api) api.update();
                    else {
                        var defaults = $.components.getDefaults("scrollable");
                        $menu.asScrollable(defaults)
                    }
                }
            });
            var pageAsideScroll = $('[data-plugin="pageAsideScroll"]');
            if (pageAsideScroll.length > 0) {
                pageAsideScroll.asScrollable({
                    namespace: "scrollable",
                    contentSelector: "> [data-role='content']",
                    containerSelector: "> [data-role='container']"
                });
                var pageAside = $(".page-aside"),
                    scrollable = pageAsideScroll.data("asScrollable");
                scrollable && (($body.is(".page-aside-fixed") || $body.is(".page-aside-scroll")) && $(".page-aside").on("transitionend", function() {
                    scrollable.update()
                }), Breakpoints.on("change", function() {
                    var current = Breakpoints.current().name;
                    $body.is(".page-aside-fixed") || $body.is(".page-aside-scroll") || ("xs" === current ? (scrollable.enable(), pageAside.on("transitionend", function() {
                        scrollable.update()
                    })) : (pageAside.off("transitionend"), scrollable.disable()))
                }), $(document).on("click.pageAsideScroll", ".page-aside-switch", function() {
                    var isOpen = pageAside.hasClass("open");
                    isOpen ? pageAside.removeClass("open") : (scrollable.update(), pageAside.addClass("open"))
                }), $(document).on("click.pageAsideScroll", '[data-toggle="collapse"]', function(e) {
                    var $trigger = $(e.target);
                    $trigger.is('[data-toggle="collapse"]') || ($trigger = $trigger.parents('[data-toggle="collapse"]'));
                    var href, target = $trigger.attr("data-target") || (href = $trigger.attr("href")) && href.replace(/.*(?=#[^\s]+$)/, ""),
                        $target = $(target);
                    "site-navbar-collapse" === $target.attr("id") && scrollable.update()
                }))
            }
            $.components.init(), this.startTour()
        },
        polyfillIEWidth: function() {
            if (navigator.userAgent.match(/IEMobile\/10\.0/)) {
                var msViewportStyle = document.createElement("style");
                msViewportStyle.appendChild(document.createTextNode("@-ms-viewport{width:auto!important}")), document.querySelector("head").appendChild(msViewportStyle)
            }
        },
        loadAnimate: function(callback) {
            return $.components.call("animsition", document, callback)
        },
        startTour: function(flag) {
            if ("undefined" == typeof this.tour) {
                if ("undefined" == typeof introJs) return;
                var tourOptions = $.configs.get("tour"),
                    self = this;
                flag = $("body").css("overflow"), this.tour = introJs(), this.tour.onbeforechange(function() {
                    $("body").css("overflow", "hidden")
                }), this.tour.oncomplete(function() {
                    $("body").css("overflow", flag)
                }), this.tour.onexit(function() {
                    $("body").css("overflow", flag)
                }), this.tour.setOptions(tourOptions), $(".site-tour-trigger").on("click", function() {
                    self.tour.start()
                })
            }
        }
    })
}(window, document, jQuery);
! function(window, document, $) {
    "use strict";
    $.site.menu = {
        speed: 250,
        accordion: !0,
        init: function() {
            this.$instance = $(".site-menu"), 0 !== this.$instance.length && this.bind()
        },
        bind: function() {
            var self = this;
            this.$instance.on("mouseenter.site.menu", ".site-menu-item", function() {
                var $item = $(this);
                if ($.site.menubar.folded === !0 && $item.is(".has-sub") && $item.parent(".site-menu").length > 0) {
                    var $sub = $item.children(".site-menu-sub");
                    self.position($item, $sub)
                }
                $item.addClass("hover")
            }).on("mouseleave.site.menu", ".site-menu-item", function() {
                var $item = $(this);
                $.site.menubar.folded === !0 && $item.is(".has-sub") && $item.parent(".site-menu").length > 0 && $item.children(".site-menu-sub").css("max-height", ""), $item.removeClass("hover")
            }).on("deactive.site.menu", ".site-menu-item.active", function(e) {
                var $item = $(this);
                $item.removeClass("active"), e.stopPropagation()
            }).on("active.site.menu", ".site-menu-item", function(e) {
                var $item = $(this);
                $item.addClass("active"), e.stopPropagation()
            }).on("open.site.menu", ".site-menu-item", function(e) {
                var $item = $(this);
                self.expand($item, function() {
                    $item.addClass("open")
                }), self.accordion && $item.siblings(".open").trigger("close.site.menu"), e.stopPropagation()
            }).on("close.site.menu", ".site-menu-item.open", function(e) {
                var $item = $(this);
                self.collapse($item, function() {
                    $item.removeClass("open")
                }), e.stopPropagation()
            }).on("click.site.menu ", ".site-menu-item", function(e) {
                $(this).is(".has-sub") && $(e.target).closest(".site-menu-item").is(this) ? $(this).is(".open") ? $(this).trigger("close.site.menu") : $(this).trigger("open.site.menu") : $(this).is(".active") || ($(this).siblings(".active").trigger("deactive.site.menu"), $(this).trigger("active.site.menu")), e.stopPropagation()
            }).on("tap.site.menu", "> .site-menu-item > a", function() {
                var link = $(this).attr("href");
                link && (window.location = link)
            }).on("touchend.site.menu", "> .site-menu-item > a", function(e) {
                var $item = $(this).parent(".site-menu-item");
                $.site.menubar.folded === !0 && $item.is(".has-sub") && $item.parent(".site-menu").length > 0 && ($item.siblings(".hover").removeClass("hover"), $item.is(".hover") ? $item.removeClass("hover") : $item.addClass("hover"))
            }).on("scroll.site.menu", ".site-menu-sub", function(e) {
                e.stopPropagation()
            })
        },
        collapse: function($item, callback) {
            var self = this,
                $sub = $item.children(".site-menu-sub");
            $sub.show().slideUp(this.speed, function() {
                $(this).css("display", ""), $(this).find("> .site-menu-item").removeClass("is-shown"), callback && callback(), self.$instance.trigger("collapsed.site.menu")
            })
        },
        expand: function($item, callback) {
            var self = this,
                $sub = $item.children(".site-menu-sub"),
                $children = $sub.children(".site-menu-item").addClass("is-hidden");
            $sub.hide().slideDown(this.speed, function() {
                $(this).css("display", ""), callback && callback(), self.$instance.trigger("expanded.site.menu")
            }), setTimeout(function() {
                $children.addClass("is-shown"), $children.removeClass("is-hidden")
            }, 0)
        },
        refresh: function() {
            this.$instance.find(".open").filter(":not(.active)").removeClass("open")
        },
        position: function($item, $dropdown) {
            var offsetTop = $item.position().top,
                menubarHeight = ($dropdown.outerHeight(), $.site.menubar.$instance.outerHeight()),
                itemHeight = $item.find("> a").outerHeight();
            $dropdown.removeClass("site-menu-sub-up").css("max-height", ""), offsetTop > menubarHeight / 2 ? ($dropdown.addClass("site-menu-sub-up"), $.site.menubar.foldAlt && (offsetTop -= itemHeight), $dropdown.css("max-height", offsetTop + itemHeight)) : ($.site.menubar.foldAlt && (offsetTop += itemHeight), $dropdown.removeClass("site-menu-sub-up"), $dropdown.css("max-height", menubarHeight - offsetTop))
        }
    }
}(window, document, jQuery);
! function(window, document, $) {
    "use strict";
    var $body = $("body"),
        $html = $("html");
    $.site.menubar = {
        opened: null,
        folded: null,
        top: !1,
        foldAlt: !1,
        $instance: null,
        auto: !0,
        init: function() {
            if ($html.removeClass("css-menubar").addClass("js-menubar"), this.$instance = $(".site-menubar"), 0 !== this.$instance.length) {
                var self = this;
                $body.is(".site-menubar-top") && (this.top = !0), $body.is(".site-menubar-fold-alt") && (this.foldAlt = !0), ($body.data("autoMenubar") === !1 || $body.is(".site-menubar-keep")) && ($body.hasClass("site-menubar-fold") ? this.auto = "fold" : $body.hasClass("site-menubar-unfold") && (this.auto = "unfold")), this.$instance.on("changed.site.menubar", function() {
                    self.update()
                }), this.change()
            }
        },
        change: function() {
            var breakpoint = Breakpoints.current();
            if (this.auto !== !0) switch (this.auto) {
                case "fold":
                    return this.reset(), void("xs" == breakpoint.name ? this.hide() : this.fold());
                case "unfold":
                    return this.reset(), void("xs" == breakpoint.name ? this.hide() : this.unfold())
            }
            if (this.reset(), breakpoint) switch (breakpoint.name) {
                case "lg":
                    this.unfold();
                    break;
                case "md":
                case "sm":
                    this.fold();
                    break;
                case "xs":
                    this.hide()
            }
        },
        animate: function(doing, callback) {
            var self = this;
            $body.addClass("site-menubar-changing"), doing.call(self), this.$instance.trigger("changing.site.menubar"), setTimeout(function() {
                callback.call(self), $body.removeClass("site-menubar-changing"), self.$instance.trigger("changed.site.menubar")
            }, 500)
        },
        reset: function() {
            this.opened = null, this.folded = null, $body.removeClass("site-menubar-hide site-menubar-open site-menubar-fold site-menubar-unfold"), $html.removeClass("disable-scrolling")
        },
        open: function() {
            this.opened !== !0 && this.animate(function() {
                $body.removeClass("site-menubar-hide").addClass("site-menubar-open site-menubar-unfold"), this.opened = !0, $html.addClass("disable-scrolling")
            }, function() {
                this.scrollable.enable()
            })
        },
        hide: function() {
            this.hoverscroll.disable(), this.opened !== !1 && this.animate(function() {
                $html.removeClass("disable-scrolling"), $body.removeClass("site-menubar-open").addClass("site-menubar-hide site-menubar-unfold"), this.opened = !1
            }, function() {
                this.scrollable.enable()
            })
        },
        unfold: function() {
            this.hoverscroll.disable(), this.folded !== !1 && this.animate(function() {
                $body.removeClass("site-menubar-fold").addClass("site-menubar-unfold"), this.folded = !1
            }, function() {
                this.scrollable.enable(), null !== this.folded && $.site.resize()
            })
        },
        fold: function() {
            this.scrollable.disable(), this.folded !== !0 && this.animate(function() {
                $body.removeClass("site-menubar-unfold").addClass("site-menubar-fold"), this.folded = !0
            }, function() {
                this.hoverscroll.enable(), null !== this.folded && $.site.resize()
            })
        },
        toggle: function() {
            var breakpoint = Breakpoints.current(),
                folded = this.folded,
                opened = this.opened;
            switch (breakpoint.name) {
                case "lg":
                    null === folded || folded === !1 ? this.fold() : this.unfold();
                    break;
                case "md":
                case "sm":
                    null === folded || folded === !0 ? this.unfold() : this.fold();
                    break;
                case "xs":
                    null === opened || opened === !1 ? this.open() : this.hide()
            }
        },
        update: function() {
            this.scrollable.update(), this.hoverscroll.update()
        },
        scrollable: {
            api: null,
            "native": !1,
            init: function() {
                return $body.is(".site-menubar-native") ? void(this["native"] = !0) : void(this.api = $.site.menubar.$instance.children(".site-menubar-body").asScrollable({
                    namespace: "scrollable",
                    skin: "scrollable-inverse",
                    direction: "vertical",
                    contentSelector: ">",
                    containerSelector: ">"
                }).data("asScrollable"))
            },
            update: function() {
                this.api && this.api.update()
            },
            enable: function() {
                this["native"] || (this.api || this.init(), this.api && this.api.enable())
            },
            disable: function() {
                this.api && this.api.disable()
            }
        },
        hoverscroll: {
            api: null,
            init: function() {
                this.api = $.site.menubar.$instance.children(".site-menubar-body").asHoverScroll({
                    namespace: "hoverscorll",
                    direction: "vertical",
                    list: ".site-menu",
                    item: "> li",
                    exception: ".site-menu-sub",
                    fixed: !1,
                    boundary: 100,
                    onEnter: function() {},
                    onLeave: function() {}
                }).data("asHoverScroll")
            },
            update: function() {
                this.api && this.api.update()
            },
            enable: function() {
                this.api || this.init(), this.api && this.api.enable()
            },
            disable: function() {
                this.api && this.api.disable()
            }
        }
    }
}(window, document, jQuery);
! function(window, document, $) {
    "use strict";
    var $body = $("body"),
        $html = $("html");
    $.site.gridmenu = {
        opened: !1,
        init: function() {
            this.$instance = $(".site-gridmenu"), 0 !== this.$instance.length && this.bind()
        },
        bind: function() {
            var self = this;
            $(document).on("click", '[data-toggle="gridmenu"]', function() {
                var $this = $(this);
                self.opened ? (self.close(), $this.removeClass("active").attr("aria-expanded", !1)) : (self.open(), $this.addClass("active").attr("aria-expanded", !0))
            })
        },
        open: function() {
            var self = this;
            this.opened !== !0 && this.animate(function() {
                self.opened = !0, self.$instance.addClass("active"), $('[data-toggle="gridmenu"]').addClass("active").attr("aria-expanded", !0), $body.addClass("site-gridmenu-active"), $html.addClass("disable-scrolling")
            }, function() {
                this.scrollable.enable()
            })
        },
        close: function() {
            var self = this;
            this.opened === !0 && this.animate(function() {
                self.opened = !1, self.$instance.removeClass("active"), $('[data-toggle="gridmenu"]').addClass("active").attr("aria-expanded", !0), $body.removeClass("site-gridmenu-active"), $html.removeClass("disable-scrolling")
            }, function() {
                this.scrollable.disable()
            })
        },
        toggle: function() {
            this.opened ? this.close() : this.open()
        },
        animate: function(doing, callback) {
            var self = this;
            doing.call(self), this.$instance.trigger("changing.site.gridmenu"), setTimeout(function() {
                callback.call(self), self.$instance.trigger("changed.site.gridmenu")
            }, 500)
        },
        scrollable: {
            api: null,
            init: function() {
                this.api = $.site.gridmenu.$instance.asScrollable({
                    namespace: "scrollable",
                    skin: "scrollable-inverse",
                    direction: "vertical",
                    contentSelector: ">",
                    containerSelector: ">"
                }).data("asScrollable")
            },
            update: function() {
                this.api && this.api.update()
            },
            enable: function() {
                this.api || this.init(), this.api && this.api.enable()
            },
            disable: function() {
                this.api && this.api.disable()
            }
        }
    }
}(window, document, jQuery);
! function(window, document, $) {
    "use strict";
    $.site.sidebar = {
        init: function() {
            "undefined" != typeof $.slidePanel && ($(document).on("click", '[data-toggle="site-sidebar"]', function() {
                var $this = $(this),
                    direction = "right";
                $("body").hasClass("site-menubar-flipped") && (direction = "left");
                var defaults = $.components.getDefaults("slidePanel"),
                    options = $.extend({}, defaults, {
                        direction: direction,
                        skin: "site-sidebar",
                        dragTolerance: 80,
                        template: function(options) {
                            return '<div class="' + options.classes.base + " " + options.classes.base + "-" + options.direction + '"><div class="' + options.classes.content + ' site-sidebar-content"></div><div class="slidePanel-handler"></div></div>'
                        },
                        afterLoad: function() {
                            var self = this;
                            this.$panel.find(".tab-pane").asScrollable({
                                namespace: "scrollable",
                                contentSelector: "> div",
                                containerSelector: "> div"
                            }), $.components.init("switchery", self.$panel), this.$panel.on("shown.bs.tab", function() {
                                self.$panel.find(".tab-pane.active").asScrollable("update")
                            })
                        },
                        beforeShow: function() {
                            $this.hasClass("active") || $this.addClass("active")
                        },
                        afterHide: function() {
                            $this.hasClass("active") && $this.removeClass("active")
                        }
                    });
                if ($this.hasClass("active")) $.slidePanel.hide();
                else {
                    var url = $this.data("url");
                    url || (url = $this.attr("href"), url = url && url.replace(/.*(?=#[^\s]*$)/, "")), $.slidePanel.show({
                        url: url
                    }, options)
                }
            }), $(document).on("click", '[data-toggle="show-chat"]', function() {
                $("#conversation").addClass("active")
            }), $(document).on("click", '[data-toggle="close-chat"]', function() {
                $("#conversation").removeClass("active")
            }))
        }
    }
}(window, document, jQuery);
! function(window, document, $) {
    "use strict";
    $.configs.colors = {
        red: {
            100: "#ffeaea",
            200: "#fad3d3",
            300: "#fab4b4",
            400: "#fa9898",
            500: "#fa7a7a",
            600: "#f96868",
            700: "#e9595b",
            800: "#d6494b"
        },
        pink: {
            100: "#fce4ec",
            200: "#ffccde",
            300: "#fba9c6",
            400: "#fb8db4",
            500: "#f978a6",
            600: "#f96197",
            700: "#f44c87",
            800: "#e53b75"
        },
        purple: {
            100: "#f6f2ff",
            200: "#e3dbf4",
            300: "#d2c5ec",
            400: "#bba7e4",
            500: "#a58add",
            600: "#926dde",
            700: "#7c51d1",
            800: "#6d45bc"
        },
        indigo: {
            100: "#edeff9",
            200: "#dadef5",
            300: "#bcc5f4",
            400: "#9daaf3",
            500: "#8897ec",
            600: "#677ae4",
            700: "#5166d6",
            800: "#465bd4"
        },
        blue: {
            100: "#e8f1f8",
            200: "#d5e4f1",
            300: "#bcd8f1",
            400: "#a2caee",
            500: "#89bceb",
            600: "#62a8ea",
            700: "#4e97d9",
            800: "#3583ca"
        },
        cyan: {
            100: "#ecf9fa",
            200: "#d3eff2",
            300: "#baeaef",
            400: "#9ae1e9",
            500: "#77d6e1",
            600: "#57c7d4",
            700: "#47b8c6",
            800: "#37a9b7"
        },
        teal: {
            100: "#ecfdfc",
            200: "#cdf4f1",
            300: "#99e1da",
            400: "#79d1c9",
            500: "#56bfb5",
            600: "#3aa99e",
            700: "#269b8f",
            800: "#178d81"
        },
        green: {
            100: "#e7faf2",
            200: "#bfedd8",
            300: "#9fe5c5",
            400: "#7dd3ae",
            500: "#5cd29d",
            600: "#46be8a",
            700: "#36ab7a",
            800: "#279566"
        },
        "light-green": {
            100: "#f1f7ea",
            200: "#e0ecd1",
            300: "#cadfb1",
            400: "#bad896",
            500: "#acd57c",
            600: "#9ece67",
            700: "#83b944",
            800: "#70a532"
        },
        yellow: {
            100: "#fffae7",
            200: "#f9eec1",
            300: "#f6e7a9",
            400: "#f8e59b",
            500: "#f7e083",
            600: "#f7da64",
            700: "#f9cd48",
            800: "#fbc02d"
        },
        orange: {
            100: "#fff3e6",
            200: "#ffddb9",
            300: "#fbce9d",
            400: "#f6be80",
            500: "#f4b066",
            600: "#f2a654",
            700: "#ec9940",
            800: "#e98f2e"
        },
        brown: {
            100: "#fae6df",
            200: "#e2bdaf",
            300: "#d3aa9c",
            400: "#b98e7e",
            500: "#a17768",
            600: "#8d6658",
            700: "#7d5b4f",
            800: "#715146"
        },
        grey: {
            100: "#fafafa",
            200: "#eeeeee",
            300: "#e0e0e0",
            400: "#bdbdbd",
            500: "#9e9e9e",
            600: "#757575",
            700: "#616161",
            800: "#424242"
        },
        "blue-grey": {
            100: "#f3f7f9",
            200: "#e4eaec",
            300: "#ccd5db",
            400: "#a3afb7",
            500: "#76838f",
            600: "#526069",
            700: "#37474f",
            800: "#263238"
        }
    }
}(window, document, $);
! function(window, document, $) {
    "use strict";
    $.configs.set("tour", {
        steps: [{
            element: "#toggleMenubar",
            position: "right",
            intro: "Offcanvas Menu <p class='content'>It is nice custom navigation for desktop users and a seek off-canvas menu for tablet and mobile users</p>"
        }, {
            element: "#toggleFullscreen",
            intro: "Full Screen <p class='content'>Click this button you can view the admin template in full screen</p>"
        }, {
            element: "#toggleChat",
            position: "left",
            intro: "Quick Conversations <p class='content'>This is a sidebar dialog box for user conversations list, you can even create a quick conversation with other users</p>"
        }],
        skipLabel: "<i class='wb-close'></i>",
        doneLabel: "<i class='wb-close'></i>",
        nextLabel: "Next <i class='wb-chevron-right-mini'></i>",
        prevLabel: "<i class='wb-chevron-left-mini'></i>Prev",
        showBullets: !1
    })
}(window, document, $);
/*!
 * Remark (http://getbootstrapadmin.com/remark)
 * Copyright 2015 amazingsurge
 * Licensed under the Themeforest Standard Licenses
 */
$.components.register("scrollable", {
    mode: "init",
    defaults: {
        namespace: "scrollable",
        contentSelector: "> [data-role='content']",
        containerSelector: "> [data-role='container']"
    },
    init: function(context) {
        if ($.fn.asScrollable) {
            var defaults = $.components.getDefaults("scrollable");
            $('[data-plugin="scrollable"]', context).each(function() {
                var options = $.extend({}, defaults, $(this).data());
                $(this).asScrollable(options)
            })
        }
    }
});
$.components.register("animsition", {
    mode: "manual",
    defaults: {
        inClass: "fade-in",
        outClass: "fade-out",
        inDuration: 800,
        outDuration: 500,
        linkElement: ".animsition-link",
        loading: !0,
        loadingParentElement: "body",
        loadingClass: "loader",
        loadingType: "default",
        unSupportCss: ["animation-duration", "-webkit-animation-duration", "-o-animation-duration"],
        overlay: !1,
        overlayClass: "animsition-overlay-slide",
        overlayParentElement: "body",
        inDefaults: ["fade-in", "fade-in-up-sm", "fade-in-up", "fade-in-up-lg", "fade-in-down-sm", "fade-in-down", "fade-in-down-lg", "fade-in-left-sm", "fade-in-left", "fade-in-left-lg", "fade-in-right-sm", "fade-in-right", "fade-in-right-lg", "zoom-in-sm", "zoom-in", "zoom-in-lg"],
        outDefaults: ["fade-out", "fade-out-up-sm", "fade-out-up", "fade-out-up-lg", "fade-out-down-sm", "fade-out-down", "fade-out-down-lg", "fade-out-left-sm", "fade-out-left", "fade-out-left-lg", "fade-out-right-sm", "fade-out-right", "fade-out-right-lg", "zoom-out-sm", "zoom-out", "zoom-out-lg"]
    },
    init: function(context, callback) {
        var options = $.components.getDefaults("animsition");
        if (options.random) {
            var li = options.inDefaults.length,
                lo = options.outDefaults.length,
                ni = parseInt(li * Math.random(), 0),
                no = parseInt(lo * Math.random(), 0);
            options.inClass = options.inDefaults[ni], options.outClass = options.outDefaults[no]
        }
        var $this = $(".animsition", context);
        return $this.animsition(options), $("." + options.loadingClass).addClass("loader-" + options.loadingType), $this.animsition("supportCheck", options) ? ($.isFunction(callback) && $this.one("animsition.end", function() {
            callback.call()
        }), !0) : ($.isFunction(callback) && callback.call(), !1)
    }
});
$.components.register("slidePanel", {
    mode: "manual",
    defaults: {
        closeSelector: ".slidePanel-close",
        mouseDragHandler: ".slidePanel-handler",
        loading: {
            template: function(options) {
                return '<div class="' + options.classes.loading + '"><div class="loader loader-default"></div></div>'
            },
            showCallback: function(options) {
                this.$el.addClass(options.classes.loading + "-show")
            },
            hideCallback: function(options) {
                this.$el.removeClass(options.classes.loading + "-show")
            }
        }
    }
});
/*!
 * Remark (http://getbootstrapadmin.com/remark)
 * Copyright 2015 amazingsurge
 * Licensed under the Themeforest Standard Licenses
 */
$.components.register("switchery", {
    mode: "init",
    defaults: {
        color: $.colors("primary", 600)
    },
    init: function(context) {
        if ("undefined" != typeof Switchery) {
            var defaults = $.components.getDefaults("switchery");
            $('[data-plugin="switchery"]', context).each(function() {
                var options = $.extend({}, defaults, $(this).data());
                new Switchery(this, options)
            })
        }
    }
});
/*!
 * Remark (http://getbootstrapadmin.com/remark)
 * Copyright 2015 amazingsurge
 * Licensed under the Themeforest Standard Licenses
 */
$.components.register("matchHeight", {
    mode: "init",
    defaults: {},
    init: function(context) {
        if ("undefined" != typeof $.fn.matchHeight) {
            var defaults = $.components.getDefaults("matchHeight");
            $('[data-plugin="matchHeight"]', context).each(function() {
                var $this = $(this),
                    options = $.extend(!0, {}, defaults, $this.data()),
                    matchSelector = $this.data("matchSelector");
                matchSelector ? $this.find(matchSelector).matchHeight(options) : $this.children().matchHeight(options)
            })
        }
    }
});
/*!
 * Remark (http://getbootstrapadmin.com/remark)
 * Copyright 2015 amazingsurge
 * Licensed under the Themeforest Standard Licenses
 */
$.components.register("selectpicker", {
    mode: "default",
    defaults: {
        style: "btn-select",
        iconBase: "icon",
        tickIcon: "wb-check"
    }
});
/*!
 * Remark (http://getbootstrapadmin.com/remark)
 * Copyright 2015 amazingsurge
 * Licensed under the Themeforest Standard Licenses
 */
$.components.register("datepicker", {
    mode: "default",
    defaults: {
        autoclose: !0
    }
});
/*!
 * Remark (http://getbootstrapadmin.com/remark)
 * Copyright 2015 amazingsurge
 * Licensed under the Themeforest Standard Licenses
 */
$.components.register("timepicker", {
    mode: "default",
    defaults: {}
});
$.components.register("multiSelect", {
    mode: "default",
    defaults: {}
});
/*!
 * Datepicker for Bootstrap v1.4.0 (https://github.com/eternicode/bootstrap-datepicker)
 *
 * Copyright 2012 Stefan Petre
 * Improvements by Andrew Rowls
 * Licensed under the Apache License v2.0 (http://www.apache.org/licenses/LICENSE-2.0)
 */
! function(a, b) {
    function c() {
        return new Date(Date.UTC.apply(Date, arguments))
    }

    function d() {
        var a = new Date;
        return c(a.getFullYear(), a.getMonth(), a.getDate())
    }

    function e(a, b) {
        return a.getUTCFullYear() === b.getUTCFullYear() && a.getUTCMonth() === b.getUTCMonth() && a.getUTCDate() === b.getUTCDate()
    }

    function f(a) {
        return function() {
            return this[a].apply(this, arguments)
        }
    }

    function g(b, c) {
        function d(a, b) {
            return b.toLowerCase()
        }
        var e, f = a(b).data(),
            g = {},
            h = new RegExp("^" + c.toLowerCase() + "([A-Z])");
        c = new RegExp("^" + c.toLowerCase());
        for (var i in f) c.test(i) && (e = i.replace(h, d), g[e] = f[i]);
        return g
    }

    function h(b) {
        var c = {};
        if (p[b] || (b = b.split("-")[0], p[b])) {
            var d = p[b];
            return a.each(o, function(a, b) {
                b in d && (c[b] = d[b])
            }), c
        }
    }
    var i = function() {
            var b = {
                get: function(a) {
                    return this.slice(a)[0]
                },
                contains: function(a) {
                    for (var b = a && a.valueOf(), c = 0, d = this.length; d > c; c++)
                        if (this[c].valueOf() === b) return c;
                    return -1
                },
                remove: function(a) {
                    this.splice(a, 1)
                },
                replace: function(b) {
                    b && (a.isArray(b) || (b = [b]), this.clear(), this.push.apply(this, b))
                },
                clear: function() {
                    this.length = 0
                },
                copy: function() {
                    var a = new i;
                    return a.replace(this), a
                }
            };
            return function() {
                var c = [];
                return c.push.apply(c, arguments), a.extend(c, b), c
            }
        }(),
        j = function(b, c) {
            this._process_options(c), this.dates = new i, this.viewDate = this.o.defaultViewDate, this.focusDate = null, this.element = a(b), this.isInline = !1, this.isInput = this.element.is("input"), this.component = this.element.hasClass("date") ? this.element.find(".add-on, .input-group-addon, .btn") : !1, this.hasInput = this.component && this.element.find("input").length, this.component && 0 === this.component.length && (this.component = !1), this.picker = a(q.template), this._buildEvents(), this._attachEvents(), this.isInline ? this.picker.addClass("datepicker-inline").appendTo(this.element) : this.picker.addClass("datepicker-dropdown dropdown-menu"), this.o.rtl && this.picker.addClass("datepicker-rtl"), this.viewMode = this.o.startView, this.o.calendarWeeks && this.picker.find("tfoot .today, tfoot .clear").attr("colspan", function(a, b) {
                return parseInt(b) + 1
            }), this._allow_update = !1, this.setStartDate(this._o.startDate), this.setEndDate(this._o.endDate), this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled), this.setDatesDisabled(this.o.datesDisabled), this.fillDow(), this.fillMonths(), this._allow_update = !0, this.update(), this.showMode(), this.isInline && this.show()
        };
    j.prototype = {
        constructor: j,
        _process_options: function(e) {
            this._o = a.extend({}, this._o, e);
            var f = this.o = a.extend({}, this._o),
                g = f.language;
            switch (p[g] || (g = g.split("-")[0], p[g] || (g = n.language)), f.language = g, f.startView) {
                case 2:
                case "decade":
                    f.startView = 2;
                    break;
                case 1:
                case "year":
                    f.startView = 1;
                    break;
                default:
                    f.startView = 0
            }
            switch (f.minViewMode) {
                case 1:
                case "months":
                    f.minViewMode = 1;
                    break;
                case 2:
                case "years":
                    f.minViewMode = 2;
                    break;
                default:
                    f.minViewMode = 0
            }
            f.startView = Math.max(f.startView, f.minViewMode), f.multidate !== !0 && (f.multidate = Number(f.multidate) || !1, f.multidate !== !1 && (f.multidate = Math.max(0, f.multidate))), f.multidateSeparator = String(f.multidateSeparator), f.weekStart %= 7, f.weekEnd = (f.weekStart + 6) % 7;
            var h = q.parseFormat(f.format);
            if (f.startDate !== -1 / 0 && (f.startDate = f.startDate ? f.startDate instanceof Date ? this._local_to_utc(this._zero_time(f.startDate)) : q.parseDate(f.startDate, h, f.language) : -1 / 0), 1 / 0 !== f.endDate && (f.endDate = f.endDate ? f.endDate instanceof Date ? this._local_to_utc(this._zero_time(f.endDate)) : q.parseDate(f.endDate, h, f.language) : 1 / 0), f.daysOfWeekDisabled = f.daysOfWeekDisabled || [], a.isArray(f.daysOfWeekDisabled) || (f.daysOfWeekDisabled = f.daysOfWeekDisabled.split(/[,\s]*/)), f.daysOfWeekDisabled = a.map(f.daysOfWeekDisabled, function(a) {
                    return parseInt(a, 10)
                }), f.datesDisabled = f.datesDisabled || [], !a.isArray(f.datesDisabled)) {
                var i = [];
                i.push(q.parseDate(f.datesDisabled, h, f.language)), f.datesDisabled = i
            }
            f.datesDisabled = a.map(f.datesDisabled, function(a) {
                return q.parseDate(a, h, f.language)
            });
            var j = String(f.orientation).toLowerCase().split(/\s+/g),
                k = f.orientation.toLowerCase();
            if (j = a.grep(j, function(a) {
                    return /^auto|left|right|top|bottom$/.test(a)
                }), f.orientation = {
                    x: "auto",
                    y: "auto"
                }, k && "auto" !== k)
                if (1 === j.length) switch (j[0]) {
                    case "top":
                    case "bottom":
                        f.orientation.y = j[0];
                        break;
                    case "left":
                    case "right":
                        f.orientation.x = j[0]
                } else k = a.grep(j, function(a) {
                    return /^left|right$/.test(a)
                }), f.orientation.x = k[0] || "auto", k = a.grep(j, function(a) {
                    return /^top|bottom$/.test(a)
                }), f.orientation.y = k[0] || "auto";
                else;
            if (f.defaultViewDate) {
                var l = f.defaultViewDate.year || (new Date).getFullYear(),
                    m = f.defaultViewDate.month || 0,
                    o = f.defaultViewDate.day || 1;
                f.defaultViewDate = c(l, m, o)
            } else f.defaultViewDate = d();
            f.showOnFocus = f.showOnFocus !== b ? f.showOnFocus : !0
        },
        _events: [],
        _secondaryEvents: [],
        _applyEvents: function(a) {
            for (var c, d, e, f = 0; f < a.length; f++) c = a[f][0], 2 === a[f].length ? (d = b, e = a[f][1]) : 3 === a[f].length && (d = a[f][1], e = a[f][2]), c.on(e, d)
        },
        _unapplyEvents: function(a) {
            for (var c, d, e, f = 0; f < a.length; f++) c = a[f][0], 2 === a[f].length ? (e = b, d = a[f][1]) : 3 === a[f].length && (e = a[f][1], d = a[f][2]), c.off(d, e)
        },
        _buildEvents: function() {
            var b = {
                keyup: a.proxy(function(b) {
                    -1 === a.inArray(b.keyCode, [27, 37, 39, 38, 40, 32, 13, 9]) && this.update()
                }, this),
                keydown: a.proxy(this.keydown, this)
            };
            this.o.showOnFocus === !0 && (b.focus = a.proxy(this.show, this)), this.isInput ? this._events = [
                [this.element, b]
            ] : this.component && this.hasInput ? this._events = [
                [this.element.find("input"), b],
                [this.component, {
                    click: a.proxy(this.show, this)
                }]
            ] : this.element.is("div") ? this.isInline = !0 : this._events = [
                [this.element, {
                    click: a.proxy(this.show, this)
                }]
            ], this._events.push([this.element, "*", {
                blur: a.proxy(function(a) {
                    this._focused_from = a.target
                }, this)
            }], [this.element, {
                blur: a.proxy(function(a) {
                    this._focused_from = a.target
                }, this)
            }]), this._secondaryEvents = [
                [this.picker, {
                    click: a.proxy(this.click, this)
                }],
                [a(window), {
                    resize: a.proxy(this.place, this)
                }],
                [a(document), {
                    "mousedown touchstart": a.proxy(function(a) {
                        this.element.is(a.target) || this.element.find(a.target).length || this.picker.is(a.target) || this.picker.find(a.target).length || this.hide()
                    }, this)
                }]
            ]
        },
        _attachEvents: function() {
            this._detachEvents(), this._applyEvents(this._events)
        },
        _detachEvents: function() {
            this._unapplyEvents(this._events)
        },
        _attachSecondaryEvents: function() {
            this._detachSecondaryEvents(), this._applyEvents(this._secondaryEvents)
        },
        _detachSecondaryEvents: function() {
            this._unapplyEvents(this._secondaryEvents)
        },
        _trigger: function(b, c) {
            var d = c || this.dates.get(-1),
                e = this._utc_to_local(d);
            this.element.trigger({
                type: b,
                date: e,
                dates: a.map(this.dates, this._utc_to_local),
                format: a.proxy(function(a, b) {
                    0 === arguments.length ? (a = this.dates.length - 1, b = this.o.format) : "string" == typeof a && (b = a, a = this.dates.length - 1), b = b || this.o.format;
                    var c = this.dates.get(a);
                    return q.formatDate(c, b, this.o.language)
                }, this)
            })
        },
        show: function() {
            return this.element.attr("readonly") && this.o.enableOnReadonly === !1 ? void 0 : (this.isInline || this.picker.appendTo(this.o.container), this.place(), this.picker.show(), this._attachSecondaryEvents(), this._trigger("show"), (window.navigator.msMaxTouchPoints || "ontouchstart" in document) && this.o.disableTouchKeyboard && a(this.element).blur(), this)
        },
        hide: function() {
            return this.isInline ? this : this.picker.is(":visible") ? (this.focusDate = null, this.picker.hide().detach(), this._detachSecondaryEvents(), this.viewMode = this.o.startView, this.showMode(), this.o.forceParse && (this.isInput && this.element.val() || this.hasInput && this.element.find("input").val()) && this.setValue(), this._trigger("hide"), this) : this
        },
        remove: function() {
            return this.hide(), this._detachEvents(), this._detachSecondaryEvents(), this.picker.remove(), delete this.element.data().datepicker, this.isInput || delete this.element.data().date, this
        },
        _utc_to_local: function(a) {
            return a && new Date(a.getTime() + 6e4 * a.getTimezoneOffset())
        },
        _local_to_utc: function(a) {
            return a && new Date(a.getTime() - 6e4 * a.getTimezoneOffset())
        },
        _zero_time: function(a) {
            return a && new Date(a.getFullYear(), a.getMonth(), a.getDate())
        },
        _zero_utc_time: function(a) {
            return a && new Date(Date.UTC(a.getUTCFullYear(), a.getUTCMonth(), a.getUTCDate()))
        },
        getDates: function() {
            return a.map(this.dates, this._utc_to_local)
        },
        getUTCDates: function() {
            return a.map(this.dates, function(a) {
                return new Date(a)
            })
        },
        getDate: function() {
            return this._utc_to_local(this.getUTCDate())
        },
        getUTCDate: function() {
            var a = this.dates.get(-1);
            return "undefined" != typeof a ? new Date(a) : null
        },
        clearDates: function() {
            var a;
            this.isInput ? a = this.element : this.component && (a = this.element.find("input")), a && a.val("").change(), this.update(), this._trigger("changeDate"), this.o.autoclose && this.hide()
        },
        setDates: function() {
            var b = a.isArray(arguments[0]) ? arguments[0] : arguments;
            return this.update.apply(this, b), this._trigger("changeDate"), this.setValue(), this
        },
        setUTCDates: function() {
            var b = a.isArray(arguments[0]) ? arguments[0] : arguments;
            return this.update.apply(this, a.map(b, this._utc_to_local)), this._trigger("changeDate"), this.setValue(), this
        },
        setDate: f("setDates"),
        setUTCDate: f("setUTCDates"),
        setValue: function() {
            var a = this.getFormattedDate();
            return this.isInput ? this.element.val(a).change() : this.component && this.element.find("input").val(a).change(), this
        },
        getFormattedDate: function(c) {
            c === b && (c = this.o.format);
            var d = this.o.language;
            return a.map(this.dates, function(a) {
                return q.formatDate(a, c, d)
            }).join(this.o.multidateSeparator)
        },
        setStartDate: function(a) {
            return this._process_options({
                startDate: a
            }), this.update(), this.updateNavArrows(), this
        },
        setEndDate: function(a) {
            return this._process_options({
                endDate: a
            }), this.update(), this.updateNavArrows(), this
        },
        setDaysOfWeekDisabled: function(a) {
            return this._process_options({
                daysOfWeekDisabled: a
            }), this.update(), this.updateNavArrows(), this
        },
        setDatesDisabled: function(a) {
            this._process_options({
                datesDisabled: a
            }), this.update(), this.updateNavArrows()
        },
        place: function() {
            if (this.isInline) return this;
            var b = this.picker.outerWidth(),
                c = this.picker.outerHeight(),
                d = 10,
                e = a(this.o.container).width(),
                f = a(this.o.container).height(),
                g = a(this.o.container).scrollTop(),
                h = a(this.o.container).offset(),
                i = [];
            this.element.parents().each(function() {
                var b = a(this).css("z-index");
                "auto" !== b && 0 !== b && i.push(parseInt(b))
            });
            var j = Math.max.apply(Math, i) + 10,
                k = this.component ? this.component.parent().offset() : this.element.offset(),
                l = this.component ? this.component.outerHeight(!0) : this.element.outerHeight(!1),
                m = this.component ? this.component.outerWidth(!0) : this.element.outerWidth(!1),
                n = k.left - h.left,
                o = k.top - h.top;
            this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"), "auto" !== this.o.orientation.x ? (this.picker.addClass("datepicker-orient-" + this.o.orientation.x), "right" === this.o.orientation.x && (n -= b - m)) : k.left < 0 ? (this.picker.addClass("datepicker-orient-left"), n -= k.left - d) : n + b > e ? (this.picker.addClass("datepicker-orient-right"), n = k.left + m - b) : this.picker.addClass("datepicker-orient-left");
            var p, q, r = this.o.orientation.y;
            if ("auto" === r && (p = -g + o - c, q = g + f - (o + l + c), r = Math.max(p, q) === q ? "top" : "bottom"), this.picker.addClass("datepicker-orient-" + r), "top" === r ? o += l : o -= c + parseInt(this.picker.css("padding-top")), this.o.rtl) {
                var s = e - (n + m);
                this.picker.css({
                    top: o,
                    right: s,
                    zIndex: j
                })
            } else this.picker.css({
                top: o,
                left: n,
                zIndex: j
            });
            return this
        },
        _allow_update: !0,
        update: function() {
            if (!this._allow_update) return this;
            var b = this.dates.copy(),
                c = [],
                d = !1;
            return arguments.length ? (a.each(arguments, a.proxy(function(a, b) {
                b instanceof Date && (b = this._local_to_utc(b)), c.push(b)
            }, this)), d = !0) : (c = this.isInput ? this.element.val() : this.element.data("date") || this.element.find("input").val(), c = c && this.o.multidate ? c.split(this.o.multidateSeparator) : [c], delete this.element.data().date), c = a.map(c, a.proxy(function(a) {
                return q.parseDate(a, this.o.format, this.o.language)
            }, this)), c = a.grep(c, a.proxy(function(a) {
                return a < this.o.startDate || a > this.o.endDate || !a
            }, this), !0), this.dates.replace(c), this.dates.length ? this.viewDate = new Date(this.dates.get(-1)) : this.viewDate < this.o.startDate ? this.viewDate = new Date(this.o.startDate) : this.viewDate > this.o.endDate && (this.viewDate = new Date(this.o.endDate)), d ? this.setValue() : c.length && String(b) !== String(this.dates) && this._trigger("changeDate"), !this.dates.length && b.length && this._trigger("clearDate"), this.fill(), this
        },
        fillDow: function() {
            var a = this.o.weekStart,
                b = "<tr>";
            if (this.o.calendarWeeks) {
                this.picker.find(".datepicker-days thead tr:first-child .datepicker-switch").attr("colspan", function(a, b) {
                    return parseInt(b) + 1
                });
                var c = '<th class="cw">&#160;</th>';
                b += c
            }
            for (; a < this.o.weekStart + 7;) b += '<th class="dow">' + p[this.o.language].daysMin[a++ % 7] + "</th>";
            b += "</tr>", this.picker.find(".datepicker-days thead").append(b)
        },
        fillMonths: function() {
            for (var a = "", b = 0; 12 > b;) a += '<span class="month">' + p[this.o.language].monthsShort[b++] + "</span>";
            this.picker.find(".datepicker-months td").html(a)
        },
        setRange: function(b) {
            b && b.length ? this.range = a.map(b, function(a) {
                return a.valueOf()
            }) : delete this.range, this.fill()
        },
        getClassNames: function(b) {
            var c = [],
                d = this.viewDate.getUTCFullYear(),
                f = this.viewDate.getUTCMonth(),
                g = new Date;
            return b.getUTCFullYear() < d || b.getUTCFullYear() === d && b.getUTCMonth() < f ? c.push("old") : (b.getUTCFullYear() > d || b.getUTCFullYear() === d && b.getUTCMonth() > f) && c.push("new"), this.focusDate && b.valueOf() === this.focusDate.valueOf() && c.push("focused"), this.o.todayHighlight && b.getUTCFullYear() === g.getFullYear() && b.getUTCMonth() === g.getMonth() && b.getUTCDate() === g.getDate() && c.push("today"), -1 !== this.dates.contains(b) && c.push("active"), (b.valueOf() < this.o.startDate || b.valueOf() > this.o.endDate || -1 !== a.inArray(b.getUTCDay(), this.o.daysOfWeekDisabled)) && c.push("disabled"), this.o.datesDisabled.length > 0 && a.grep(this.o.datesDisabled, function(a) {
                return e(b, a)
            }).length > 0 && c.push("disabled", "disabled-date"), this.range && (b > this.range[0] && b < this.range[this.range.length - 1] && c.push("range"), -1 !== a.inArray(b.valueOf(), this.range) && c.push("selected")), c
        },
        fill: function() {
            var d, e = new Date(this.viewDate),
                f = e.getUTCFullYear(),
                g = e.getUTCMonth(),
                h = this.o.startDate !== -1 / 0 ? this.o.startDate.getUTCFullYear() : -1 / 0,
                i = this.o.startDate !== -1 / 0 ? this.o.startDate.getUTCMonth() : -1 / 0,
                j = 1 / 0 !== this.o.endDate ? this.o.endDate.getUTCFullYear() : 1 / 0,
                k = 1 / 0 !== this.o.endDate ? this.o.endDate.getUTCMonth() : 1 / 0,
                l = p[this.o.language].today || p.en.today || "",
                m = p[this.o.language].clear || p.en.clear || "";
            if (!isNaN(f) && !isNaN(g)) {
                this.picker.find(".datepicker-days thead .datepicker-switch").text(p[this.o.language].months[g] + " " + f), this.picker.find("tfoot .today").text(l).toggle(this.o.todayBtn !== !1), this.picker.find("tfoot .clear").text(m).toggle(this.o.clearBtn !== !1), this.updateNavArrows(), this.fillMonths();
                var n = c(f, g - 1, 28),
                    o = q.getDaysInMonth(n.getUTCFullYear(), n.getUTCMonth());
                n.setUTCDate(o), n.setUTCDate(o - (n.getUTCDay() - this.o.weekStart + 7) % 7);
                var r = new Date(n);
                r.setUTCDate(r.getUTCDate() + 42), r = r.valueOf();
                for (var s, t = []; n.valueOf() < r;) {
                    if (n.getUTCDay() === this.o.weekStart && (t.push("<tr>"), this.o.calendarWeeks)) {
                        var u = new Date(+n + (this.o.weekStart - n.getUTCDay() - 7) % 7 * 864e5),
                            v = new Date(Number(u) + (11 - u.getUTCDay()) % 7 * 864e5),
                            w = new Date(Number(w = c(v.getUTCFullYear(), 0, 1)) + (11 - w.getUTCDay()) % 7 * 864e5),
                            x = (v - w) / 864e5 / 7 + 1;
                        t.push('<td class="cw">' + x + "</td>")
                    }
                    if (s = this.getClassNames(n), s.push("day"), this.o.beforeShowDay !== a.noop) {
                        var y = this.o.beforeShowDay(this._utc_to_local(n));
                        y === b ? y = {} : "boolean" == typeof y ? y = {
                            enabled: y
                        } : "string" == typeof y && (y = {
                            classes: y
                        }), y.enabled === !1 && s.push("disabled"), y.classes && (s = s.concat(y.classes.split(/\s+/))), y.tooltip && (d = y.tooltip)
                    }
                    s = a.unique(s), t.push('<td class="' + s.join(" ") + '"' + (d ? ' title="' + d + '"' : "") + ">" + n.getUTCDate() + "</td>"), d = null, n.getUTCDay() === this.o.weekEnd && t.push("</tr>"), n.setUTCDate(n.getUTCDate() + 1)
                }
                this.picker.find(".datepicker-days tbody").empty().append(t.join(""));
                var z = this.picker.find(".datepicker-months").find("th:eq(1)").text(f).end().find("span").removeClass("active");
                if (a.each(this.dates, function(a, b) {
                        b.getUTCFullYear() === f && z.eq(b.getUTCMonth()).addClass("active")
                    }), (h > f || f > j) && z.addClass("disabled"), f === h && z.slice(0, i).addClass("disabled"), f === j && z.slice(k + 1).addClass("disabled"), this.o.beforeShowMonth !== a.noop) {
                    var A = this;
                    a.each(z, function(b, c) {
                        if (!a(c).hasClass("disabled")) {
                            var d = new Date(f, b, 1),
                                e = A.o.beforeShowMonth(d);
                            e === !1 && a(c).addClass("disabled")
                        }
                    })
                }
                t = "", f = 10 * parseInt(f / 10, 10);
                var B = this.picker.find(".datepicker-years").find("th:eq(1)").text(f + "-" + (f + 9)).end().find("td");
                f -= 1;
                for (var C, D = a.map(this.dates, function(a) {
                        return a.getUTCFullYear()
                    }), E = -1; 11 > E; E++) C = ["year"], -1 === E ? C.push("old") : 10 === E && C.push("new"), -1 !== a.inArray(f, D) && C.push("active"), (h > f || f > j) && C.push("disabled"), t += '<span class="' + C.join(" ") + '">' + f + "</span>", f += 1;
                B.html(t)
            }
        },
        updateNavArrows: function() {
            if (this._allow_update) {
                var a = new Date(this.viewDate),
                    b = a.getUTCFullYear(),
                    c = a.getUTCMonth();
                switch (this.viewMode) {
                    case 0:
                        this.picker.find(".prev").css(this.o.startDate !== -1 / 0 && b <= this.o.startDate.getUTCFullYear() && c <= this.o.startDate.getUTCMonth() ? {
                            visibility: "hidden"
                        } : {
                            visibility: "visible"
                        }), this.picker.find(".next").css(1 / 0 !== this.o.endDate && b >= this.o.endDate.getUTCFullYear() && c >= this.o.endDate.getUTCMonth() ? {
                            visibility: "hidden"
                        } : {
                            visibility: "visible"
                        });
                        break;
                    case 1:
                    case 2:
                        this.picker.find(".prev").css(this.o.startDate !== -1 / 0 && b <= this.o.startDate.getUTCFullYear() ? {
                            visibility: "hidden"
                        } : {
                            visibility: "visible"
                        }), this.picker.find(".next").css(1 / 0 !== this.o.endDate && b >= this.o.endDate.getUTCFullYear() ? {
                            visibility: "hidden"
                        } : {
                            visibility: "visible"
                        })
                }
            }
        },
        click: function(b) {
            b.preventDefault();
            var d, e, f, g = a(b.target).closest("span, td, th");
            if (1 === g.length) switch (g[0].nodeName.toLowerCase()) {
                case "th":
                    switch (g[0].className) {
                        case "datepicker-switch":
                            this.showMode(1);
                            break;
                        case "prev":
                        case "next":
                            var h = q.modes[this.viewMode].navStep * ("prev" === g[0].className ? -1 : 1);
                            switch (this.viewMode) {
                                case 0:
                                    this.viewDate = this.moveMonth(this.viewDate, h), this._trigger("changeMonth", this.viewDate);
                                    break;
                                case 1:
                                case 2:
                                    this.viewDate = this.moveYear(this.viewDate, h), 1 === this.viewMode && this._trigger("changeYear", this.viewDate)
                            }
                            this.fill();
                            break;
                        case "today":
                            var i = new Date;
                            i = c(i.getFullYear(), i.getMonth(), i.getDate(), 0, 0, 0), this.showMode(-2);
                            var j = "linked" === this.o.todayBtn ? null : "view";
                            this._setDate(i, j);
                            break;
                        case "clear":
                            this.clearDates()
                    }
                    break;
                case "span":
                    g.hasClass("disabled") || (this.viewDate.setUTCDate(1), g.hasClass("month") ? (f = 1, e = g.parent().find("span").index(g), d = this.viewDate.getUTCFullYear(), this.viewDate.setUTCMonth(e), this._trigger("changeMonth", this.viewDate), 1 === this.o.minViewMode && this._setDate(c(d, e, f))) : (f = 1, e = 0, d = parseInt(g.text(), 10) || 0, this.viewDate.setUTCFullYear(d), this._trigger("changeYear", this.viewDate), 2 === this.o.minViewMode && this._setDate(c(d, e, f))), this.showMode(-1), this.fill());
                    break;
                case "td":
                    g.hasClass("day") && !g.hasClass("disabled") && (f = parseInt(g.text(), 10) || 1, d = this.viewDate.getUTCFullYear(), e = this.viewDate.getUTCMonth(), g.hasClass("old") ? 0 === e ? (e = 11, d -= 1) : e -= 1 : g.hasClass("new") && (11 === e ? (e = 0, d += 1) : e += 1), this._setDate(c(d, e, f)))
            }
            this.picker.is(":visible") && this._focused_from && a(this._focused_from).focus(), delete this._focused_from
        },
        _toggle_multidate: function(a) {
            var b = this.dates.contains(a);
            if (a || this.dates.clear(), -1 !== b ? (this.o.multidate === !0 || this.o.multidate > 1 || this.o.toggleActive) && this.dates.remove(b) : this.o.multidate === !1 ? (this.dates.clear(), this.dates.push(a)) : this.dates.push(a), "number" == typeof this.o.multidate)
                for (; this.dates.length > this.o.multidate;) this.dates.remove(0)
        },
        _setDate: function(a, b) {
            b && "date" !== b || this._toggle_multidate(a && new Date(a)), b && "view" !== b || (this.viewDate = a && new Date(a)), this.fill(), this.setValue(), b && "view" === b || this._trigger("changeDate");
            var c;
            this.isInput ? c = this.element : this.component && (c = this.element.find("input")), c && c.change(), !this.o.autoclose || b && "date" !== b || this.hide()
        },
        moveMonth: function(a, c) {
            if (!a) return b;
            if (!c) return a;
            var d, e, f = new Date(a.valueOf()),
                g = f.getUTCDate(),
                h = f.getUTCMonth(),
                i = Math.abs(c);
            if (c = c > 0 ? 1 : -1, 1 === i) e = -1 === c ? function() {
                return f.getUTCMonth() === h
            } : function() {
                return f.getUTCMonth() !== d
            }, d = h + c, f.setUTCMonth(d), (0 > d || d > 11) && (d = (d + 12) % 12);
            else {
                for (var j = 0; i > j; j++) f = this.moveMonth(f, c);
                d = f.getUTCMonth(), f.setUTCDate(g), e = function() {
                    return d !== f.getUTCMonth()
                }
            }
            for (; e();) f.setUTCDate(--g), f.setUTCMonth(d);
            return f
        },
        moveYear: function(a, b) {
            return this.moveMonth(a, 12 * b)
        },
        dateWithinRange: function(a) {
            return a >= this.o.startDate && a <= this.o.endDate
        },
        keydown: function(a) {
            if (!this.picker.is(":visible")) return void(27 === a.keyCode && this.show());
            var b, c, e, f = !1,
                g = this.focusDate || this.viewDate;
            switch (a.keyCode) {
                case 27:
                    this.focusDate ? (this.focusDate = null, this.viewDate = this.dates.get(-1) || this.viewDate, this.fill()) : this.hide(), a.preventDefault();
                    break;
                case 37:
                case 39:
                    if (!this.o.keyboardNavigation) break;
                    b = 37 === a.keyCode ? -1 : 1, a.ctrlKey ? (c = this.moveYear(this.dates.get(-1) || d(), b), e = this.moveYear(g, b), this._trigger("changeYear", this.viewDate)) : a.shiftKey ? (c = this.moveMonth(this.dates.get(-1) || d(), b), e = this.moveMonth(g, b), this._trigger("changeMonth", this.viewDate)) : (c = new Date(this.dates.get(-1) || d()), c.setUTCDate(c.getUTCDate() + b), e = new Date(g), e.setUTCDate(g.getUTCDate() + b)), this.dateWithinRange(e) && (this.focusDate = this.viewDate = e, this.setValue(), this.fill(), a.preventDefault());
                    break;
                case 38:
                case 40:
                    if (!this.o.keyboardNavigation) break;
                    b = 38 === a.keyCode ? -1 : 1, a.ctrlKey ? (c = this.moveYear(this.dates.get(-1) || d(), b), e = this.moveYear(g, b), this._trigger("changeYear", this.viewDate)) : a.shiftKey ? (c = this.moveMonth(this.dates.get(-1) || d(), b), e = this.moveMonth(g, b), this._trigger("changeMonth", this.viewDate)) : (c = new Date(this.dates.get(-1) || d()), c.setUTCDate(c.getUTCDate() + 7 * b), e = new Date(g), e.setUTCDate(g.getUTCDate() + 7 * b)), this.dateWithinRange(e) && (this.focusDate = this.viewDate = e, this.setValue(), this.fill(), a.preventDefault());
                    break;
                case 32:
                    break;
                case 13:
                    g = this.focusDate || this.dates.get(-1) || this.viewDate, this.o.keyboardNavigation && (this._toggle_multidate(g), f = !0), this.focusDate = null, this.viewDate = this.dates.get(-1) || this.viewDate, this.setValue(), this.fill(), this.picker.is(":visible") && (a.preventDefault(), "function" == typeof a.stopPropagation ? a.stopPropagation() : a.cancelBubble = !0, this.o.autoclose && this.hide());
                    break;
                case 9:
                    this.focusDate = null, this.viewDate = this.dates.get(-1) || this.viewDate, this.fill(), this.hide()
            }
            if (f) {
                this._trigger(this.dates.length ? "changeDate" : "clearDate");
                var h;
                this.isInput ? h = this.element : this.component && (h = this.element.find("input")), h && h.change()
            }
        },
        showMode: function(a) {
            a && (this.viewMode = Math.max(this.o.minViewMode, Math.min(2, this.viewMode + a))), this.picker.children("div").hide().filter(".datepicker-" + q.modes[this.viewMode].clsName).css("display", "block"), this.updateNavArrows()
        }
    };
    var k = function(b, c) {
        this.element = a(b), this.inputs = a.map(c.inputs, function(a) {
            return a.jquery ? a[0] : a
        }), delete c.inputs, m.call(a(this.inputs), c).bind("changeDate", a.proxy(this.dateUpdated, this)), this.pickers = a.map(this.inputs, function(b) {
            return a(b).data("datepicker")
        }), this.updateDates()
    };
    k.prototype = {
        updateDates: function() {
            this.dates = a.map(this.pickers, function(a) {
                return a.getUTCDate()
            }), this.updateRanges()
        },
        updateRanges: function() {
            var b = a.map(this.dates, function(a) {
                return a.valueOf()
            });
            a.each(this.pickers, function(a, c) {
                c.setRange(b)
            })
        },
        dateUpdated: function(b) {
            if (!this.updating) {
                this.updating = !0;
                var c = a(b.target).data("datepicker"),
                    d = c.getUTCDate(),
                    e = a.inArray(b.target, this.inputs),
                    f = e - 1,
                    g = e + 1,
                    h = this.inputs.length;
                if (-1 !== e) {
                    if (a.each(this.pickers, function(a, b) {
                            b.getUTCDate() || b.setUTCDate(d)
                        }), d < this.dates[f])
                        for (; f >= 0 && d < this.dates[f];) this.pickers[f--].setUTCDate(d);
                    else if (d > this.dates[g])
                        for (; h > g && d > this.dates[g];) this.pickers[g++].setUTCDate(d);
                    this.updateDates(), delete this.updating
                }
            }
        },
        remove: function() {
            a.map(this.pickers, function(a) {
                a.remove()
            }), delete this.element.data().datepicker
        }
    };
    var l = a.fn.datepicker,
        m = function(c) {
            var d = Array.apply(null, arguments);
            d.shift();
            var e;
            return this.each(function() {
                var f = a(this),
                    i = f.data("datepicker"),
                    l = "object" == typeof c && c;
                if (!i) {
                    var m = g(this, "date"),
                        o = a.extend({}, n, m, l),
                        p = h(o.language),
                        q = a.extend({}, n, p, m, l);
                    if (f.hasClass("input-daterange") || q.inputs) {
                        var r = {
                            inputs: q.inputs || f.find("input").toArray()
                        };
                        f.data("datepicker", i = new k(this, a.extend(q, r)))
                    } else f.data("datepicker", i = new j(this, q))
                }
                return "string" == typeof c && "function" == typeof i[c] && (e = i[c].apply(i, d), e !== b) ? !1 : void 0
            }), e !== b ? e : this
        };
    a.fn.datepicker = m;
    var n = a.fn.datepicker.defaults = {
            autoclose: !1,
            beforeShowDay: a.noop,
            beforeShowMonth: a.noop,
            calendarWeeks: !1,
            clearBtn: !1,
            toggleActive: !1,
            daysOfWeekDisabled: [],
            datesDisabled: [],
            endDate: 1 / 0,
            forceParse: !0,
            format: "mm/dd/yyyy",
            keyboardNavigation: !0,
            language: "en",
            minViewMode: 0,
            multidate: !1,
            multidateSeparator: ",",
            orientation: "auto",
            rtl: !1,
            startDate: -1 / 0,
            startView: 0,
            todayBtn: !1,
            todayHighlight: !1,
            weekStart: 0,
            disableTouchKeyboard: !1,
            enableOnReadonly: !0,
            container: "body"
        },
        o = a.fn.datepicker.locale_opts = ["format", "rtl", "weekStart"];
    a.fn.datepicker.Constructor = j;
    var p = a.fn.datepicker.dates = {
            en: {
                days: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"],
                daysShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun"],
                daysMin: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa", "Su"],
                months: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
                monthsShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
                today: "Today",
                clear: "Clear"
            }
        },
        q = {
            modes: [{
                clsName: "days",
                navFnc: "Month",
                navStep: 1
            }, {
                clsName: "months",
                navFnc: "FullYear",
                navStep: 1
            }, {
                clsName: "years",
                navFnc: "FullYear",
                navStep: 10
            }],
            isLeapYear: function(a) {
                return a % 4 === 0 && a % 100 !== 0 || a % 400 === 0
            },
            getDaysInMonth: function(a, b) {
                return [31, q.isLeapYear(a) ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][b]
            },
            validParts: /dd?|DD?|mm?|MM?|yy(?:yy)?/g,
            nonpunctuation: /[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,
            parseFormat: function(a) {
                var b = a.replace(this.validParts, "\x00").split("\x00"),
                    c = a.match(this.validParts);
                if (!b || !b.length || !c || 0 === c.length) throw new Error("Invalid date format.");
                return {
                    separators: b,
                    parts: c
                }
            },
            parseDate: function(d, e, f) {
                function g() {
                    var a = this.slice(0, m[k].length),
                        b = m[k].slice(0, a.length);
                    return a.toLowerCase() === b.toLowerCase()
                }
                if (!d) return b;
                if (d instanceof Date) return d;
                "string" == typeof e && (e = q.parseFormat(e));
                var h, i, k, l = /([\-+]\d+)([dmwy])/,
                    m = d.match(/([\-+]\d+)([dmwy])/g);
                if (/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(d)) {
                    for (d = new Date, k = 0; k < m.length; k++) switch (h = l.exec(m[k]), i = parseInt(h[1]), h[2]) {
                        case "d":
                            d.setUTCDate(d.getUTCDate() + i);
                            break;
                        case "m":
                            d = j.prototype.moveMonth.call(j.prototype, d, i);
                            break;
                        case "w":
                            d.setUTCDate(d.getUTCDate() + 7 * i);
                            break;
                        case "y":
                            d = j.prototype.moveYear.call(j.prototype, d, i)
                    }
                    return c(d.getUTCFullYear(), d.getUTCMonth(), d.getUTCDate(), 0, 0, 0)
                }
                m = d && d.match(this.nonpunctuation) || [], d = new Date;
                var n, o, r = {},
                    s = ["yyyy", "yy", "M", "MM", "m", "mm", "d", "dd"],
                    t = {
                        yyyy: function(a, b) {
                            return a.setUTCFullYear(b)
                        },
                        yy: function(a, b) {
                            return a.setUTCFullYear(2e3 + b)
                        },
                        m: function(a, b) {
                            if (isNaN(a)) return a;
                            for (b -= 1; 0 > b;) b += 12;
                            for (b %= 12, a.setUTCMonth(b); a.getUTCMonth() !== b;) a.setUTCDate(a.getUTCDate() - 1);
                            return a
                        },
                        d: function(a, b) {
                            return a.setUTCDate(b)
                        }
                    };
                t.M = t.MM = t.mm = t.m, t.dd = t.d, d = c(d.getFullYear(), d.getMonth(), d.getDate(), 0, 0, 0);
                var u = e.parts.slice();
                if (m.length !== u.length && (u = a(u).filter(function(b, c) {
                        return -1 !== a.inArray(c, s)
                    }).toArray()), m.length === u.length) {
                    var v;
                    for (k = 0, v = u.length; v > k; k++) {
                        if (n = parseInt(m[k], 10), h = u[k], isNaN(n)) switch (h) {
                            case "MM":
                                o = a(p[f].months).filter(g), n = a.inArray(o[0], p[f].months) + 1;
                                break;
                            case "M":
                                o = a(p[f].monthsShort).filter(g), n = a.inArray(o[0], p[f].monthsShort) + 1
                        }
                        r[h] = n
                    }
                    var w, x;
                    for (k = 0; k < s.length; k++) x = s[k], x in r && !isNaN(r[x]) && (w = new Date(d), t[x](w, r[x]), isNaN(w) || (d = w))
                }
                return d
            },
            formatDate: function(b, c, d) {
                if (!b) return "";
                "string" == typeof c && (c = q.parseFormat(c));
                var e = {
                    d: b.getUTCDate(),
                    D: p[d].daysShort[b.getUTCDay()],
                    DD: p[d].days[b.getUTCDay()],
                    m: b.getUTCMonth() + 1,
                    M: p[d].monthsShort[b.getUTCMonth()],
                    MM: p[d].months[b.getUTCMonth()],
                    yy: b.getUTCFullYear().toString().substring(2),
                    yyyy: b.getUTCFullYear()
                };
                e.dd = (e.d < 10 ? "0" : "") + e.d, e.mm = (e.m < 10 ? "0" : "") + e.m, b = [];
                for (var f = a.extend([], c.separators), g = 0, h = c.parts.length; h >= g; g++) f.length && b.push(f.shift()), b.push(e[c.parts[g]]);
                return b.join("")
            },
            headTemplate: '<thead><tr><th class="prev">&#171;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&#187;</th></tr></thead>',
            contTemplate: '<tbody><tr><td colspan="7"></td></tr></tbody>',
            footTemplate: '<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'
        };
    q.template = '<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">' + q.headTemplate + "<tbody></tbody>" + q.footTemplate + '</table></div><div class="datepicker-months"><table class="table-condensed">' + q.headTemplate + q.contTemplate + q.footTemplate + '</table></div><div class="datepicker-years"><table class="table-condensed">' + q.headTemplate + q.contTemplate + q.footTemplate + "</table></div></div>", a.fn.datepicker.DPGlobal = q, a.fn.datepicker.noConflict = function() {
        return a.fn.datepicker = l, this
    }, a.fn.datepicker.version = "1.4.0", a(document).on("focus.datepicker.data-api click.datepicker.data-api", '[data-provide="datepicker"]', function(b) {
        var c = a(this);
        c.data("datepicker") || (b.preventDefault(), m.call(c, "show"))
    }), a(function() {
        m.call(a('[data-provide="datepicker-inline"]'))
    })
}(window.jQuery);
/*!
 * jquery-timepicker v1.11.14 - A jQuery timepicker plugin inspired by Google Calendar. It supports both mouse and keyboard navigation.
 * Copyright (c) 2018 Jon Thornton - http://jonthornton.github.com/jquery-timepicker/
 * License: MIT
 */

! function(a) {
    "object" == typeof exports && exports && "object" == typeof module && module && module.exports === exports ? a(require("jquery")) : "function" == typeof define && define.amd ? define(["jquery"], a) : a(jQuery)
}(function(a) {
    function b(a) {
        var b = a[0];
        return b.offsetWidth > 0 && b.offsetHeight > 0
    }

    function c(b) {
        if (b.minTime && (b.minTime = t(b.minTime)), b.maxTime && (b.maxTime = t(b.maxTime)), b.durationTime && "function" != typeof b.durationTime && (b.durationTime = t(b.durationTime)), "now" == b.scrollDefault) b.scrollDefault = function() {
            return b.roundingFunction(t(new Date), b)
        };
        else if (b.scrollDefault && "function" != typeof b.scrollDefault) {
            var c = b.scrollDefault;
            b.scrollDefault = function() {
                return b.roundingFunction(t(c), b)
            }
        } else b.minTime && (b.scrollDefault = function() {
            return b.roundingFunction(b.minTime, b)
        });
        if ("string" === a.type(b.timeFormat) && b.timeFormat.match(/[gh]/) && (b._twelveHourTime = !0), b.showOnFocus === !1 && b.showOn.indexOf("focus") != -1 && b.showOn.splice(b.showOn.indexOf("focus"), 1), b.disableTimeRanges.length > 0) {
            for (var d in b.disableTimeRanges) b.disableTimeRanges[d] = [t(b.disableTimeRanges[d][0]), t(b.disableTimeRanges[d][1])];
            b.disableTimeRanges = b.disableTimeRanges.sort(function(a, b) {
                return a[0] - b[0]
            });
            for (var d = b.disableTimeRanges.length - 1; d > 0; d--) b.disableTimeRanges[d][0] <= b.disableTimeRanges[d - 1][1] && (b.disableTimeRanges[d - 1] = [Math.min(b.disableTimeRanges[d][0], b.disableTimeRanges[d - 1][0]), Math.max(b.disableTimeRanges[d][1], b.disableTimeRanges[d - 1][1])], b.disableTimeRanges.splice(d, 1))
        }
        return b
    }

    function d(b) {
        var c = b.data("timepicker-settings"),
            d = b.data("timepicker-list");
        if (d && d.length && (d.remove(), b.data("timepicker-list", !1)), c.useSelect) {
            d = a("<select />", {
                "class": "ui-timepicker-select"
            }), b.attr("name") && d.attr("name", "ui-timepicker-" + b.attr("name"));
            var g = d
        } else {
            d = a("<ul />", {
                "class": "ui-timepicker-list"
            });
            var g = a("<div />", {
                "class": "ui-timepicker-wrapper",
                tabindex: -1
            });
            g.css({
                display: "none",
                position: "absolute"
            }).append(d)
        }
        if (c.noneOption)
            if (c.noneOption === !0 && (c.noneOption = c.useSelect ? "Time..." : "None"), a.isArray(c.noneOption)) {
                for (var i in c.noneOption)
                    if (parseInt(i, 10) == i) {
                        var k = e(c.noneOption[i], c.useSelect);
                        d.append(k)
                    }
            } else {
                var k = e(c.noneOption, c.useSelect);
                d.append(k)
            }
        if (c.className && g.addClass(c.className), (null !== c.minTime || null !== c.durationTime) && c.showDuration) {
            "function" == typeof c.step ? "function" : c.step;
            g.addClass("ui-timepicker-with-duration"), g.addClass("ui-timepicker-step-" + c.step)
        }
        var l = c.minTime;
        "function" == typeof c.durationTime ? l = t(c.durationTime()) : null !== c.durationTime && (l = c.durationTime);
        var n = null !== c.minTime ? c.minTime : 0,
            o = null !== c.maxTime ? c.maxTime : n + v - 1;
        o < n && (o += v), o === v - 1 && "string" === a.type(c.timeFormat) && c.show2400 && (o = v);
        var p = c.disableTimeRanges,
            w = 0,
            x = p.length,
            z = c.step;
        "function" != typeof z && (z = function() {
            return c.step
        });
        for (var i = n, A = 0; i <= o; A++, i += 60 * z(A)) {
            var B = i,
                C = s(B, c);
            if (c.useSelect) {
                var D = a("<option />", {
                    value: C
                });
                D.text(C)
            } else {
                var D = a("<li />");
                D.addClass(B % v < v / 2 ? "ui-timepicker-am" : "ui-timepicker-pm"), D.data("time", u(B, c)), D.text(C)
            }
            if ((null !== c.minTime || null !== c.durationTime) && c.showDuration) {
                var E = r(i - l, c.step);
                if (c.useSelect) D.text(D.text() + " (" + E + ")");
                else {
                    var F = a("<span />", {
                        "class": "ui-timepicker-duration"
                    });
                    F.text(" (" + E + ")"), D.append(F)
                }
            }
            w < x && (B >= p[w][1] && (w += 1), p[w] && B >= p[w][0] && B < p[w][1] && (c.useSelect ? D.prop("disabled", !0) : D.addClass("ui-timepicker-disabled"))), d.append(D)
        }
        if (g.data("timepicker-input", b), b.data("timepicker-list", g), c.useSelect) b.val() && d.val(f(t(b.val()), c)), d.on("focus", function() {
            a(this).data("timepicker-input").trigger("showTimepicker")
        }), d.on("blur", function() {
            a(this).data("timepicker-input").trigger("hideTimepicker")
        }), d.on("change", function() {
            m(b, a(this).val(), "select")
        }), m(b, d.val(), "initial"), b.hide().after(d);
        else {
            var G = c.appendTo;
            "string" == typeof G ? G = a(G) : "function" == typeof G && (G = G(b)), G.append(g), j(b, d), d.on("mousedown click", "li", function(c) {
                b.off("focus.timepicker"), b.on("focus.timepicker-ie-hack", function() {
                    b.off("focus.timepicker-ie-hack"), b.on("focus.timepicker", y.show)
                }), h(b) || b[0].focus(), d.find("li").removeClass("ui-timepicker-selected"), a(this).addClass("ui-timepicker-selected"), q(b) && (b.trigger("hideTimepicker"), d.on("mouseup.timepicker click.timepicker", "li", function(a) {
                    d.off("mouseup.timepicker click.timepicker"), g.hide()
                }))
            })
        }
    }

    function e(b, c) {
        var d, e, f;
        return "object" == typeof b ? (d = b.label, e = b.className, f = b.value) : "string" == typeof b ? (d = b, f = "") : a.error("Invalid noneOption value"), c ? a("<option />", {
            value: f,
            "class": e,
            text: d
        }) : a("<li />", {
            "class": e,
            text: d
        }).data("time", String(f))
    }

    function f(a, b) {
        if (a = b.roundingFunction(a, b), null !== a) return s(a, b)
    }

    function g(b) {
        if (b.target != window) {
            var c = a(b.target);
            c.closest(".ui-timepicker-input").length || c.closest(".ui-timepicker-wrapper").length || (y.hide(), a(document).unbind(".ui-timepicker"), a(window).unbind(".ui-timepicker"))
        }
    }

    function h(a) {
        var b = a.data("timepicker-settings");
        return (window.navigator.msMaxTouchPoints || "ontouchstart" in document) && b.disableTouchKeyboard
    }

    function i(b, c, d) {
        if (!d && 0 !== d) return !1;
        var e = b.data("timepicker-settings"),
            f = !1,
            d = e.roundingFunction(d, e);
        return c.find("li").each(function(b, c) {
            var e = a(c);
            if ("number" == typeof e.data("time")) return e.data("time") == d ? (f = e, !1) : void 0
        }), f
    }

    function j(a, b) {
        b.find("li").removeClass("ui-timepicker-selected");
        var c = a.data("timepicker-settings"),
            d = t(l(a), c);
        if (null !== d) {
            var e = i(a, b, d);
            if (e) {
                var f = e.offset().top - b.offset().top;
                (f + e.outerHeight() > b.outerHeight() || f < 0) && b.scrollTop(b.scrollTop() + e.position().top - e.outerHeight()), (c.forceRoundTime || e.data("time") === d) && e.addClass("ui-timepicker-selected")
            }
        }
    }

    function k(b, c) {
        if ("timepicker" != c) {
            var d = a(this);
            if ("" === this.value) return void m(d, null, c);
            if (!d.is(":focus") || b && "change" == b.type) {
                var e = d.data("timepicker-settings"),
                    f = t(this.value, e);
                if (null === f) return void d.trigger("timeFormatError");
                var g = !1;
                if (null !== e.minTime && null !== e.maxTime && (f < e.minTime || f > e.maxTime) && (g = !0), a.each(e.disableTimeRanges, function() {
                        if (f >= this[0] && f < this[1]) return g = !0, !1
                    }), e.forceRoundTime) {
                    var h = e.roundingFunction(f, e);
                    h != f && (f = h, c = null)
                }
                var i = s(f, e);
                g ? (m(d, i, "error") || b && "change" == b.type) && d.trigger("timeRangeError") : m(d, i, c)
            }
        }
    }

    function l(a) {
        return a.is("input") ? a.val() : a.data("ui-timepicker-value")
    }

    function m(a, b, c) {
        if (a.is("input")) {
            a.val(b);
            var d = a.data("timepicker-settings");
            d.useSelect && "select" != c && a.data("timepicker-list") && a.data("timepicker-list").val(f(t(b), d))
        }
        return a.data("ui-timepicker-value") != b ? (a.data("ui-timepicker-value", b), "select" == c ? a.trigger("selectTime").trigger("changeTime").trigger("change", "timepicker") : ["error", "initial"].indexOf(c) == -1 && a.trigger("changeTime"), !0) : (["error", "initial"].indexOf(c) == -1 && a.trigger("selectTime"), !1)
    }

    function n(a) {
        switch (a.keyCode) {
            case 13:
            case 9:
                return;
            default:
                a.preventDefault()
        }
    }

    function o(c) {
        var d = a(this),
            e = d.data("timepicker-list");
        if (!e || !b(e)) {
            if (40 != c.keyCode) return !0;
            y.show.call(d.get(0)), e = d.data("timepicker-list"), h(d) || d.focus()
        }
        switch (c.keyCode) {
            case 13:
                return q(d) && (k.call(d.get(0), {
                    type: "change"
                }), y.hide.apply(this)), c.preventDefault(), !1;
            case 38:
                var f = e.find(".ui-timepicker-selected");
                return f.length ? f.is(":first-child") || (f.removeClass("ui-timepicker-selected"), f.prev().addClass("ui-timepicker-selected"), f.prev().position().top < f.outerHeight() && e.scrollTop(e.scrollTop() - f.outerHeight())) : (e.find("li").each(function(b, c) {
                    if (a(c).position().top > 0) return f = a(c), !1
                }), f.addClass("ui-timepicker-selected")), !1;
            case 40:
                return f = e.find(".ui-timepicker-selected"), 0 === f.length ? (e.find("li").each(function(b, c) {
                    if (a(c).position().top > 0) return f = a(c), !1
                }), f.addClass("ui-timepicker-selected")) : f.is(":last-child") || (f.removeClass("ui-timepicker-selected"), f.next().addClass("ui-timepicker-selected"), f.next().position().top + 2 * f.outerHeight() > e.outerHeight() && e.scrollTop(e.scrollTop() + f.outerHeight())), !1;
            case 27:
                e.find("li").removeClass("ui-timepicker-selected"), y.hide();
                break;
            case 9:
                y.hide();
                break;
            default:
                return !0
        }
    }

    function p(c) {
        var d = a(this),
            e = d.data("timepicker-list"),
            f = d.data("timepicker-settings");
        if (!e || !b(e) || f.disableTextInput) return !0;
        if ("paste" === c.type || "cut" === c.type) return void setTimeout(function() {
            f.typeaheadHighlight ? j(d, e) : e.hide()
        }, 0);
        switch (c.keyCode) {
            case 96:
            case 97:
            case 98:
            case 99:
            case 100:
            case 101:
            case 102:
            case 103:
            case 104:
            case 105:
            case 48:
            case 49:
            case 50:
            case 51:
            case 52:
            case 53:
            case 54:
            case 55:
            case 56:
            case 57:
            case 65:
            case 77:
            case 80:
            case 186:
            case 8:
            case 46:
                f.typeaheadHighlight ? j(d, e) : e.hide()
        }
    }

    function q(a) {
        var b = a.data("timepicker-settings"),
            c = a.data("timepicker-list"),
            d = null,
            e = c.find(".ui-timepicker-selected");
        return !e.hasClass("ui-timepicker-disabled") && (e.length && (d = e.data("time")), null !== d && ("string" != typeof d && (d = s(d, b)), m(a, d, "select")), !0)
    }

    function r(a, b) {
        a = Math.abs(a);
        var c, d, e = Math.round(a / 60),
            f = [];
        return e < 60 ? f = [e, w.mins] : (c = Math.floor(e / 60), d = e % 60, 30 == b && 30 == d && (c += w.decimal + 5), f.push(c), f.push(1 == c ? w.hr : w.hrs), 30 != b && d && (f.push(d), f.push(w.mins))), f.join(" ")
    }

    function s(b, c) {
        if ("number" != typeof b) return null;
        var d = parseInt(b % 60),
            e = parseInt(b / 60 % 60),
            f = parseInt(b / 3600 % 24),
            g = new Date(1970, 0, 2, f, e, d, 0);
        if (isNaN(g.getTime())) return null;
        if ("function" === a.type(c.timeFormat)) return c.timeFormat(g);
        for (var h, i, j = "", k = 0; k < c.timeFormat.length; k++) switch (i = c.timeFormat.charAt(k)) {
            case "a":
                j += g.getHours() > 11 ? w.pm : w.am;
                break;
            case "A":
                j += g.getHours() > 11 ? w.PM : w.AM;
                break;
            case "g":
                h = g.getHours() % 12, j += 0 === h ? "12" : h;
                break;
            case "G":
                h = g.getHours(), b === v && (h = c.show2400 ? 24 : 0), j += h;
                break;
            case "h":
                h = g.getHours() % 12, 0 !== h && h < 10 && (h = "0" + h), j += 0 === h ? "12" : h;
                break;
            case "H":
                h = g.getHours(), b === v && (h = c.show2400 ? 24 : 0), j += h > 9 ? h : "0" + h;
                break;
            case "i":
                var e = g.getMinutes();
                j += e > 9 ? e : "0" + e;
                break;
            case "s":
                d = g.getSeconds(), j += d > 9 ? d : "0" + d;
                break;
            case "\\":
                k++, j += c.timeFormat.charAt(k);
                break;
            default:
                j += i
        }
        return j
    }

    function t(a, b) {
        if ("" === a || null === a) return null;
        if ("object" == typeof a) return 3600 * a.getHours() + 60 * a.getMinutes() + a.getSeconds();
        if ("string" != typeof a) return a;
        a = a.toLowerCase().replace(/[\s\.]/g, ""), "a" != a.slice(-1) && "p" != a.slice(-1) || (a += "m");
        var c = "(" + w.am.replace(".", "") + "|" + w.pm.replace(".", "") + "|" + w.AM.replace(".", "") + "|" + w.PM.replace(".", "") + ")?",
            d = new RegExp("^" + c + "([0-9]?[0-9])\\W?([0-5][0-9])?\\W?([0-5][0-9])?" + c + "$"),
            e = a.match(d);
        if (!e) return null;
        var f = parseInt(1 * e[2], 10),
            g = e[1] || e[5],
            h = f,
            i = 1 * e[3] || 0,
            j = 1 * e[4] || 0;
        if (f <= 12 && g) {
            var k = g == w.pm || g == w.PM;
            h = 12 == f ? k ? 12 : 0 : f + (k ? 12 : 0)
        } else if (b) {
            var l = 3600 * f + 60 * i + j;
            if (l >= v + (b.show2400 ? 1 : 0)) {
                if (b.wrapHours === !1) return null;
                h = f % 24
            }
        }
        var m = 3600 * h + 60 * i + j;
        if (f < 12 && !g && b && b._twelveHourTime && b.scrollDefault) {
            var n = m - b.scrollDefault();
            n < 0 && n >= v / -2 && (m = (m + v / 2) % v)
        }
        return m
    }

    function u(a, b) {
        return a == v && b.show2400 ? a : a % v
    }
    var v = 86400,
        w = {
            am: "am",
            pm: "pm",
            AM: "AM",
            PM: "PM",
            decimal: ".",
            mins: "mins",
            hr: "hr",
            hrs: "hrs"
        },
        x = {
            appendTo: "body",
            className: null,
            closeOnWindowScroll: !1,
            disableTextInput: !1,
            disableTimeRanges: [],
            disableTouchKeyboard: !1,
            durationTime: null,
            forceRoundTime: !1,
            maxTime: null,
            minTime: null,
            noneOption: !1,
            orientation: "l",
            roundingFunction: function(a, b) {
                if (null === a) return null;
                if ("number" != typeof b.step) return a;
                var c = a % (60 * b.step),
                    d = b.minTime || 0;
                return c -= d % (60 * b.step), c >= 30 * b.step ? a += 60 * b.step - c : a -= c, u(a, b)
            },
            scrollDefault: null,
            selectOnBlur: !1,
            show2400: !1,
            showDuration: !1,
            showOn: ["click", "focus"],
            showOnFocus: !0,
            step: 30,
            stopScrollPropagation: !1,
            timeFormat: "g:ia",
            typeaheadHighlight: !0,
            useSelect: !1,
            wrapHours: !0
        },
        y = {
            init: function(b) {
                return this.each(function() {
                    var e = a(this),
                        f = [];
                    for (var g in x) e.data(g) && (f[g] = e.data(g));
                    var h = a.extend({}, x, b, f);
                    if (h.lang && (w = a.extend(w, h.lang)), h = c(h), e.data("timepicker-settings", h), e.addClass("ui-timepicker-input"), h.useSelect) d(e);
                    else {
                        if (e.prop("autocomplete", "off"), h.showOn)
                            for (var i in h.showOn) e.on(h.showOn[i] + ".timepicker", y.show);
                        e.on("change.timepicker", k), e.on("keydown.timepicker", o), e.on("keyup.timepicker", p), h.disableTextInput && e.on("keydown.timepicker", n), e.on("cut.timepicker", p), e.on("paste.timepicker", p), k.call(e.get(0), null, "initial")
                    }
                })
            },
            show: function(c) {
                var e = a(this),
                    f = e.data("timepicker-settings");
                if (c && c.preventDefault(), f.useSelect) return void e.data("timepicker-list").focus();
                h(e) && e.blur();
                var k = e.data("timepicker-list");
                if (!e.prop("readonly") && (k && 0 !== k.length && "function" != typeof f.durationTime || (d(e), k = e.data("timepicker-list")), !b(k))) {
                    e.data("ui-timepicker-value", e.val()), j(e, k), y.hide(), k.show();
                    var m = {};
                    f.orientation.match(/r/) ? m.left = e.offset().left + e.outerWidth() - k.outerWidth() + parseInt(k.css("marginLeft").replace("px", ""), 10) : m.left = e.offset().left + parseInt(k.css("marginLeft").replace("px", ""), 10);
                    var n;
                    n = f.orientation.match(/t/) ? "t" : f.orientation.match(/b/) ? "b" : e.offset().top + e.outerHeight(!0) + k.outerHeight() > a(window).height() + a(window).scrollTop() ? "t" : "b", "t" == n ? (k.addClass("ui-timepicker-positioned-top"), m.top = e.offset().top - k.outerHeight() + parseInt(k.css("marginTop").replace("px", ""), 10)) : (k.removeClass("ui-timepicker-positioned-top"), m.top = e.offset().top + e.outerHeight() + parseInt(k.css("marginTop").replace("px", ""), 10)), k.offset(m);
                    var o = k.find(".ui-timepicker-selected");
                    if (!o.length) {
                        var p = t(l(e));
                        null !== p ? o = i(e, k, p) : f.scrollDefault && (o = i(e, k, f.scrollDefault()))
                    }
                    if (o.length && !o.hasClass("ui-timepicker-disabled") || (o = k.find("li:not(.ui-timepicker-disabled):first")), o && o.length) {
                        var q = k.scrollTop() + o.position().top - o.outerHeight();
                        k.scrollTop(q)
                    } else k.scrollTop(0);
                    return f.stopScrollPropagation && a(document).on("wheel.ui-timepicker", ".ui-timepicker-wrapper", function(b) {
                        b.preventDefault();
                        var c = a(this).scrollTop();
                        a(this).scrollTop(c + b.originalEvent.deltaY)
                    }), a(document).on("touchstart.ui-timepicker mousedown.ui-timepicker", g), a(window).on("resize.ui-timepicker", g), f.closeOnWindowScroll && a(document).on("scroll.ui-timepicker", g), e.trigger("showTimepicker"), this
                }
            },
            hide: function(c) {
                var d = a(this),
                    e = d.data("timepicker-settings");
                return e && e.useSelect && d.blur(), a(".ui-timepicker-wrapper").each(function() {
                    var c = a(this);
                    if (b(c)) {
                        var d = c.data("timepicker-input"),
                            e = d.data("timepicker-settings");
                        e && e.selectOnBlur && q(d), c.hide(), d.trigger("hideTimepicker")
                    }
                }), this
            },
            option: function(b, e) {
                return "string" == typeof b && "undefined" == typeof e ? a(this).data("timepicker-settings")[b] : this.each(function() {
                    var f = a(this),
                        g = f.data("timepicker-settings"),
                        h = f.data("timepicker-list");
                    "object" == typeof b ? g = a.extend(g, b) : "string" == typeof b && (g[b] = e), g = c(g), f.data("timepicker-settings", g), k.call(f.get(0), {
                        type: "change"
                    }, "initial"), h && (h.remove(), f.data("timepicker-list", !1)), g.useSelect && d(f)
                })
            },
            getSecondsFromMidnight: function() {
                return t(l(this))
            },
            getTime: function(a) {
                var b = this,
                    c = l(b);
                if (!c) return null;
                var d = t(c);
                if (null === d) return null;
                a || (a = new Date);
                var e = new Date(a);
                return e.setHours(d / 3600), e.setMinutes(d % 3600 / 60), e.setSeconds(d % 60), e.setMilliseconds(0), e
            },
            isVisible: function() {
                var a = this,
                    c = a.data("timepicker-list");
                return !(!c || !b(c))
            },
            setTime: function(a) {
                var b = this,
                    c = b.data("timepicker-settings");
                if (c.forceRoundTime) var d = f(t(a), c);
                else var d = s(t(a), c);
                return a && null === d && c.noneOption && (d = a), m(b, d, "initial"), k.call(b.get(0), {
                    type: "change"
                }, "initial"), b.data("timepicker-list") && j(b, b.data("timepicker-list")), this
            },
            remove: function() {
                var a = this;
                if (a.hasClass("ui-timepicker-input")) {
                    var b = a.data("timepicker-settings");
                    return a.removeAttr("autocomplete", "off"), a.removeClass("ui-timepicker-input"), a.removeData("timepicker-settings"), a.off(".timepicker"), a.data("timepicker-list") && a.data("timepicker-list").remove(), b.useSelect && a.show(), a.removeData("timepicker-list"), this
                }
            }
        };
    a.fn.timepicker = function(b) {
        return this.length ? y[b] ? this.hasClass("ui-timepicker-input") ? y[b].apply(this, Array.prototype.slice.call(arguments, 1)) : this : "object" != typeof b && b ? void a.error("Method " + b + " does not exist on jQuery.timepicker") : y.init.apply(this, arguments) : this
    }
});
/*
 * MultiSelect v0.9.11
 * Copyright (c) 2012 Louis Cuny
 *
 * This program is free software. It comes without any warranty, to
 * the extent permitted by applicable law. You can redistribute it
 * and/or modify it under the terms of the Do What The Fuck You Want
 * To Public License, Version 2, as published by Sam Hocevar. See
 * http://sam.zoy.org/wtfpl/COPYING for more details.
 */

! function($) {

    "use strict";


    /* MULTISELECT CLASS DEFINITION
     * ====================== */

    var MultiSelect = function(element, options) {
        this.options = options;
        this.$element = $(element);
        this.$container = $('<div/>', {
            'class': "ms-container"
        });
        this.$selectableContainer = $('<div/>', {
            'class': 'ms-selectable'
        });
        this.$selectionContainer = $('<div/>', {
            'class': 'ms-selection'
        });
        this.$selectableUl = $('<ul/>', {
            'class': "ms-list",
            'tabindex': '-1'
        });
        this.$selectionUl = $('<ul/>', {
            'class': "ms-list",
            'tabindex': '-1'
        });
        this.scrollTo = 0;
        this.elemsSelector = 'li:visible:not(.ms-optgroup-label,.ms-optgroup-container,.' + options.disabledClass + ')';
    };

    MultiSelect.prototype = {
        constructor: MultiSelect,

        init: function() {
            var that = this,
                ms = this.$element;

            if (ms.next('.ms-container').length === 0) {
                ms.css({
                    position: 'absolute',
                    left: '-9999px'
                });
                ms.attr('id', ms.attr('id') ? ms.attr('id') : Math.ceil(Math.random() * 1000) + 'multiselect');
                this.$container.attr('id', 'ms-' + ms.attr('id'));
                this.$container.addClass(that.options.cssClass);
                ms.find('option').each(function() {
                    that.generateLisFromOption(this);
                });

                this.$selectionUl.find('.ms-optgroup-label').hide();

                if (that.options.selectableHeader) {
                    that.$selectableContainer.append(that.options.selectableHeader);
                }
                that.$selectableContainer.append(that.$selectableUl);
                if (that.options.selectableFooter) {
                    that.$selectableContainer.append(that.options.selectableFooter);
                }

                if (that.options.selectionHeader) {
                    that.$selectionContainer.append(that.options.selectionHeader);
                }
                that.$selectionContainer.append(that.$selectionUl);
                if (that.options.selectionFooter) {
                    that.$selectionContainer.append(that.options.selectionFooter);
                }

                that.$container.append(that.$selectableContainer);
                that.$container.append(that.$selectionContainer);
                ms.after(that.$container);

                that.activeMouse(that.$selectableUl);
                that.activeKeyboard(that.$selectableUl);

                var action = that.options.dblClick ? 'dblclick' : 'click';

                that.$selectableUl.on(action, '.ms-elem-selectable', function() {
                    that.select($(this).data('ms-value'));
                });
                that.$selectionUl.on(action, '.ms-elem-selection', function() {
                    that.deselect($(this).data('ms-value'));
                });

                that.activeMouse(that.$selectionUl);
                that.activeKeyboard(that.$selectionUl);

                ms.on('focus', function() {
                    that.$selectableUl.focus();
                })
            }

            var selectedValues = ms.find('option:selected').map(function() {
                return $(this).val();
            }).get();
            that.select(selectedValues, 'init');

            if (typeof that.options.afterInit === 'function') {
                that.options.afterInit.call(this, this.$container);
            }
        },

        'generateLisFromOption': function(option, index, $container) {
            var that = this,
                ms = that.$element,
                attributes = "",
                $option = $(option);

            for (var cpt = 0; cpt < option.attributes.length; cpt++) {
                var attr = option.attributes[cpt];

                if (attr.name !== 'value' && attr.name !== 'disabled') {
                    attributes += attr.name + '="' + attr.value + '" ';
                }
            }
            var selectableLi = $('<li ' + attributes + '><span>' + that.escapeHTML($option.text()) + '</span></li>'),
                selectedLi = selectableLi.clone(),
                value = $option.val(),
                elementId = that.sanitize(value);

            selectableLi
                .data('ms-value', value)
                .addClass('ms-elem-selectable')
                .attr('id', elementId + '-selectable');

            selectedLi
                .data('ms-value', value)
                .addClass('ms-elem-selection')
                .attr('id', elementId + '-selection')
                .hide();

            if ($option.prop('disabled') || ms.prop('disabled')) {
                selectedLi.addClass(that.options.disabledClass);
                selectableLi.addClass(that.options.disabledClass);
            }

            var $optgroup = $option.parent('optgroup');

            if ($optgroup.length > 0) {
                var optgroupLabel = $optgroup.attr('label'),
                    optgroupId = that.sanitize(optgroupLabel),
                    $selectableOptgroup = that.$selectableUl.find('#optgroup-selectable-' + optgroupId),
                    $selectionOptgroup = that.$selectionUl.find('#optgroup-selection-' + optgroupId);

                if ($selectableOptgroup.length === 0) {
                    var optgroupContainerTpl = '<li class="ms-optgroup-container"></li>',
                        optgroupTpl = '<ul class="ms-optgroup"><li class="ms-optgroup-label"><span>' + optgroupLabel + '</span></li></ul>';

                    $selectableOptgroup = $(optgroupContainerTpl);
                    $selectionOptgroup = $(optgroupContainerTpl);
                    $selectableOptgroup.attr('id', 'optgroup-selectable-' + optgroupId);
                    $selectionOptgroup.attr('id', 'optgroup-selection-' + optgroupId);
                    $selectableOptgroup.append($(optgroupTpl));
                    $selectionOptgroup.append($(optgroupTpl));
                    if (that.options.selectableOptgroup) {
                        $selectableOptgroup.find('.ms-optgroup-label').on('click', function() {
                            var values = $optgroup.children(':not(:selected, :disabled)').map(function() {
                                return $(this).val()
                            }).get();
                            that.select(values);
                        });
                        $selectionOptgroup.find('.ms-optgroup-label').on('click', function() {
                            var values = $optgroup.children(':selected:not(:disabled)').map(function() {
                                return $(this).val()
                            }).get();
                            that.deselect(values);
                        });
                    }
                    that.$selectableUl.append($selectableOptgroup);
                    that.$selectionUl.append($selectionOptgroup);
                }
                index = index == undefined ? $selectableOptgroup.find('ul').children().length : index + 1;
                selectableLi.insertAt(index, $selectableOptgroup.children());
                selectedLi.insertAt(index, $selectionOptgroup.children());
            } else {
                index = index == undefined ? that.$selectableUl.children().length : index;

                selectableLi.insertAt(index, that.$selectableUl);
                selectedLi.insertAt(index, that.$selectionUl);
            }
        },

        'addOption': function(options) {
            var that = this;

            if (options.value !== undefined && options.value !== null) {
                options = [options];
            }
            $.each(options, function(index, option) {
                if (option.value !== undefined && option.value !== null &&
                    that.$element.find("option[value='" + option.value + "']").length === 0) {
                    var $option = $('<option value="' + option.value + '">' + option.text + '</option>'),
                        index = parseInt((typeof option.index === 'undefined' ? that.$element.children().length : option.index)),
                        $container = option.nested == undefined ? that.$element : $("optgroup[label='" + option.nested + "']")

                    $option.insertAt(index, $container);
                    that.generateLisFromOption($option.get(0), index, option.nested);
                }
            })
        },

        'escapeHTML': function(text) {
            return $("<div>").text(text).html();
        },

        'activeKeyboard': function($list) {
            var that = this;

            $list.on('focus', function() {
                    $(this).addClass('ms-focus');
                })
                .on('blur', function() {
                    $(this).removeClass('ms-focus');
                })
                .on('keydown', function(e) {
                    switch (e.which) {
                        case 40:
                        case 38:
                            e.preventDefault();
                            e.stopPropagation();
                            that.moveHighlight($(this), (e.which === 38) ? -1 : 1);
                            return;
                        case 37:
                        case 39:
                            e.preventDefault();
                            e.stopPropagation();
                            that.switchList($list);
                            return;
                        case 9:
                            if (that.$element.is('[tabindex]')) {
                                e.preventDefault();
                                var tabindex = parseInt(that.$element.attr('tabindex'), 10);
                                tabindex = (e.shiftKey) ? tabindex - 1 : tabindex + 1;
                                $('[tabindex="' + (tabindex) + '"]').focus();
                                return;
                            } else {
                                if (e.shiftKey) {
                                    that.$element.trigger('focus');
                                }
                            }
                    }
                    if ($.inArray(e.which, that.options.keySelect) > -1) {
                        e.preventDefault();
                        e.stopPropagation();
                        that.selectHighlighted($list);
                        return;
                    }
                });
        },

        'moveHighlight': function($list, direction) {
            var $elems = $list.find(this.elemsSelector),
                $currElem = $elems.filter('.ms-hover'),
                $nextElem = null,
                elemHeight = $elems.first().outerHeight(),
                containerHeight = $list.height(),
                containerSelector = '#' + this.$container.prop('id');

            $elems.removeClass('ms-hover');
            if (direction === 1) { // DOWN

                $nextElem = $currElem.nextAll(this.elemsSelector).first();
                if ($nextElem.length === 0) {
                    var $optgroupUl = $currElem.parent();

                    if ($optgroupUl.hasClass('ms-optgroup')) {
                        var $optgroupLi = $optgroupUl.parent(),
                            $nextOptgroupLi = $optgroupLi.next(':visible');

                        if ($nextOptgroupLi.length > 0) {
                            $nextElem = $nextOptgroupLi.find(this.elemsSelector).first();
                        } else {
                            $nextElem = $elems.first();
                        }
                    } else {
                        $nextElem = $elems.first();
                    }
                }
            } else if (direction === -1) { // UP

                $nextElem = $currElem.prevAll(this.elemsSelector).first();
                if ($nextElem.length === 0) {
                    var $optgroupUl = $currElem.parent();

                    if ($optgroupUl.hasClass('ms-optgroup')) {
                        var $optgroupLi = $optgroupUl.parent(),
                            $prevOptgroupLi = $optgroupLi.prev(':visible');

                        if ($prevOptgroupLi.length > 0) {
                            $nextElem = $prevOptgroupLi.find(this.elemsSelector).last();
                        } else {
                            $nextElem = $elems.last();
                        }
                    } else {
                        $nextElem = $elems.last();
                    }
                }
            }
            if ($nextElem.length > 0) {
                $nextElem.addClass('ms-hover');
                var scrollTo = $list.scrollTop() + $nextElem.position().top -
                    containerHeight / 2 + elemHeight / 2;

                $list.scrollTop(scrollTo);
            }
        },

        'selectHighlighted': function($list) {
            var $elems = $list.find(this.elemsSelector),
                $highlightedElem = $elems.filter('.ms-hover').first();

            if ($highlightedElem.length > 0) {
                if ($list.parent().hasClass('ms-selectable')) {
                    this.select($highlightedElem.data('ms-value'));
                } else {
                    this.deselect($highlightedElem.data('ms-value'));
                }
                $elems.removeClass('ms-hover');
            }
        },

        'switchList': function($list) {
            $list.blur();
            this.$container.find(this.elemsSelector).removeClass('ms-hover');
            if ($list.parent().hasClass('ms-selectable')) {
                this.$selectionUl.focus();
            } else {
                this.$selectableUl.focus();
            }
        },

        'activeMouse': function($list) {
            var that = this;

            $('body').on('mouseenter', that.elemsSelector, function() {
                $(this).parents('.ms-container').find(that.elemsSelector).removeClass('ms-hover');
                $(this).addClass('ms-hover');
            });

            $('body').on('mouseleave', that.elemsSelector, function() {
                $(this).parents('.ms-container').find(that.elemsSelector).removeClass('ms-hover');;
            });
        },

        'refresh': function() {
            this.destroy();
            this.$element.multiSelect(this.options);
        },

        'destroy': function() {
            $("#ms-" + this.$element.attr("id")).remove();
            this.$element.css('position', '').css('left', '')
            this.$element.removeData('multiselect');
        },

        'select': function(value, method) {
            if (typeof value === 'string') {
                value = [value];
            }

            var that = this,
                ms = this.$element,
                msIds = $.map(value, function(val) {
                    return (that.sanitize(val));
                }),
                selectables = this.$selectableUl.find('#' + msIds.join('-selectable, #') + '-selectable').filter(':not(.' + that.options.disabledClass + ')'),
                selections = this.$selectionUl.find('#' + msIds.join('-selection, #') + '-selection').filter(':not(.' + that.options.disabledClass + ')'),
                options = ms.find('option:not(:disabled)').filter(function() {
                    return ($.inArray(this.value, value) > -1);
                });

            if (method === 'init') {
                selectables = this.$selectableUl.find('#' + msIds.join('-selectable, #') + '-selectable'),
                    selections = this.$selectionUl.find('#' + msIds.join('-selection, #') + '-selection');
            }

            if (selectables.length > 0) {
                selectables.addClass('ms-selected').hide();
                selections.addClass('ms-selected').show();

                options.prop('selected', true);

                that.$container.find(that.elemsSelector).removeClass('ms-hover');

                var selectableOptgroups = that.$selectableUl.children('.ms-optgroup-container');
                if (selectableOptgroups.length > 0) {
                    selectableOptgroups.each(function() {
                        var selectablesLi = $(this).find('.ms-elem-selectable');
                        if (selectablesLi.length === selectablesLi.filter('.ms-selected').length) {
                            $(this).find('.ms-optgroup-label').hide();
                        }
                    });

                    var selectionOptgroups = that.$selectionUl.children('.ms-optgroup-container');
                    selectionOptgroups.each(function() {
                        var selectionsLi = $(this).find('.ms-elem-selection');
                        if (selectionsLi.filter('.ms-selected').length > 0) {
                            $(this).find('.ms-optgroup-label').show();
                        }
                    });
                } else {
                    if (that.options.keepOrder && method !== 'init') {
                        var selectionLiLast = that.$selectionUl.find('.ms-selected');
                        if ((selectionLiLast.length > 1) && (selectionLiLast.last().get(0) != selections.get(0))) {
                            selections.insertAfter(selectionLiLast.last());
                        }
                    }
                }
                if (method !== 'init') {
                    ms.trigger('change');
                    if (typeof that.options.afterSelect === 'function') {
                        that.options.afterSelect.call(this, value);
                    }
                }
            }
        },

        'deselect': function(value) {
            if (typeof value === 'string') {
                value = [value];
            }

            var that = this,
                ms = this.$element,
                msIds = $.map(value, function(val) {
                    return (that.sanitize(val));
                }),
                selectables = this.$selectableUl.find('#' + msIds.join('-selectable, #') + '-selectable'),
                selections = this.$selectionUl.find('#' + msIds.join('-selection, #') + '-selection').filter('.ms-selected').filter(':not(.' + that.options.disabledClass + ')'),
                options = ms.find('option').filter(function() {
                    return ($.inArray(this.value, value) > -1);
                });

            if (selections.length > 0) {
                selectables.removeClass('ms-selected').show();
                selections.removeClass('ms-selected').hide();
                options.prop('selected', false);

                that.$container.find(that.elemsSelector).removeClass('ms-hover');

                var selectableOptgroups = that.$selectableUl.children('.ms-optgroup-container');
                if (selectableOptgroups.length > 0) {
                    selectableOptgroups.each(function() {
                        var selectablesLi = $(this).find('.ms-elem-selectable');
                        if (selectablesLi.filter(':not(.ms-selected)').length > 0) {
                            $(this).find('.ms-optgroup-label').show();
                        }
                    });

                    var selectionOptgroups = that.$selectionUl.children('.ms-optgroup-container');
                    selectionOptgroups.each(function() {
                        var selectionsLi = $(this).find('.ms-elem-selection');
                        if (selectionsLi.filter('.ms-selected').length === 0) {
                            $(this).find('.ms-optgroup-label').hide();
                        }
                    });
                }
                ms.trigger('change');
                if (typeof that.options.afterDeselect === 'function') {
                    that.options.afterDeselect.call(this, value);
                }
            }
        },

        'select_all': function() {
            var ms = this.$element,
                values = ms.val();

            ms.find('option:not(":disabled")').prop('selected', true);
            this.$selectableUl.find('.ms-elem-selectable').filter(':not(.' + this.options.disabledClass + ')').addClass('ms-selected').hide();
            this.$selectionUl.find('.ms-optgroup-label').show();
            this.$selectableUl.find('.ms-optgroup-label').hide();
            this.$selectionUl.find('.ms-elem-selection').filter(':not(.' + this.options.disabledClass + ')').addClass('ms-selected').show();
            this.$selectionUl.focus();
            ms.trigger('change');
            if (typeof this.options.afterSelect === 'function') {
                var selectedValues = $.grep(ms.val(), function(item) {
                    return $.inArray(item, values) < 0;
                });
                this.options.afterSelect.call(this, selectedValues);
            }
        },

        'deselect_all': function() {
            var ms = this.$element,
                values = ms.val();

            ms.find('option').prop('selected', false);
            this.$selectableUl.find('.ms-elem-selectable').removeClass('ms-selected').show();
            this.$selectionUl.find('.ms-optgroup-label').hide();
            this.$selectableUl.find('.ms-optgroup-label').show();
            this.$selectionUl.find('.ms-elem-selection').removeClass('ms-selected').hide();
            this.$selectableUl.focus();
            ms.trigger('change');
            if (typeof this.options.afterDeselect === 'function') {
                this.options.afterDeselect.call(this, values);
            }
        },

        sanitize: function(value) {
            var hash = 0,
                i, character;
            if (value.length == 0) return hash;
            var ls = 0;
            for (i = 0, ls = value.length; i < ls; i++) {
                character = value.charCodeAt(i);
                hash = ((hash << 5) - hash) + character;
                hash |= 0; // Convert to 32bit integer
            }
            return hash;
        }
    };

    /* MULTISELECT PLUGIN DEFINITION
     * ======================= */

    $.fn.multiSelect = function() {
        var option = arguments[0],
            args = arguments;

        return this.each(function() {
            var $this = $(this),
                data = $this.data('multiselect'),
                options = $.extend({}, $.fn.multiSelect.defaults, $this.data(), typeof option === 'object' && option);

            if (!data) {
                $this.data('multiselect', (data = new MultiSelect(this, options)));
            }

            if (typeof option === 'string') {
                data[option](args[1]);
            } else {
                data.init();
            }
        });
    };

    $.fn.multiSelect.defaults = {
        keySelect: [32],
        selectableOptgroup: false,
        disabledClass: 'disabled',
        dblClick: false,
        keepOrder: false,
        cssClass: ''
    };

    $.fn.multiSelect.Constructor = MultiSelect;

    $.fn.insertAt = function(index, $parent) {
        return this.each(function() {
            if (index === 0) {
                $parent.prepend(this);
            } else {
                $parent.children().eq(index - 1).after(this);
            }
        });
    }

}(window.jQuery);
! function(a, b) {
    function c(b) {
        var c = p(),
            d = c.querySelector("h2"),
            e = c.querySelector("p"),
            f = c.querySelector("button.cancel"),
            g = c.querySelector("button.confirm");
        if (d.innerHTML = u(b.title).split("\n").join("<br>"), e.innerHTML = u(b.text || "").split("\n").join("<br>"), b.text && w(e), y(c.querySelectorAll(".icon")), b.type) {
            for (var h = !1, i = 0; i < n.length; i++)
                if (b.type === n[i]) {
                    h = !0;
                    break
                }
            if (!h) return a.console.error("Unknown alert type: " + b.type), !1;
            var j = c.querySelector(".icon." + b.type);
            switch (w(j), b.type) {
                case "success":
                    s(j, "animate"), s(j.querySelector(".tip"), "animateSuccessTip"), s(j.querySelector(".long"), "animateSuccessLong");
                    break;
                case "error":
                    s(j, "animateErrorIcon"), s(j.querySelector(".x-mark"), "animateXMark");
                    break;
                case "warning":
                    s(j, "pulseWarning"), s(j.querySelector(".body"), "pulseWarningIns"), s(j.querySelector(".dot"), "pulseWarningIns")
            }
        }
        if (b.imageUrl) {
            var k = c.querySelector(".icon.custom");
            k.style.backgroundImage = "url(" + b.imageUrl + ")", w(k);
            var l = 80,
                m = 80;
            if (b.imageSize) {
                var o = b.imageSize.split("x")[0],
                    q = b.imageSize.split("x")[1];
                o && q ? (l = o, m = q, k.css({
                    width: o + "px",
                    height: q + "px"
                })) : a.console.error("Parameter imageSize expects value with format WIDTHxHEIGHT, got " + b.imageSize)
            }
            k.setAttribute("style", k.getAttribute("style") + "width:" + l + "px; height:" + m + "px")
        }
        c.setAttribute("data-has-cancel-button", b.showCancelButton), b.showCancelButton ? f.style.display = "inline-block" : y(f), c.setAttribute("data-has-confirm-button", b.showConfirmButton), b.showConfirmButton ? g.style.display = "inline-block" : y(g), b.cancelButtonText && (f.innerHTML = u(b.cancelButtonText)), b.confirmButtonText && (g.innerHTML = u(b.confirmButtonText)), g.className = "confirm btn btn-lg", s(c, b.containerClass), s(g, b.confirmButtonClass), s(f, b.cancelButtonClass), s(d, b.titleClass), s(e, b.textClass), c.setAttribute("data-allow-ouside-click", b.allowOutsideClick);
        var r = b.doneFunction ? !0 : !1;
        c.setAttribute("data-has-done-function", r), c.setAttribute("data-timer", b.timer)
    }

    function d(a, b) {
        for (var c in b) b.hasOwnProperty(c) && (a[c] = b[c]);
        return a
    }

    function e() {
        var a = p();
        B(q(), 10), w(a), s(a, "showSweetAlert"), t(a, "hideSweetAlert"), h = b.activeElement;
        var c = a.querySelector("button.confirm");
        c.focus(), setTimeout(function() {
            s(a, "visible")
        }, 500);
        var d = a.getAttribute("data-timer");
        "null" !== d && "" !== d && setTimeout(function() {
            f()
        }, d)
    }

    function f() {
        var c = p();
        C(q(), 5), C(c, 5), t(c, "showSweetAlert"), s(c, "hideSweetAlert"), t(c, "visible");
        var d = c.querySelector(".icon.success");
        t(d, "animate"), t(d.querySelector(".tip"), "animateSuccessTip"), t(d.querySelector(".long"), "animateSuccessLong");
        var e = c.querySelector(".icon.error");
        t(e, "animateErrorIcon"), t(e.querySelector(".x-mark"), "animateXMark");
        var f = c.querySelector(".icon.warning");
        t(f, "pulseWarning"), t(f.querySelector(".body"), "pulseWarningIns"), t(f.querySelector(".dot"), "pulseWarningIns"), a.onkeydown = j, b.onclick = i, h && h.focus(), k = void 0
    }

    function g() {
        var a = p();
        a.style.marginTop = A(p())
    }
    var h, i, j, k, l = ".sweet-alert",
        m = ".sweet-overlay",
        n = ["error", "warning", "info", "success"],
        o = {
            title: "",
            text: "",
            type: null,
            allowOutsideClick: !1,
            showCancelButton: !1,
            showConfirmButton: !0,
            closeOnConfirm: !0,
            closeOnCancel: !0,
            confirmButtonText: "OK",
            confirmButtonClass: "btn-primary",
            cancelButtonText: "Cancel",
            cancelButtonClass: "btn-default",
            containerClass: "",
            titleClass: "",
            textClass: "",
            imageUrl: null,
            imageSize: null,
            timer: null
        },
        p = function() {
            return b.querySelector(l)
        },
        q = function() {
            return b.querySelector(m)
        },
        r = function(a, b) {
            return new RegExp(" " + b + " ").test(" " + a.className + " ")
        },
        s = function(a, b) {
            b && !r(a, b) && (a.className += " " + b)
        },
        t = function(a, b) {
            var c = " " + a.className.replace(/[\t\r\n]/g, " ") + " ";
            if (r(a, b)) {
                for (; c.indexOf(" " + b + " ") >= 0;) c = c.replace(" " + b + " ", " ");
                a.className = c.replace(/^\s+|\s+$/g, "")
            }
        },
        u = function(a) {
            var c = b.createElement("div");
            return c.appendChild(b.createTextNode(a)), c.innerHTML
        },
        v = function(a) {
            a.style.opacity = "", a.style.display = "block"
        },
        w = function(a) {
            if (a && !a.length) return v(a);
            for (var b = 0; b < a.length; ++b) v(a[b])
        },
        x = function(a) {
            a.style.opacity = "", a.style.display = "none"
        },
        y = function(a) {
            if (a && !a.length) return x(a);
            for (var b = 0; b < a.length; ++b) x(a[b])
        },
        z = function(a, b) {
            for (var c = b.parentNode; null !== c;) {
                if (c === a) return !0;
                c = c.parentNode
            }
            return !1
        },
        A = function(a) {
            a.style.left = "-9999px", a.style.display = "block";
            var b = a.clientHeight,
                c = parseInt(getComputedStyle(a).getPropertyValue("padding"), 10);
            return a.style.left = "", a.style.display = "none", "-" + parseInt(b / 2 + c) + "px"
        },
        B = function(a, b) {
            if (+a.style.opacity < 1) {
                b = b || 16, a.style.opacity = 0, a.style.display = "block";
                var c = +new Date,
                    d = function() {
                        a.style.opacity = +a.style.opacity + (new Date - c) / 100, c = +new Date, +a.style.opacity < 1 && setTimeout(d, b)
                    };
                d()
            }
        },
        C = function(a, b) {
            b = b || 16, a.style.opacity = 1;
            var c = +new Date,
                d = function() {
                    a.style.opacity = +a.style.opacity - (new Date - c) / 100, c = +new Date, +a.style.opacity > 0 ? setTimeout(d, b) : a.style.display = "none"
                };
            d()
        },
        D = function(c) {
            if (MouseEvent) {
                var d = new MouseEvent("click", {
                    view: a,
                    bubbles: !1,
                    cancelable: !0
                });
                c.dispatchEvent(d)
            } else if (b.createEvent) {
                var e = b.createEvent("MouseEvents");
                e.initEvent("click", !1, !1), c.dispatchEvent(e)
            } else b.createEventObject ? c.fireEvent("onclick") : "function" == typeof c.onclick && c.onclick()
        },
        E = function(b) {
            "function" == typeof b.stopPropagation ? (b.stopPropagation(), b.preventDefault()) : a.event && a.event.hasOwnProperty("cancelBubble") && (a.event.cancelBubble = !0)
        };
    a.sweetAlertInitialize = function() {
            var a = '<div class="sweet-overlay" tabIndex="-1"></div><div class="sweet-alert" tabIndex="-1"><div class="icon error"><span class="x-mark"><span class="line left"></span><span class="line right"></span></span></div><div class="icon warning"> <span class="body"></span> <span class="dot"></span> </div> <div class="icon info"></div> <div class="icon success"> <span class="line tip"></span> <span class="line long"></span> <div class="placeholder"></div> <div class="fix"></div> </div> <div class="icon custom"></div> <h2>Title</h2><p class="lead text-muted">Text</p><p><button class="cancel btn btn-lg" tabIndex="2">Cancel</button> <button class="confirm btn btn-lg" tabIndex="1">OK</button></p></div>',
                c = b.createElement("div");
            c.innerHTML = a, b.body.appendChild(c)
        }, a.sweetAlert = a.swal = function() {
            function h(a) {
                var b = a.keyCode || a.which;
                if (-1 !== [9, 13, 32, 27].indexOf(b)) {
                    for (var c = a.target || a.srcElement, d = -1, e = 0; e < w.length; e++)
                        if (c === w[e]) {
                            d = e;
                            break
                        }
                    9 === b ? (c = -1 === d ? u : d === w.length - 1 ? w[0] : w[d + 1], E(a), c.focus()) : (c = 13 === b || 32 === b ? -1 === d ? u : void 0 : 27 !== b || v.hidden || "none" === v.style.display ? void 0 : v, void 0 !== c && D(c, a))
                }
            }

            function l(a) {
                var b = a.target || a.srcElement,
                    c = a.relatedTarget,
                    d = r(n, "visible");
                if (d) {
                    var e = -1;
                    if (null !== c) {
                        for (var f = 0; f < w.length; f++)
                            if (c === w[f]) {
                                e = f;
                                break
                            } - 1 === e && b.focus()
                    } else k = b
                }
            }
            if (void 0 === arguments[0]) return a.console.error("sweetAlert expects at least 1 attribute!"), !1;
            var m = d({}, o);
            switch (typeof arguments[0]) {
                case "string":
                    m.title = arguments[0], m.text = arguments[1] || "", m.type = arguments[2] || "";
                    break;
                case "object":
                    if (void 0 === arguments[0].title) return a.console.error('Missing "title" argument!'), !1;
                    m.title = arguments[0].title, m.text = arguments[0].text || o.text, m.type = arguments[0].type || o.type, m.allowOutsideClick = arguments[0].allowOutsideClick || o.allowOutsideClick, m.showCancelButton = void 0 !== arguments[0].showCancelButton ? arguments[0].showCancelButton : o.showCancelButton, m.showConfirmButton = void 0 !== arguments[0].showConfirmButton ? arguments[0].showConfirmButton : o.showConfirmButton, m.closeOnConfirm = void 0 !== arguments[0].closeOnConfirm ? arguments[0].closeOnConfirm : o.closeOnConfirm, m.closeOnCancel = void 0 !== arguments[0].closeOnCancel ? arguments[0].closeOnCancel : o.closeOnCancel, m.timer = arguments[0].timer || o.timer, m.confirmButtonText = o.showCancelButton ? "Confirm" : o.confirmButtonText, m.confirmButtonText = arguments[0].confirmButtonText || o.confirmButtonText, m.confirmButtonClass = arguments[0].confirmButtonClass || (arguments[0].type ? "btn-" + arguments[0].type : null) || o.confirmButtonClass, m.cancelButtonText = arguments[0].cancelButtonText || o.cancelButtonText, m.cancelButtonClass = arguments[0].cancelButtonClass || o.cancelButtonClass, m.containerClass = arguments[0].containerClass || o.containerClass, m.titleClass = arguments[0].titleClass || o.titleClass, m.textClass = arguments[0].textClass || o.textClass, m.imageUrl = arguments[0].imageUrl || o.imageUrl, m.imageSize = arguments[0].imageSize || o.imageSize, m.doneFunction = arguments[1] || null;
                    break;
                default:
                    return a.console.error('Unexpected type of argument! Expected "string" or "object", got ' + typeof arguments[0]), !1
            }
            c(m), g(), e();
            for (var n = p(), q = function(a) {
                    var b = a.target || a.srcElement,
                        c = b.className.indexOf("confirm") > -1,
                        d = r(n, "visible"),
                        e = m.doneFunction && "true" === n.getAttribute("data-has-done-function");
                    switch (a.type) {
                        case "click":
                            if (c && e && d) m.doneFunction(!0), m.closeOnConfirm && f();
                            else if (e && d) {
                                var g = String(m.doneFunction).replace(/\s/g, ""),
                                    h = "function(" === g.substring(0, 9) && ")" !== g.substring(9, 10);
                                h && m.doneFunction(!1), m.closeOnCancel && f()
                            } else f()
                    }
                }, s = n.querySelectorAll("button"), t = 0; t < s.length; t++) s[t].onclick = q;
            i = b.onclick, b.onclick = function(a) {
                var b = a.target || a.srcElement,
                    c = n === b,
                    d = z(n, a.target),
                    e = r(n, "visible"),
                    g = "true" === n.getAttribute("data-allow-ouside-click");
                !c && !d && e && g && f()
            };
            var u = n.querySelector("button.confirm"),
                v = n.querySelector("button.cancel"),
                w = n.querySelectorAll("button:not([type=hidden])");
            j = a.onkeydown, a.onkeydown = h, u.onblur = l, v.onblur = l, a.onfocus = function() {
                a.setTimeout(function() {
                    void 0 !== k && (k.focus(), k = void 0)
                }, 0)
            }
        }, a.swal.setDefaults = function(a) {
            if (!a) throw new Error("userParams is required");
            if ("object" != typeof a) throw new Error("userParams has to be a object");
            d(o, a)
        }, a.swal.close = function() {
            f()
        },
        function() {
            "complete" === b.readyState || "interactive" === b.readyState && b.body ? sweetAlertInitialize() : b.addEventListener ? b.addEventListener("DOMContentLoaded", function a() {
                b.removeEventListener("DOMContentLoaded", a, !1), sweetAlertInitialize()
            }, !1) : b.attachEvent && b.attachEvent("onreadystatechange", function c() {
                "complete" === b.readyState && (b.detachEvent("onreadystatechange", c), sweetAlertInitialize())
            })
        }()
}(window, document);
/*!
 * LABELAUTY jQuery Plugin
 *
 * @file: jquery-labelauty.js
 * @author: Francisco Neves (@fntneves)
 * @site: www.francisconeves.com
 * @license: MIT License
 */

(function($) {

    $.fn.labelauty = function(options) {
        /*
         * Our default settings
         * Hope you don't need to change anything, with these settings
         */
        var settings = $.extend({
            // Development Mode
            // This will activate console debug messages
            development: false,

            // Trigger Class
            // This class will be used to apply styles
            class: "labelauty",

            // Use text label ?
            // If false, then only an icon represents the input
            label: true,

            // Separator between labels' messages
            // If you use this separator for anything, choose a new one
            separator: "|",

            // Default Checked Message
            // This message will be visible when input is checked
            checked_label: "Checked",

            // Default UnChecked Message
            // This message will be visible when input is unchecked
            unchecked_label: "Unchecked",

            // Force random ID's
            // Replace original ID's with random ID's,
            force_random_id: false,

            // Minimum Label Width
            // This value will be used to apply a minimum width to the text labels
            minimum_width: false,

            // Use the greatest width between two text labels ?
            // If this has a true value, then label width will be the greatest between labels
            same_width: true
        }, options);

        /*
         * Let's create the core function
         * It will try to cover all settings and mistakes of using
         */
        return this.each(function() {
            var $object = $(this);
            var use_labels = true;
            var labels;
            var labels_object;
            var input_id;

            // Test if object is a check input
            // Don't mess me up, come on
            if ($object.is(":checkbox") === false && $object.is(":radio") === false)
                return this;

            // Add "labelauty" class to all checkboxes
            // So you can apply some custom styles
            $object.addClass(settings.class);

            // Get the value of "data-labelauty" attribute
            // Then, we have the labels for each case (or not, as we will see)
            labels = $object.attr("data-labelauty");

            use_labels = settings.label;

            // It's time to check if it's going to the right way
            // Null values, more labels than expected or no labels will be handled here
            if (use_labels === true) {
                if (labels == null || labels.length === 0) {
                    // If attribute has no label and we want to use, then use the default labels
                    labels_object = new Array();
                    labels_object[0] = settings.unchecked_label;
                    labels_object[1] = settings.checked_label;
                } else {
                    // Ok, ok, it's time to split Checked and Unchecked labels
                    // We split, by the "settings.separator" option
                    labels_object = labels.split(settings.separator);

                    // Now, let's check if exist _only_ two labels
                    // If there's more than two, then we do not use labels :(
                    // Else, do some additional tests
                    if (labels_object.length > 2) {
                        use_labels = false;
                        debug(settings.development, "There's more than two labels. LABELAUTY will not use labels.");
                    } else {
                        // If there's just one label (no split by "settings.separator"), it will be used for both cases
                        // Here, we have the possibility of use the same label for both cases
                        if (labels_object.length === 1)
                            debug(settings.development, "There's just one label. LABELAUTY will use this one for both cases.");
                    }
                }
            }

            /*
             * Let's begin the beauty
             */

            // Start hiding ugly checkboxes
            // Obviously, we don't need native checkboxes :O
            $object.css({
                display: "none"
            });

            // We don't need more data-labelauty attributes!
            // Ok, ok, it's just for beauty improvement
            $object.removeAttr("data-labelauty");

            // Now, grab checkbox ID Attribute for "label" tag use
            // If there's no ID Attribute, then generate a new one
            input_id = $object.attr("id");

            if (settings.force_random_id || input_id == null || input_id.trim() === "") {
                var input_id_number = 1 + Math.floor(Math.random() * 1024000);
                input_id = "labelauty-" + input_id_number;

                // Is there any element with this random ID ?
                // If exists, then increment until get an unused ID
                while ($(input_id).length !== 0) {
                    input_id_number++;
                    input_id = "labelauty-" + input_id_number;
                    debug(settings.development, "Holy crap, between 1024 thousand numbers, one raised a conflict. Trying again.");
                }

                $object.attr("id", input_id);
            }

            // Now, add necessary tags to make this work
            // Here, we're going to test some control variables and act properly
            $object.after(create(input_id, labels_object, use_labels));

            // Now, add "min-width" to label
            // Let's say the truth, a fixed width is more beautiful than a variable width
            if (settings.minimum_width !== false)
                $object.next("label[for=" + input_id + "]").css({
                    "min-width": settings.minimum_width
                });

            // Now, add "min-width" to label
            // Let's say the truth, a fixed width is more beautiful than a variable width
            if (settings.same_width != false && settings.label == true) {
                var label_object = $object.next("label[for=" + input_id + "]");
                var unchecked_width = getRealWidth(label_object.find("span.labelauty-unchecked"));
                var checked_width = getRealWidth(label_object.find("span.labelauty-checked"));

                if (unchecked_width > checked_width)
                    label_object.find("span.labelauty-checked").width(unchecked_width);
                else
                    label_object.find("span.labelauty-unchecked").width(checked_width);
            }
        });
    };

    /*
     * Tricky code to work with hidden elements, like tabs.
     * Note: This code is based on jquery.actual plugin.
     * https://github.com/dreamerslab/jquery.actual
     */
    function getRealWidth(element) {
        var width = 0;
        var $target = element;
        var style = 'position: absolute !important; top: -1000 !important; ';

        $target = $target.clone().attr('style', style).appendTo('body');
        width = $target.width(true);
        $target.remove();

        return width;
    }

    function debug(debug, message) {
        if (debug && window.console && window.console.log)
            window.console.log("jQuery-LABELAUTY: " + message);
    };

    function create(input_id, messages_object, label) {
        var block;
        var unchecked_message;
        var checked_message;

        if (messages_object == null)
            unchecked_message = checked_message = "";
        else {
            unchecked_message = messages_object[0];

            // If checked message is null, then put the same text of unchecked message
            if (messages_object[1] == null)
                checked_message = unchecked_message;
            else
                checked_message = messages_object[1];
        }

        if (label == true) {
            block = '<label for="' + input_id + '">' +
                '<span class="labelauty-unchecked-image"></span>' +
                '<span class="labelauty-unchecked">' + unchecked_message + '</span>' +
                '<span class="labelauty-checked-image"></span>' +
                '<span class="labelauty-checked">' + checked_message + '</span>' +
                '</label>';
        } else {
            block = '<label for="' + input_id + '">' +
                '<span class="labelauty-unchecked-image"></span>' +
                '<span class="labelauty-checked-image"></span>' +
                '</label>';
        }

        return block;
    };

}(jQuery));
! function() {
    function n(n) {
        return n && (n.ownerDocument || n.document || n).documentElement
    }

    function t(n) {
        return n && (n.ownerDocument && n.ownerDocument.defaultView || n.document && n || n.defaultView)
    }

    function e(n, t) {
        return t > n ? -1 : n > t ? 1 : n >= t ? 0 : 0 / 0
    }

    function r(n) {
        return null === n ? 0 / 0 : +n
    }

    function u(n) {
        return !isNaN(n)
    }

    function i(n) {
        return {
            left: function(t, e, r, u) {
                for (arguments.length < 3 && (r = 0), arguments.length < 4 && (u = t.length); u > r;) {
                    var i = r + u >>> 1;
                    n(t[i], e) < 0 ? r = i + 1 : u = i
                }
                return r
            },
            right: function(t, e, r, u) {
                for (arguments.length < 3 && (r = 0), arguments.length < 4 && (u = t.length); u > r;) {
                    var i = r + u >>> 1;
                    n(t[i], e) > 0 ? u = i : r = i + 1
                }
                return r
            }
        }
    }

    function o(n) {
        return n.length
    }

    function a(n) {
        for (var t = 1; n * t % 1;) t *= 10;
        return t
    }

    function c(n, t) {
        for (var e in t) Object.defineProperty(n.prototype, e, {
            value: t[e],
            enumerable: !1
        })
    }

    function l() {
        this._ = Object.create(null)
    }

    function s(n) {
        return (n += "") === pa || n[0] === va ? va + n : n
    }

    function f(n) {
        return (n += "")[0] === va ? n.slice(1) : n
    }

    function h(n) {
        return s(n) in this._
    }

    function g(n) {
        return (n = s(n)) in this._ && delete this._[n]
    }

    function p() {
        var n = [];
        for (var t in this._) n.push(f(t));
        return n
    }

    function v() {
        var n = 0;
        for (var t in this._) ++n;
        return n
    }

    function d() {
        for (var n in this._) return !1;
        return !0
    }

    function m() {
        this._ = Object.create(null)
    }

    function y(n) {
        return n
    }

    function M(n, t, e) {
        return function() {
            var r = e.apply(t, arguments);
            return r === t ? n : r
        }
    }

    function x(n, t) {
        if (t in n) return t;
        t = t.charAt(0).toUpperCase() + t.slice(1);
        for (var e = 0, r = da.length; r > e; ++e) {
            var u = da[e] + t;
            if (u in n) return u
        }
    }

    function b() {}

    function _() {}

    function w(n) {
        function t() {
            for (var t, r = e, u = -1, i = r.length; ++u < i;)(t = r[u].on) && t.apply(this, arguments);
            return n
        }
        var e = [],
            r = new l;
        return t.on = function(t, u) {
            var i, o = r.get(t);
            return arguments.length < 2 ? o && o.on : (o && (o.on = null, e = e.slice(0, i = e.indexOf(o)).concat(e.slice(i + 1)), r.remove(t)), u && e.push(r.set(t, {
                on: u
            })), n)
        }, t
    }

    function S() {
        ta.event.preventDefault()
    }

    function k() {
        for (var n, t = ta.event; n = t.sourceEvent;) t = n;
        return t
    }

    function E(n) {
        for (var t = new _, e = 0, r = arguments.length; ++e < r;) t[arguments[e]] = w(t);
        return t.of = function(e, r) {
            return function(u) {
                try {
                    var i = u.sourceEvent = ta.event;
                    u.target = n, ta.event = u, t[u.type].apply(e, r)
                } finally {
                    ta.event = i
                }
            }
        }, t
    }

    function A(n) {
        return ya(n, _a), n
    }

    function N(n) {
        return "function" == typeof n ? n : function() {
            return Ma(n, this)
        }
    }

    function C(n) {
        return "function" == typeof n ? n : function() {
            return xa(n, this)
        }
    }

    function z(n, t) {
        function e() {
            this.removeAttribute(n)
        }

        function r() {
            this.removeAttributeNS(n.space, n.local)
        }

        function u() {
            this.setAttribute(n, t)
        }

        function i() {
            this.setAttributeNS(n.space, n.local, t)
        }

        function o() {
            var e = t.apply(this, arguments);
            null == e ? this.removeAttribute(n) : this.setAttribute(n, e)
        }

        function a() {
            var e = t.apply(this, arguments);
            null == e ? this.removeAttributeNS(n.space, n.local) : this.setAttributeNS(n.space, n.local, e)
        }
        return n = ta.ns.qualify(n), null == t ? n.local ? r : e : "function" == typeof t ? n.local ? a : o : n.local ? i : u
    }

    function q(n) {
        return n.trim().replace(/\s+/g, " ")
    }

    function L(n) {
        return new RegExp("(?:^|\\s+)" + ta.requote(n) + "(?:\\s+|$)", "g")
    }

    function T(n) {
        return (n + "").trim().split(/^|\s+/)
    }

    function R(n, t) {
        function e() {
            for (var e = -1; ++e < u;) n[e](this, t)
        }

        function r() {
            for (var e = -1, r = t.apply(this, arguments); ++e < u;) n[e](this, r)
        }
        n = T(n).map(D);
        var u = n.length;
        return "function" == typeof t ? r : e
    }

    function D(n) {
        var t = L(n);
        return function(e, r) {
            if (u = e.classList) return r ? u.add(n) : u.remove(n);
            var u = e.getAttribute("class") || "";
            r ? (t.lastIndex = 0, t.test(u) || e.setAttribute("class", q(u + " " + n))) : e.setAttribute("class", q(u.replace(t, " ")))
        }
    }

    function P(n, t, e) {
        function r() {
            this.style.removeProperty(n)
        }

        function u() {
            this.style.setProperty(n, t, e)
        }

        function i() {
            var r = t.apply(this, arguments);
            null == r ? this.style.removeProperty(n) : this.style.setProperty(n, r, e)
        }
        return null == t ? r : "function" == typeof t ? i : u
    }

    function U(n, t) {
        function e() {
            delete this[n]
        }

        function r() {
            this[n] = t
        }

        function u() {
            var e = t.apply(this, arguments);
            null == e ? delete this[n] : this[n] = e
        }
        return null == t ? e : "function" == typeof t ? u : r
    }

    function j(n) {
        function t() {
            var t = this.ownerDocument,
                e = this.namespaceURI;
            return e ? t.createElementNS(e, n) : t.createElement(n)
        }

        function e() {
            return this.ownerDocument.createElementNS(n.space, n.local)
        }
        return "function" == typeof n ? n : (n = ta.ns.qualify(n)).local ? e : t
    }

    function F() {
        var n = this.parentNode;
        n && n.removeChild(this)
    }

    function H(n) {
        return {
            __data__: n
        }
    }

    function O(n) {
        return function() {
            return ba(this, n)
        }
    }

    function I(n) {
        return arguments.length || (n = e),
            function(t, e) {
                return t && e ? n(t.__data__, e.__data__) : !t - !e
            }
    }

    function Y(n, t) {
        for (var e = 0, r = n.length; r > e; e++)
            for (var u, i = n[e], o = 0, a = i.length; a > o; o++)(u = i[o]) && t(u, o, e);
        return n
    }

    function Z(n) {
        return ya(n, Sa), n
    }

    function V(n) {
        var t, e;
        return function(r, u, i) {
            var o, a = n[i].update,
                c = a.length;
            for (i != e && (e = i, t = 0), u >= t && (t = u + 1); !(o = a[t]) && ++t < c;);
            return o
        }
    }

    function X(n, t, e) {
        function r() {
            var t = this[o];
            t && (this.removeEventListener(n, t, t.$), delete this[o])
        }

        function u() {
            var u = c(t, ra(arguments));
            r.call(this), this.addEventListener(n, this[o] = u, u.$ = e), u._ = t
        }

        function i() {
            var t, e = new RegExp("^__on([^.]+)" + ta.requote(n) + "$");
            for (var r in this)
                if (t = r.match(e)) {
                    var u = this[r];
                    this.removeEventListener(t[1], u, u.$), delete this[r]
                }
        }
        var o = "__on" + n,
            a = n.indexOf("."),
            c = $;
        a > 0 && (n = n.slice(0, a));
        var l = ka.get(n);
        return l && (n = l, c = B), a ? t ? u : r : t ? b : i
    }

    function $(n, t) {
        return function(e) {
            var r = ta.event;
            ta.event = e, t[0] = this.__data__;
            try {
                n.apply(this, t)
            } finally {
                ta.event = r
            }
        }
    }

    function B(n, t) {
        var e = $(n, t);
        return function(n) {
            var t = this,
                r = n.relatedTarget;
            r && (r === t || 8 & r.compareDocumentPosition(t)) || e.call(t, n)
        }
    }

    function W(e) {
        var r = ".dragsuppress-" + ++Aa,
            u = "click" + r,
            i = ta.select(t(e)).on("touchmove" + r, S).on("dragstart" + r, S).on("selectstart" + r, S);
        if (null == Ea && (Ea = "onselectstart" in e ? !1 : x(e.style, "userSelect")), Ea) {
            var o = n(e).style,
                a = o[Ea];
            o[Ea] = "none"
        }
        return function(n) {
            if (i.on(r, null), Ea && (o[Ea] = a), n) {
                var t = function() {
                    i.on(u, null)
                };
                i.on(u, function() {
                    S(), t()
                }, !0), setTimeout(t, 0)
            }
        }
    }

    function J(n, e) {
        e.changedTouches && (e = e.changedTouches[0]);
        var r = n.ownerSVGElement || n;
        if (r.createSVGPoint) {
            var u = r.createSVGPoint();
            if (0 > Na) {
                var i = t(n);
                if (i.scrollX || i.scrollY) {
                    r = ta.select("body").append("svg").style({
                        position: "absolute",
                        top: 0,
                        left: 0,
                        margin: 0,
                        padding: 0,
                        border: "none"
                    }, "important");
                    var o = r[0][0].getScreenCTM();
                    Na = !(o.f || o.e), r.remove()
                }
            }
            return Na ? (u.x = e.pageX, u.y = e.pageY) : (u.x = e.clientX, u.y = e.clientY), u = u.matrixTransform(n.getScreenCTM().inverse()), [u.x, u.y]
        }
        var a = n.getBoundingClientRect();
        return [e.clientX - a.left - n.clientLeft, e.clientY - a.top - n.clientTop]
    }

    function G() {
        return ta.event.changedTouches[0].identifier
    }

    function K(n) {
        return n > 0 ? 1 : 0 > n ? -1 : 0
    }

    function Q(n, t, e) {
        return (t[0] - n[0]) * (e[1] - n[1]) - (t[1] - n[1]) * (e[0] - n[0])
    }

    function nt(n) {
        return n > 1 ? 0 : -1 > n ? qa : Math.acos(n)
    }

    function tt(n) {
        return n > 1 ? Ra : -1 > n ? -Ra : Math.asin(n)
    }

    function et(n) {
        return ((n = Math.exp(n)) - 1 / n) / 2
    }

    function rt(n) {
        return ((n = Math.exp(n)) + 1 / n) / 2
    }

    function ut(n) {
        return ((n = Math.exp(2 * n)) - 1) / (n + 1)
    }

    function it(n) {
        return (n = Math.sin(n / 2)) * n
    }

    function ot() {}

    function at(n, t, e) {
        return this instanceof at ? (this.h = +n, this.s = +t, void(this.l = +e)) : arguments.length < 2 ? n instanceof at ? new at(n.h, n.s, n.l) : bt("" + n, _t, at) : new at(n, t, e)
    }

    function ct(n, t, e) {
        function r(n) {
            return n > 360 ? n -= 360 : 0 > n && (n += 360), 60 > n ? i + (o - i) * n / 60 : 180 > n ? o : 240 > n ? i + (o - i) * (240 - n) / 60 : i
        }

        function u(n) {
            return Math.round(255 * r(n))
        }
        var i, o;
        return n = isNaN(n) ? 0 : (n %= 360) < 0 ? n + 360 : n, t = isNaN(t) ? 0 : 0 > t ? 0 : t > 1 ? 1 : t, e = 0 > e ? 0 : e > 1 ? 1 : e, o = .5 >= e ? e * (1 + t) : e + t - e * t, i = 2 * e - o, new mt(u(n + 120), u(n), u(n - 120))
    }

    function lt(n, t, e) {
        return this instanceof lt ? (this.h = +n, this.c = +t, void(this.l = +e)) : arguments.length < 2 ? n instanceof lt ? new lt(n.h, n.c, n.l) : n instanceof ft ? gt(n.l, n.a, n.b) : gt((n = wt((n = ta.rgb(n)).r, n.g, n.b)).l, n.a, n.b) : new lt(n, t, e)
    }

    function st(n, t, e) {
        return isNaN(n) && (n = 0), isNaN(t) && (t = 0), new ft(e, Math.cos(n *= Da) * t, Math.sin(n) * t)
    }

    function ft(n, t, e) {
        return this instanceof ft ? (this.l = +n, this.a = +t, void(this.b = +e)) : arguments.length < 2 ? n instanceof ft ? new ft(n.l, n.a, n.b) : n instanceof lt ? st(n.h, n.c, n.l) : wt((n = mt(n)).r, n.g, n.b) : new ft(n, t, e)
    }

    function ht(n, t, e) {
        var r = (n + 16) / 116,
            u = r + t / 500,
            i = r - e / 200;
        return u = pt(u) * Xa, r = pt(r) * $a, i = pt(i) * Ba, new mt(dt(3.2404542 * u - 1.5371385 * r - .4985314 * i), dt(-.969266 * u + 1.8760108 * r + .041556 * i), dt(.0556434 * u - .2040259 * r + 1.0572252 * i))
    }

    function gt(n, t, e) {
        return n > 0 ? new lt(Math.atan2(e, t) * Pa, Math.sqrt(t * t + e * e), n) : new lt(0 / 0, 0 / 0, n)
    }

    function pt(n) {
        return n > .206893034 ? n * n * n : (n - 4 / 29) / 7.787037
    }

    function vt(n) {
        return n > .008856 ? Math.pow(n, 1 / 3) : 7.787037 * n + 4 / 29
    }

    function dt(n) {
        return Math.round(255 * (.00304 >= n ? 12.92 * n : 1.055 * Math.pow(n, 1 / 2.4) - .055))
    }

    function mt(n, t, e) {
        return this instanceof mt ? (this.r = ~~n, this.g = ~~t, void(this.b = ~~e)) : arguments.length < 2 ? n instanceof mt ? new mt(n.r, n.g, n.b) : bt("" + n, mt, ct) : new mt(n, t, e)
    }

    function yt(n) {
        return new mt(n >> 16, n >> 8 & 255, 255 & n)
    }

    function Mt(n) {
        return yt(n) + ""
    }

    function xt(n) {
        return 16 > n ? "0" + Math.max(0, n).toString(16) : Math.min(255, n).toString(16)
    }

    function bt(n, t, e) {
        var r, u, i, o = 0,
            a = 0,
            c = 0;
        if (r = /([a-z]+)\((.*)\)/.exec(n = n.toLowerCase())) switch (u = r[2].split(","), r[1]) {
            case "hsl":
                return e(parseFloat(u[0]), parseFloat(u[1]) / 100, parseFloat(u[2]) / 100);
            case "rgb":
                return t(kt(u[0]), kt(u[1]), kt(u[2]))
        }
        return (i = Ga.get(n)) ? t(i.r, i.g, i.b) : (null == n || "#" !== n.charAt(0) || isNaN(i = parseInt(n.slice(1), 16)) || (4 === n.length ? (o = (3840 & i) >> 4, o = o >> 4 | o, a = 240 & i, a = a >> 4 | a, c = 15 & i, c = c << 4 | c) : 7 === n.length && (o = (16711680 & i) >> 16, a = (65280 & i) >> 8, c = 255 & i)), t(o, a, c))
    }

    function _t(n, t, e) {
        var r, u, i = Math.min(n /= 255, t /= 255, e /= 255),
            o = Math.max(n, t, e),
            a = o - i,
            c = (o + i) / 2;
        return a ? (u = .5 > c ? a / (o + i) : a / (2 - o - i), r = n == o ? (t - e) / a + (e > t ? 6 : 0) : t == o ? (e - n) / a + 2 : (n - t) / a + 4, r *= 60) : (r = 0 / 0, u = c > 0 && 1 > c ? 0 : r), new at(r, u, c)
    }

    function wt(n, t, e) {
        n = St(n), t = St(t), e = St(e);
        var r = vt((.4124564 * n + .3575761 * t + .1804375 * e) / Xa),
            u = vt((.2126729 * n + .7151522 * t + .072175 * e) / $a),
            i = vt((.0193339 * n + .119192 * t + .9503041 * e) / Ba);
        return ft(116 * u - 16, 500 * (r - u), 200 * (u - i))
    }

    function St(n) {
        return (n /= 255) <= .04045 ? n / 12.92 : Math.pow((n + .055) / 1.055, 2.4)
    }

    function kt(n) {
        var t = parseFloat(n);
        return "%" === n.charAt(n.length - 1) ? Math.round(2.55 * t) : t
    }

    function Et(n) {
        return "function" == typeof n ? n : function() {
            return n
        }
    }

    function At(n) {
        return function(t, e, r) {
            return 2 === arguments.length && "function" == typeof e && (r = e, e = null), Nt(t, e, n, r)
        }
    }

    function Nt(n, t, e, r) {
        function u() {
            var n, t = c.status;
            if (!t && zt(c) || t >= 200 && 300 > t || 304 === t) {
                try {
                    n = e.call(i, c)
                } catch (r) {
                    return void o.error.call(i, r)
                }
                o.load.call(i, n)
            } else o.error.call(i, c)
        }
        var i = {},
            o = ta.dispatch("beforesend", "progress", "load", "error"),
            a = {},
            c = new XMLHttpRequest,
            l = null;
        return !this.XDomainRequest || "withCredentials" in c || !/^(http(s)?:)?\/\//.test(n) || (c = new XDomainRequest), "onload" in c ? c.onload = c.onerror = u : c.onreadystatechange = function() {
            c.readyState > 3 && u()
        }, c.onprogress = function(n) {
            var t = ta.event;
            ta.event = n;
            try {
                o.progress.call(i, c)
            } finally {
                ta.event = t
            }
        }, i.header = function(n, t) {
            return n = (n + "").toLowerCase(), arguments.length < 2 ? a[n] : (null == t ? delete a[n] : a[n] = t + "", i)
        }, i.mimeType = function(n) {
            return arguments.length ? (t = null == n ? null : n + "", i) : t
        }, i.responseType = function(n) {
            return arguments.length ? (l = n, i) : l
        }, i.response = function(n) {
            return e = n, i
        }, ["get", "post"].forEach(function(n) {
            i[n] = function() {
                return i.send.apply(i, [n].concat(ra(arguments)))
            }
        }), i.send = function(e, r, u) {
            if (2 === arguments.length && "function" == typeof r && (u = r, r = null), c.open(e, n, !0), null == t || "accept" in a || (a.accept = t + ",*/*"), c.setRequestHeader)
                for (var s in a) c.setRequestHeader(s, a[s]);
            return null != t && c.overrideMimeType && c.overrideMimeType(t), null != l && (c.responseType = l), null != u && i.on("error", u).on("load", function(n) {
                u(null, n)
            }), o.beforesend.call(i, c), c.send(null == r ? null : r), i
        }, i.abort = function() {
            return c.abort(), i
        }, ta.rebind(i, o, "on"), null == r ? i : i.get(Ct(r))
    }

    function Ct(n) {
        return 1 === n.length ? function(t, e) {
            n(null == t ? e : null)
        } : n
    }

    function zt(n) {
        var t = n.responseType;
        return t && "text" !== t ? n.response : n.responseText
    }

    function qt() {
        var n = Lt(),
            t = Tt() - n;
        t > 24 ? (isFinite(t) && (clearTimeout(tc), tc = setTimeout(qt, t)), nc = 0) : (nc = 1, rc(qt))
    }

    function Lt() {
        var n = Date.now();
        for (ec = Ka; ec;) n >= ec.t && (ec.f = ec.c(n - ec.t)), ec = ec.n;
        return n
    }

    function Tt() {
        for (var n, t = Ka, e = 1 / 0; t;) t.f ? t = n ? n.n = t.n : Ka = t.n : (t.t < e && (e = t.t), t = (n = t).n);
        return Qa = n, e
    }

    function Rt(n, t) {
        return t - (n ? Math.ceil(Math.log(n) / Math.LN10) : 1)
    }

    function Dt(n, t) {
        var e = Math.pow(10, 3 * ga(8 - t));
        return {
            scale: t > 8 ? function(n) {
                return n / e
            } : function(n) {
                return n * e
            },
            symbol: n
        }
    }

    function Pt(n) {
        var t = n.decimal,
            e = n.thousands,
            r = n.grouping,
            u = n.currency,
            i = r && e ? function(n, t) {
                for (var u = n.length, i = [], o = 0, a = r[0], c = 0; u > 0 && a > 0 && (c + a + 1 > t && (a = Math.max(1, t - c)), i.push(n.substring(u -= a, u + a)), !((c += a + 1) > t));) a = r[o = (o + 1) % r.length];
                return i.reverse().join(e)
            } : y;
        return function(n) {
            var e = ic.exec(n),
                r = e[1] || " ",
                o = e[2] || ">",
                a = e[3] || "-",
                c = e[4] || "",
                l = e[5],
                s = +e[6],
                f = e[7],
                h = e[8],
                g = e[9],
                p = 1,
                v = "",
                d = "",
                m = !1,
                y = !0;
            switch (h && (h = +h.substring(1)), (l || "0" === r && "=" === o) && (l = r = "0", o = "="), g) {
                case "n":
                    f = !0, g = "g";
                    break;
                case "%":
                    p = 100, d = "%", g = "f";
                    break;
                case "p":
                    p = 100, d = "%", g = "r";
                    break;
                case "b":
                case "o":
                case "x":
                case "X":
                    "#" === c && (v = "0" + g.toLowerCase());
                case "c":
                    y = !1;
                case "d":
                    m = !0, h = 0;
                    break;
                case "s":
                    p = -1, g = "r"
            }
            "$" === c && (v = u[0], d = u[1]), "r" != g || h || (g = "g"), null != h && ("g" == g ? h = Math.max(1, Math.min(21, h)) : ("e" == g || "f" == g) && (h = Math.max(0, Math.min(20, h)))), g = oc.get(g) || Ut;
            var M = l && f;
            return function(n) {
                var e = d;
                if (m && n % 1) return "";
                var u = 0 > n || 0 === n && 0 > 1 / n ? (n = -n, "-") : "-" === a ? "" : a;
                if (0 > p) {
                    var c = ta.formatPrefix(n, h);
                    n = c.scale(n), e = c.symbol + d
                } else n *= p;
                n = g(n, h);
                var x, b, _ = n.lastIndexOf(".");
                if (0 > _) {
                    var w = y ? n.lastIndexOf("e") : -1;
                    0 > w ? (x = n, b = "") : (x = n.substring(0, w), b = n.substring(w))
                } else x = n.substring(0, _), b = t + n.substring(_ + 1);
                !l && f && (x = i(x, 1 / 0));
                var S = v.length + x.length + b.length + (M ? 0 : u.length),
                    k = s > S ? new Array(S = s - S + 1).join(r) : "";
                return M && (x = i(k + x, k.length ? s - b.length : 1 / 0)), u += v, n = x + b, ("<" === o ? u + n + k : ">" === o ? k + u + n : "^" === o ? k.substring(0, S >>= 1) + u + n + k.substring(S) : u + (M ? n : k + n)) + e
            }
        }
    }

    function Ut(n) {
        return n + ""
    }

    function jt() {
        this._ = new Date(arguments.length > 1 ? Date.UTC.apply(this, arguments) : arguments[0])
    }

    function Ft(n, t, e) {
        function r(t) {
            var e = n(t),
                r = i(e, 1);
            return r - t > t - e ? e : r
        }

        function u(e) {
            return t(e = n(new cc(e - 1)), 1), e
        }

        function i(n, e) {
            return t(n = new cc(+n), e), n
        }

        function o(n, r, i) {
            var o = u(n),
                a = [];
            if (i > 1)
                for (; r > o;) e(o) % i || a.push(new Date(+o)), t(o, 1);
            else
                for (; r > o;) a.push(new Date(+o)), t(o, 1);
            return a
        }

        function a(n, t, e) {
            try {
                cc = jt;
                var r = new jt;
                return r._ = n, o(r, t, e)
            } finally {
                cc = Date
            }
        }
        n.floor = n, n.round = r, n.ceil = u, n.offset = i, n.range = o;
        var c = n.utc = Ht(n);
        return c.floor = c, c.round = Ht(r), c.ceil = Ht(u), c.offset = Ht(i), c.range = a, n
    }

    function Ht(n) {
        return function(t, e) {
            try {
                cc = jt;
                var r = new jt;
                return r._ = t, n(r, e)._
            } finally {
                cc = Date
            }
        }
    }

    function Ot(n) {
        function t(n) {
            function t(t) {
                for (var e, u, i, o = [], a = -1, c = 0; ++a < r;) 37 === n.charCodeAt(a) && (o.push(n.slice(c, a)), null != (u = sc[e = n.charAt(++a)]) && (e = n.charAt(++a)), (i = N[e]) && (e = i(t, null == u ? "e" === e ? " " : "0" : u)), o.push(e), c = a + 1);
                return o.push(n.slice(c, a)), o.join("")
            }
            var r = n.length;
            return t.parse = function(t) {
                var r = {
                        y: 1900,
                        m: 0,
                        d: 1,
                        H: 0,
                        M: 0,
                        S: 0,
                        L: 0,
                        Z: null
                    },
                    u = e(r, n, t, 0);
                if (u != t.length) return null;
                "p" in r && (r.H = r.H % 12 + 12 * r.p);
                var i = null != r.Z && cc !== jt,
                    o = new(i ? jt : cc);
                return "j" in r ? o.setFullYear(r.y, 0, r.j) : "w" in r && ("W" in r || "U" in r) ? (o.setFullYear(r.y, 0, 1), o.setFullYear(r.y, 0, "W" in r ? (r.w + 6) % 7 + 7 * r.W - (o.getDay() + 5) % 7 : r.w + 7 * r.U - (o.getDay() + 6) % 7)) : o.setFullYear(r.y, r.m, r.d), o.setHours(r.H + (r.Z / 100 | 0), r.M + r.Z % 100, r.S, r.L), i ? o._ : o
            }, t.toString = function() {
                return n
            }, t
        }

        function e(n, t, e, r) {
            for (var u, i, o, a = 0, c = t.length, l = e.length; c > a;) {
                if (r >= l) return -1;
                if (u = t.charCodeAt(a++), 37 === u) {
                    if (o = t.charAt(a++), i = C[o in sc ? t.charAt(a++) : o], !i || (r = i(n, e, r)) < 0) return -1
                } else if (u != e.charCodeAt(r++)) return -1
            }
            return r
        }

        function r(n, t, e) {
            _.lastIndex = 0;
            var r = _.exec(t.slice(e));
            return r ? (n.w = w.get(r[0].toLowerCase()), e + r[0].length) : -1
        }

        function u(n, t, e) {
            x.lastIndex = 0;
            var r = x.exec(t.slice(e));
            return r ? (n.w = b.get(r[0].toLowerCase()), e + r[0].length) : -1
        }

        function i(n, t, e) {
            E.lastIndex = 0;
            var r = E.exec(t.slice(e));
            return r ? (n.m = A.get(r[0].toLowerCase()), e + r[0].length) : -1
        }

        function o(n, t, e) {
            S.lastIndex = 0;
            var r = S.exec(t.slice(e));
            return r ? (n.m = k.get(r[0].toLowerCase()), e + r[0].length) : -1
        }

        function a(n, t, r) {
            return e(n, N.c.toString(), t, r)
        }

        function c(n, t, r) {
            return e(n, N.x.toString(), t, r)
        }

        function l(n, t, r) {
            return e(n, N.X.toString(), t, r)
        }

        function s(n, t, e) {
            var r = M.get(t.slice(e, e += 2).toLowerCase());
            return null == r ? -1 : (n.p = r, e)
        }
        var f = n.dateTime,
            h = n.date,
            g = n.time,
            p = n.periods,
            v = n.days,
            d = n.shortDays,
            m = n.months,
            y = n.shortMonths;
        t.utc = function(n) {
            function e(n) {
                try {
                    cc = jt;
                    var t = new cc;
                    return t._ = n, r(t)
                } finally {
                    cc = Date
                }
            }
            var r = t(n);
            return e.parse = function(n) {
                try {
                    cc = jt;
                    var t = r.parse(n);
                    return t && t._
                } finally {
                    cc = Date
                }
            }, e.toString = r.toString, e
        }, t.multi = t.utc.multi = ae;
        var M = ta.map(),
            x = Yt(v),
            b = Zt(v),
            _ = Yt(d),
            w = Zt(d),
            S = Yt(m),
            k = Zt(m),
            E = Yt(y),
            A = Zt(y);
        p.forEach(function(n, t) {
            M.set(n.toLowerCase(), t)
        });
        var N = {
                a: function(n) {
                    return d[n.getDay()]
                },
                A: function(n) {
                    return v[n.getDay()]
                },
                b: function(n) {
                    return y[n.getMonth()]
                },
                B: function(n) {
                    return m[n.getMonth()]
                },
                c: t(f),
                d: function(n, t) {
                    return It(n.getDate(), t, 2)
                },
                e: function(n, t) {
                    return It(n.getDate(), t, 2)
                },
                H: function(n, t) {
                    return It(n.getHours(), t, 2)
                },
                I: function(n, t) {
                    return It(n.getHours() % 12 || 12, t, 2)
                },
                j: function(n, t) {
                    return It(1 + ac.dayOfYear(n), t, 3)
                },
                L: function(n, t) {
                    return It(n.getMilliseconds(), t, 3)
                },
                m: function(n, t) {
                    return It(n.getMonth() + 1, t, 2)
                },
                M: function(n, t) {
                    return It(n.getMinutes(), t, 2)
                },
                p: function(n) {
                    return p[+(n.getHours() >= 12)]
                },
                S: function(n, t) {
                    return It(n.getSeconds(), t, 2)
                },
                U: function(n, t) {
                    return It(ac.sundayOfYear(n), t, 2)
                },
                w: function(n) {
                    return n.getDay()
                },
                W: function(n, t) {
                    return It(ac.mondayOfYear(n), t, 2)
                },
                x: t(h),
                X: t(g),
                y: function(n, t) {
                    return It(n.getFullYear() % 100, t, 2)
                },
                Y: function(n, t) {
                    return It(n.getFullYear() % 1e4, t, 4)
                },
                Z: ie,
                "%": function() {
                    return "%"
                }
            },
            C = {
                a: r,
                A: u,
                b: i,
                B: o,
                c: a,
                d: Qt,
                e: Qt,
                H: te,
                I: te,
                j: ne,
                L: ue,
                m: Kt,
                M: ee,
                p: s,
                S: re,
                U: Xt,
                w: Vt,
                W: $t,
                x: c,
                X: l,
                y: Wt,
                Y: Bt,
                Z: Jt,
                "%": oe
            };
        return t
    }

    function It(n, t, e) {
        var r = 0 > n ? "-" : "",
            u = (r ? -n : n) + "",
            i = u.length;
        return r + (e > i ? new Array(e - i + 1).join(t) + u : u)
    }

    function Yt(n) {
        return new RegExp("^(?:" + n.map(ta.requote).join("|") + ")", "i")
    }

    function Zt(n) {
        for (var t = new l, e = -1, r = n.length; ++e < r;) t.set(n[e].toLowerCase(), e);
        return t
    }

    function Vt(n, t, e) {
        fc.lastIndex = 0;
        var r = fc.exec(t.slice(e, e + 1));
        return r ? (n.w = +r[0], e + r[0].length) : -1
    }

    function Xt(n, t, e) {
        fc.lastIndex = 0;
        var r = fc.exec(t.slice(e));
        return r ? (n.U = +r[0], e + r[0].length) : -1
    }

    function $t(n, t, e) {
        fc.lastIndex = 0;
        var r = fc.exec(t.slice(e));
        return r ? (n.W = +r[0], e + r[0].length) : -1
    }

    function Bt(n, t, e) {
        fc.lastIndex = 0;
        var r = fc.exec(t.slice(e, e + 4));
        return r ? (n.y = +r[0], e + r[0].length) : -1
    }

    function Wt(n, t, e) {
        fc.lastIndex = 0;
        var r = fc.exec(t.slice(e, e + 2));
        return r ? (n.y = Gt(+r[0]), e + r[0].length) : -1
    }

    function Jt(n, t, e) {
        return /^[+-]\d{4}$/.test(t = t.slice(e, e + 5)) ? (n.Z = -t, e + 5) : -1
    }

    function Gt(n) {
        return n + (n > 68 ? 1900 : 2e3)
    }

    function Kt(n, t, e) {
        fc.lastIndex = 0;
        var r = fc.exec(t.slice(e, e + 2));
        return r ? (n.m = r[0] - 1, e + r[0].length) : -1
    }

    function Qt(n, t, e) {
        fc.lastIndex = 0;
        var r = fc.exec(t.slice(e, e + 2));
        return r ? (n.d = +r[0], e + r[0].length) : -1
    }

    function ne(n, t, e) {
        fc.lastIndex = 0;
        var r = fc.exec(t.slice(e, e + 3));
        return r ? (n.j = +r[0], e + r[0].length) : -1
    }

    function te(n, t, e) {
        fc.lastIndex = 0;
        var r = fc.exec(t.slice(e, e + 2));
        return r ? (n.H = +r[0], e + r[0].length) : -1
    }

    function ee(n, t, e) {
        fc.lastIndex = 0;
        var r = fc.exec(t.slice(e, e + 2));
        return r ? (n.M = +r[0], e + r[0].length) : -1
    }

    function re(n, t, e) {
        fc.lastIndex = 0;
        var r = fc.exec(t.slice(e, e + 2));
        return r ? (n.S = +r[0], e + r[0].length) : -1
    }

    function ue(n, t, e) {
        fc.lastIndex = 0;
        var r = fc.exec(t.slice(e, e + 3));
        return r ? (n.L = +r[0], e + r[0].length) : -1
    }

    function ie(n) {
        var t = n.getTimezoneOffset(),
            e = t > 0 ? "-" : "+",
            r = ga(t) / 60 | 0,
            u = ga(t) % 60;
        return e + It(r, "0", 2) + It(u, "0", 2)
    }

    function oe(n, t, e) {
        hc.lastIndex = 0;
        var r = hc.exec(t.slice(e, e + 1));
        return r ? e + r[0].length : -1
    }

    function ae(n) {
        for (var t = n.length, e = -1; ++e < t;) n[e][0] = this(n[e][0]);
        return function(t) {
            for (var e = 0, r = n[e]; !r[1](t);) r = n[++e];
            return r[0](t)
        }
    }

    function ce() {}

    function le(n, t, e) {
        var r = e.s = n + t,
            u = r - n,
            i = r - u;
        e.t = n - i + (t - u)
    }

    function se(n, t) {
        n && dc.hasOwnProperty(n.type) && dc[n.type](n, t)
    }

    function fe(n, t, e) {
        var r, u = -1,
            i = n.length - e;
        for (t.lineStart(); ++u < i;) r = n[u], t.point(r[0], r[1], r[2]);
        t.lineEnd()
    }

    function he(n, t) {
        var e = -1,
            r = n.length;
        for (t.polygonStart(); ++e < r;) fe(n[e], t, 1);
        t.polygonEnd()
    }

    function ge() {
        function n(n, t) {
            n *= Da, t = t * Da / 2 + qa / 4;
            var e = n - r,
                o = e >= 0 ? 1 : -1,
                a = o * e,
                c = Math.cos(t),
                l = Math.sin(t),
                s = i * l,
                f = u * c + s * Math.cos(a),
                h = s * o * Math.sin(a);
            yc.add(Math.atan2(h, f)), r = n, u = c, i = l
        }
        var t, e, r, u, i;
        Mc.point = function(o, a) {
            Mc.point = n, r = (t = o) * Da, u = Math.cos(a = (e = a) * Da / 2 + qa / 4), i = Math.sin(a)
        }, Mc.lineEnd = function() {
            n(t, e)
        }
    }

    function pe(n) {
        var t = n[0],
            e = n[1],
            r = Math.cos(e);
        return [r * Math.cos(t), r * Math.sin(t), Math.sin(e)]
    }

    function ve(n, t) {
        return n[0] * t[0] + n[1] * t[1] + n[2] * t[2]
    }

    function de(n, t) {
        return [n[1] * t[2] - n[2] * t[1], n[2] * t[0] - n[0] * t[2], n[0] * t[1] - n[1] * t[0]]
    }

    function me(n, t) {
        n[0] += t[0], n[1] += t[1], n[2] += t[2]
    }

    function ye(n, t) {
        return [n[0] * t, n[1] * t, n[2] * t]
    }

    function Me(n) {
        var t = Math.sqrt(n[0] * n[0] + n[1] * n[1] + n[2] * n[2]);
        n[0] /= t, n[1] /= t, n[2] /= t
    }

    function xe(n) {
        return [Math.atan2(n[1], n[0]), tt(n[2])]
    }

    function be(n, t) {
        return ga(n[0] - t[0]) < Ca && ga(n[1] - t[1]) < Ca
    }

    function _e(n, t) {
        n *= Da;
        var e = Math.cos(t *= Da);
        we(e * Math.cos(n), e * Math.sin(n), Math.sin(t))
    }

    function we(n, t, e) {
        ++xc, _c += (n - _c) / xc, wc += (t - wc) / xc, Sc += (e - Sc) / xc
    }

    function Se() {
        function n(n, u) {
            n *= Da;
            var i = Math.cos(u *= Da),
                o = i * Math.cos(n),
                a = i * Math.sin(n),
                c = Math.sin(u),
                l = Math.atan2(Math.sqrt((l = e * c - r * a) * l + (l = r * o - t * c) * l + (l = t * a - e * o) * l), t * o + e * a + r * c);
            bc += l, kc += l * (t + (t = o)), Ec += l * (e + (e = a)), Ac += l * (r + (r = c)), we(t, e, r)
        }
        var t, e, r;
        qc.point = function(u, i) {
            u *= Da;
            var o = Math.cos(i *= Da);
            t = o * Math.cos(u), e = o * Math.sin(u), r = Math.sin(i), qc.point = n, we(t, e, r)
        }
    }

    function ke() {
        qc.point = _e
    }

    function Ee() {
        function n(n, t) {
            n *= Da;
            var e = Math.cos(t *= Da),
                o = e * Math.cos(n),
                a = e * Math.sin(n),
                c = Math.sin(t),
                l = u * c - i * a,
                s = i * o - r * c,
                f = r * a - u * o,
                h = Math.sqrt(l * l + s * s + f * f),
                g = r * o + u * a + i * c,
                p = h && -nt(g) / h,
                v = Math.atan2(h, g);
            Nc += p * l, Cc += p * s, zc += p * f, bc += v, kc += v * (r + (r = o)), Ec += v * (u + (u = a)), Ac += v * (i + (i = c)), we(r, u, i)
        }
        var t, e, r, u, i;
        qc.point = function(o, a) {
            t = o, e = a, qc.point = n, o *= Da;
            var c = Math.cos(a *= Da);
            r = c * Math.cos(o), u = c * Math.sin(o), i = Math.sin(a), we(r, u, i)
        }, qc.lineEnd = function() {
            n(t, e), qc.lineEnd = ke, qc.point = _e
        }
    }

    function Ae(n, t) {
        function e(e, r) {
            return e = n(e, r), t(e[0], e[1])
        }
        return n.invert && t.invert && (e.invert = function(e, r) {
            return e = t.invert(e, r), e && n.invert(e[0], e[1])
        }), e
    }

    function Ne() {
        return !0
    }

    function Ce(n, t, e, r, u) {
        var i = [],
            o = [];
        if (n.forEach(function(n) {
                if (!((t = n.length - 1) <= 0)) {
                    var t, e = n[0],
                        r = n[t];
                    if (be(e, r)) {
                        u.lineStart();
                        for (var a = 0; t > a; ++a) u.point((e = n[a])[0], e[1]);
                        return void u.lineEnd()
                    }
                    var c = new qe(e, n, null, !0),
                        l = new qe(e, null, c, !1);
                    c.o = l, i.push(c), o.push(l), c = new qe(r, n, null, !1), l = new qe(r, null, c, !0), c.o = l, i.push(c), o.push(l)
                }
            }), o.sort(t), ze(i), ze(o), i.length) {
            for (var a = 0, c = e, l = o.length; l > a; ++a) o[a].e = c = !c;
            for (var s, f, h = i[0];;) {
                for (var g = h, p = !0; g.v;)
                    if ((g = g.n) === h) return;
                s = g.z, u.lineStart();
                do {
                    if (g.v = g.o.v = !0, g.e) {
                        if (p)
                            for (var a = 0, l = s.length; l > a; ++a) u.point((f = s[a])[0], f[1]);
                        else r(g.x, g.n.x, 1, u);
                        g = g.n
                    } else {
                        if (p) {
                            s = g.p.z;
                            for (var a = s.length - 1; a >= 0; --a) u.point((f = s[a])[0], f[1])
                        } else r(g.x, g.p.x, -1, u);
                        g = g.p
                    }
                    g = g.o, s = g.z, p = !p
                } while (!g.v);
                u.lineEnd()
            }
        }
    }

    function ze(n) {
        if (t = n.length) {
            for (var t, e, r = 0, u = n[0]; ++r < t;) u.n = e = n[r], e.p = u, u = e;
            u.n = e = n[0], e.p = u
        }
    }

    function qe(n, t, e, r) {
        this.x = n, this.z = t, this.o = e, this.e = r, this.v = !1, this.n = this.p = null
    }

    function Le(n, t, e, r) {
        return function(u, i) {
            function o(t, e) {
                var r = u(t, e);
                n(t = r[0], e = r[1]) && i.point(t, e)
            }

            function a(n, t) {
                var e = u(n, t);
                d.point(e[0], e[1])
            }

            function c() {
                y.point = a, d.lineStart()
            }

            function l() {
                y.point = o, d.lineEnd()
            }

            function s(n, t) {
                v.push([n, t]);
                var e = u(n, t);
                x.point(e[0], e[1])
            }

            function f() {
                x.lineStart(), v = []
            }

            function h() {
                s(v[0][0], v[0][1]), x.lineEnd();
                var n, t = x.clean(),
                    e = M.buffer(),
                    r = e.length;
                if (v.pop(), p.push(v), v = null, r)
                    if (1 & t) {
                        n = e[0];
                        var u, r = n.length - 1,
                            o = -1;
                        if (r > 0) {
                            for (b || (i.polygonStart(), b = !0), i.lineStart(); ++o < r;) i.point((u = n[o])[0], u[1]);
                            i.lineEnd()
                        }
                    } else r > 1 && 2 & t && e.push(e.pop().concat(e.shift())), g.push(e.filter(Te))
            }
            var g, p, v, d = t(i),
                m = u.invert(r[0], r[1]),
                y = {
                    point: o,
                    lineStart: c,
                    lineEnd: l,
                    polygonStart: function() {
                        y.point = s, y.lineStart = f, y.lineEnd = h, g = [], p = []
                    },
                    polygonEnd: function() {
                        y.point = o, y.lineStart = c, y.lineEnd = l, g = ta.merge(g);
                        var n = Fe(m, p);
                        g.length ? (b || (i.polygonStart(), b = !0), Ce(g, De, n, e, i)) : n && (b || (i.polygonStart(), b = !0), i.lineStart(), e(null, null, 1, i), i.lineEnd()), b && (i.polygonEnd(), b = !1), g = p = null
                    },
                    sphere: function() {
                        i.polygonStart(), i.lineStart(), e(null, null, 1, i), i.lineEnd(), i.polygonEnd()
                    }
                },
                M = Re(),
                x = t(M),
                b = !1;
            return y
        }
    }

    function Te(n) {
        return n.length > 1
    }

    function Re() {
        var n, t = [];
        return {
            lineStart: function() {
                t.push(n = [])
            },
            point: function(t, e) {
                n.push([t, e])
            },
            lineEnd: b,
            buffer: function() {
                var e = t;
                return t = [], n = null, e
            },
            rejoin: function() {
                t.length > 1 && t.push(t.pop().concat(t.shift()))
            }
        }
    }

    function De(n, t) {
        return ((n = n.x)[0] < 0 ? n[1] - Ra - Ca : Ra - n[1]) - ((t = t.x)[0] < 0 ? t[1] - Ra - Ca : Ra - t[1])
    }

    function Pe(n) {
        var t, e = 0 / 0,
            r = 0 / 0,
            u = 0 / 0;
        return {
            lineStart: function() {
                n.lineStart(), t = 1
            },
            point: function(i, o) {
                var a = i > 0 ? qa : -qa,
                    c = ga(i - e);
                ga(c - qa) < Ca ? (n.point(e, r = (r + o) / 2 > 0 ? Ra : -Ra), n.point(u, r), n.lineEnd(), n.lineStart(), n.point(a, r), n.point(i, r), t = 0) : u !== a && c >= qa && (ga(e - u) < Ca && (e -= u * Ca), ga(i - a) < Ca && (i -= a * Ca), r = Ue(e, r, i, o), n.point(u, r), n.lineEnd(), n.lineStart(), n.point(a, r), t = 0), n.point(e = i, r = o), u = a
            },
            lineEnd: function() {
                n.lineEnd(), e = r = 0 / 0
            },
            clean: function() {
                return 2 - t
            }
        }
    }

    function Ue(n, t, e, r) {
        var u, i, o = Math.sin(n - e);
        return ga(o) > Ca ? Math.atan((Math.sin(t) * (i = Math.cos(r)) * Math.sin(e) - Math.sin(r) * (u = Math.cos(t)) * Math.sin(n)) / (u * i * o)) : (t + r) / 2
    }

    function je(n, t, e, r) {
        var u;
        if (null == n) u = e * Ra, r.point(-qa, u), r.point(0, u), r.point(qa, u), r.point(qa, 0), r.point(qa, -u), r.point(0, -u), r.point(-qa, -u), r.point(-qa, 0), r.point(-qa, u);
        else if (ga(n[0] - t[0]) > Ca) {
            var i = n[0] < t[0] ? qa : -qa;
            u = e * i / 2, r.point(-i, u), r.point(0, u), r.point(i, u)
        } else r.point(t[0], t[1])
    }

    function Fe(n, t) {
        var e = n[0],
            r = n[1],
            u = [Math.sin(e), -Math.cos(e), 0],
            i = 0,
            o = 0;
        yc.reset();
        for (var a = 0, c = t.length; c > a; ++a) {
            var l = t[a],
                s = l.length;
            if (s)
                for (var f = l[0], h = f[0], g = f[1] / 2 + qa / 4, p = Math.sin(g), v = Math.cos(g), d = 1;;) {
                    d === s && (d = 0), n = l[d];
                    var m = n[0],
                        y = n[1] / 2 + qa / 4,
                        M = Math.sin(y),
                        x = Math.cos(y),
                        b = m - h,
                        _ = b >= 0 ? 1 : -1,
                        w = _ * b,
                        S = w > qa,
                        k = p * M;
                    if (yc.add(Math.atan2(k * _ * Math.sin(w), v * x + k * Math.cos(w))), i += S ? b + _ * La : b, S ^ h >= e ^ m >= e) {
                        var E = de(pe(f), pe(n));
                        Me(E);
                        var A = de(u, E);
                        Me(A);
                        var N = (S ^ b >= 0 ? -1 : 1) * tt(A[2]);
                        (r > N || r === N && (E[0] || E[1])) && (o += S ^ b >= 0 ? 1 : -1)
                    }
                    if (!d++) break;
                    h = m, p = M, v = x, f = n
                }
        }
        return (-Ca > i || Ca > i && 0 > yc) ^ 1 & o
    }

    function He(n) {
        function t(n, t) {
            return Math.cos(n) * Math.cos(t) > i
        }

        function e(n) {
            var e, i, c, l, s;
            return {
                lineStart: function() {
                    l = c = !1, s = 1
                },
                point: function(f, h) {
                    var g, p = [f, h],
                        v = t(f, h),
                        d = o ? v ? 0 : u(f, h) : v ? u(f + (0 > f ? qa : -qa), h) : 0;
                    if (!e && (l = c = v) && n.lineStart(), v !== c && (g = r(e, p), (be(e, g) || be(p, g)) && (p[0] += Ca, p[1] += Ca, v = t(p[0], p[1]))), v !== c) s = 0, v ? (n.lineStart(), g = r(p, e), n.point(g[0], g[1])) : (g = r(e, p), n.point(g[0], g[1]), n.lineEnd()), e = g;
                    else if (a && e && o ^ v) {
                        var m;
                        d & i || !(m = r(p, e, !0)) || (s = 0, o ? (n.lineStart(), n.point(m[0][0], m[0][1]), n.point(m[1][0], m[1][1]), n.lineEnd()) : (n.point(m[1][0], m[1][1]), n.lineEnd(), n.lineStart(), n.point(m[0][0], m[0][1])))
                    }!v || e && be(e, p) || n.point(p[0], p[1]), e = p, c = v, i = d
                },
                lineEnd: function() {
                    c && n.lineEnd(), e = null
                },
                clean: function() {
                    return s | (l && c) << 1
                }
            }
        }

        function r(n, t, e) {
            var r = pe(n),
                u = pe(t),
                o = [1, 0, 0],
                a = de(r, u),
                c = ve(a, a),
                l = a[0],
                s = c - l * l;
            if (!s) return !e && n;
            var f = i * c / s,
                h = -i * l / s,
                g = de(o, a),
                p = ye(o, f),
                v = ye(a, h);
            me(p, v);
            var d = g,
                m = ve(p, d),
                y = ve(d, d),
                M = m * m - y * (ve(p, p) - 1);
            if (!(0 > M)) {
                var x = Math.sqrt(M),
                    b = ye(d, (-m - x) / y);
                if (me(b, p), b = xe(b), !e) return b;
                var _, w = n[0],
                    S = t[0],
                    k = n[1],
                    E = t[1];
                w > S && (_ = w, w = S, S = _);
                var A = S - w,
                    N = ga(A - qa) < Ca,
                    C = N || Ca > A;
                if (!N && k > E && (_ = k, k = E, E = _), C ? N ? k + E > 0 ^ b[1] < (ga(b[0] - w) < Ca ? k : E) : k <= b[1] && b[1] <= E : A > qa ^ (w <= b[0] && b[0] <= S)) {
                    var z = ye(d, (-m + x) / y);
                    return me(z, p), [b, xe(z)]
                }
            }
        }

        function u(t, e) {
            var r = o ? n : qa - n,
                u = 0;
            return -r > t ? u |= 1 : t > r && (u |= 2), -r > e ? u |= 4 : e > r && (u |= 8), u
        }
        var i = Math.cos(n),
            o = i > 0,
            a = ga(i) > Ca,
            c = gr(n, 6 * Da);
        return Le(t, e, c, o ? [0, -n] : [-qa, n - qa])
    }

    function Oe(n, t, e, r) {
        return function(u) {
            var i, o = u.a,
                a = u.b,
                c = o.x,
                l = o.y,
                s = a.x,
                f = a.y,
                h = 0,
                g = 1,
                p = s - c,
                v = f - l;
            if (i = n - c, p || !(i > 0)) {
                if (i /= p, 0 > p) {
                    if (h > i) return;
                    g > i && (g = i)
                } else if (p > 0) {
                    if (i > g) return;
                    i > h && (h = i)
                }
                if (i = e - c, p || !(0 > i)) {
                    if (i /= p, 0 > p) {
                        if (i > g) return;
                        i > h && (h = i)
                    } else if (p > 0) {
                        if (h > i) return;
                        g > i && (g = i)
                    }
                    if (i = t - l, v || !(i > 0)) {
                        if (i /= v, 0 > v) {
                            if (h > i) return;
                            g > i && (g = i)
                        } else if (v > 0) {
                            if (i > g) return;
                            i > h && (h = i)
                        }
                        if (i = r - l, v || !(0 > i)) {
                            if (i /= v, 0 > v) {
                                if (i > g) return;
                                i > h && (h = i)
                            } else if (v > 0) {
                                if (h > i) return;
                                g > i && (g = i)
                            }
                            return h > 0 && (u.a = {
                                x: c + h * p,
                                y: l + h * v
                            }), 1 > g && (u.b = {
                                x: c + g * p,
                                y: l + g * v
                            }), u
                        }
                    }
                }
            }
        }
    }

    function Ie(n, t, e, r) {
        function u(r, u) {
            return ga(r[0] - n) < Ca ? u > 0 ? 0 : 3 : ga(r[0] - e) < Ca ? u > 0 ? 2 : 1 : ga(r[1] - t) < Ca ? u > 0 ? 1 : 0 : u > 0 ? 3 : 2
        }

        function i(n, t) {
            return o(n.x, t.x)
        }

        function o(n, t) {
            var e = u(n, 1),
                r = u(t, 1);
            return e !== r ? e - r : 0 === e ? t[1] - n[1] : 1 === e ? n[0] - t[0] : 2 === e ? n[1] - t[1] : t[0] - n[0]
        }
        return function(a) {
            function c(n) {
                for (var t = 0, e = d.length, r = n[1], u = 0; e > u; ++u)
                    for (var i, o = 1, a = d[u], c = a.length, l = a[0]; c > o; ++o) i = a[o], l[1] <= r ? i[1] > r && Q(l, i, n) > 0 && ++t : i[1] <= r && Q(l, i, n) < 0 && --t, l = i;
                return 0 !== t
            }

            function l(i, a, c, l) {
                var s = 0,
                    f = 0;
                if (null == i || (s = u(i, c)) !== (f = u(a, c)) || o(i, a) < 0 ^ c > 0) {
                    do l.point(0 === s || 3 === s ? n : e, s > 1 ? r : t); while ((s = (s + c + 4) % 4) !== f)
                } else l.point(a[0], a[1])
            }

            function s(u, i) {
                return u >= n && e >= u && i >= t && r >= i
            }

            function f(n, t) {
                s(n, t) && a.point(n, t)
            }

            function h() {
                C.point = p, d && d.push(m = []), S = !0, w = !1, b = _ = 0 / 0
            }

            function g() {
                v && (p(y, M), x && w && A.rejoin(), v.push(A.buffer())), C.point = f, w && a.lineEnd()
            }

            function p(n, t) {
                n = Math.max(-Tc, Math.min(Tc, n)), t = Math.max(-Tc, Math.min(Tc, t));
                var e = s(n, t);
                if (d && m.push([n, t]), S) y = n, M = t, x = e, S = !1, e && (a.lineStart(), a.point(n, t));
                else if (e && w) a.point(n, t);
                else {
                    var r = {
                        a: {
                            x: b,
                            y: _
                        },
                        b: {
                            x: n,
                            y: t
                        }
                    };
                    N(r) ? (w || (a.lineStart(), a.point(r.a.x, r.a.y)), a.point(r.b.x, r.b.y), e || a.lineEnd(), k = !1) : e && (a.lineStart(), a.point(n, t), k = !1)
                }
                b = n, _ = t, w = e
            }
            var v, d, m, y, M, x, b, _, w, S, k, E = a,
                A = Re(),
                N = Oe(n, t, e, r),
                C = {
                    point: f,
                    lineStart: h,
                    lineEnd: g,
                    polygonStart: function() {
                        a = A, v = [], d = [], k = !0
                    },
                    polygonEnd: function() {
                        a = E, v = ta.merge(v);
                        var t = c([n, r]),
                            e = k && t,
                            u = v.length;
                        (e || u) && (a.polygonStart(), e && (a.lineStart(), l(null, null, 1, a), a.lineEnd()), u && Ce(v, i, t, l, a), a.polygonEnd()), v = d = m = null
                    }
                };
            return C
        }
    }

    function Ye(n) {
        var t = 0,
            e = qa / 3,
            r = ir(n),
            u = r(t, e);
        return u.parallels = function(n) {
            return arguments.length ? r(t = n[0] * qa / 180, e = n[1] * qa / 180) : [t / qa * 180, e / qa * 180]
        }, u
    }

    function Ze(n, t) {
        function e(n, t) {
            var e = Math.sqrt(i - 2 * u * Math.sin(t)) / u;
            return [e * Math.sin(n *= u), o - e * Math.cos(n)]
        }
        var r = Math.sin(n),
            u = (r + Math.sin(t)) / 2,
            i = 1 + r * (2 * u - r),
            o = Math.sqrt(i) / u;
        return e.invert = function(n, t) {
            var e = o - t;
            return [Math.atan2(n, e) / u, tt((i - (n * n + e * e) * u * u) / (2 * u))]
        }, e
    }

    function Ve() {
        function n(n, t) {
            Dc += u * n - r * t, r = n, u = t
        }
        var t, e, r, u;
        Hc.point = function(i, o) {
            Hc.point = n, t = r = i, e = u = o
        }, Hc.lineEnd = function() {
            n(t, e)
        }
    }

    function Xe(n, t) {
        Pc > n && (Pc = n), n > jc && (jc = n), Uc > t && (Uc = t), t > Fc && (Fc = t)
    }

    function $e() {
        function n(n, t) {
            o.push("M", n, ",", t, i)
        }

        function t(n, t) {
            o.push("M", n, ",", t), a.point = e
        }

        function e(n, t) {
            o.push("L", n, ",", t)
        }

        function r() {
            a.point = n
        }

        function u() {
            o.push("Z")
        }
        var i = Be(4.5),
            o = [],
            a = {
                point: n,
                lineStart: function() {
                    a.point = t
                },
                lineEnd: r,
                polygonStart: function() {
                    a.lineEnd = u
                },
                polygonEnd: function() {
                    a.lineEnd = r, a.point = n
                },
                pointRadius: function(n) {
                    return i = Be(n), a
                },
                result: function() {
                    if (o.length) {
                        var n = o.join("");
                        return o = [], n
                    }
                }
            };
        return a
    }

    function Be(n) {
        return "m0," + n + "a" + n + "," + n + " 0 1,1 0," + -2 * n + "a" + n + "," + n + " 0 1,1 0," + 2 * n + "z"
    }

    function We(n, t) {
        _c += n, wc += t, ++Sc
    }

    function Je() {
        function n(n, r) {
            var u = n - t,
                i = r - e,
                o = Math.sqrt(u * u + i * i);
            kc += o * (t + n) / 2, Ec += o * (e + r) / 2, Ac += o, We(t = n, e = r)
        }
        var t, e;
        Ic.point = function(r, u) {
            Ic.point = n, We(t = r, e = u)
        }
    }

    function Ge() {
        Ic.point = We
    }

    function Ke() {
        function n(n, t) {
            var e = n - r,
                i = t - u,
                o = Math.sqrt(e * e + i * i);
            kc += o * (r + n) / 2, Ec += o * (u + t) / 2, Ac += o, o = u * n - r * t, Nc += o * (r + n), Cc += o * (u + t), zc += 3 * o, We(r = n, u = t)
        }
        var t, e, r, u;
        Ic.point = function(i, o) {
            Ic.point = n, We(t = r = i, e = u = o)
        }, Ic.lineEnd = function() {
            n(t, e)
        }
    }

    function Qe(n) {
        function t(t, e) {
            n.moveTo(t + o, e), n.arc(t, e, o, 0, La)
        }

        function e(t, e) {
            n.moveTo(t, e), a.point = r
        }

        function r(t, e) {
            n.lineTo(t, e)
        }

        function u() {
            a.point = t
        }

        function i() {
            n.closePath()
        }
        var o = 4.5,
            a = {
                point: t,
                lineStart: function() {
                    a.point = e
                },
                lineEnd: u,
                polygonStart: function() {
                    a.lineEnd = i
                },
                polygonEnd: function() {
                    a.lineEnd = u, a.point = t
                },
                pointRadius: function(n) {
                    return o = n, a
                },
                result: b
            };
        return a
    }

    function nr(n) {
        function t(n) {
            return (a ? r : e)(n)
        }

        function e(t) {
            return rr(t, function(e, r) {
                e = n(e, r), t.point(e[0], e[1])
            })
        }

        function r(t) {
            function e(e, r) {
                e = n(e, r), t.point(e[0], e[1])
            }

            function r() {
                M = 0 / 0, S.point = i, t.lineStart()
            }

            function i(e, r) {
                var i = pe([e, r]),
                    o = n(e, r);
                u(M, x, y, b, _, w, M = o[0], x = o[1], y = e, b = i[0], _ = i[1], w = i[2], a, t), t.point(M, x)
            }

            function o() {
                S.point = e, t.lineEnd()
            }

            function c() {
                r(), S.point = l, S.lineEnd = s
            }

            function l(n, t) {
                i(f = n, h = t), g = M, p = x, v = b, d = _, m = w, S.point = i
            }

            function s() {
                u(M, x, y, b, _, w, g, p, f, v, d, m, a, t), S.lineEnd = o, o()
            }
            var f, h, g, p, v, d, m, y, M, x, b, _, w, S = {
                point: e,
                lineStart: r,
                lineEnd: o,
                polygonStart: function() {
                    t.polygonStart(), S.lineStart = c
                },
                polygonEnd: function() {
                    t.polygonEnd(), S.lineStart = r
                }
            };
            return S
        }

        function u(t, e, r, a, c, l, s, f, h, g, p, v, d, m) {
            var y = s - t,
                M = f - e,
                x = y * y + M * M;
            if (x > 4 * i && d--) {
                var b = a + g,
                    _ = c + p,
                    w = l + v,
                    S = Math.sqrt(b * b + _ * _ + w * w),
                    k = Math.asin(w /= S),
                    E = ga(ga(w) - 1) < Ca || ga(r - h) < Ca ? (r + h) / 2 : Math.atan2(_, b),
                    A = n(E, k),
                    N = A[0],
                    C = A[1],
                    z = N - t,
                    q = C - e,
                    L = M * z - y * q;
                (L * L / x > i || ga((y * z + M * q) / x - .5) > .3 || o > a * g + c * p + l * v) && (u(t, e, r, a, c, l, N, C, E, b /= S, _ /= S, w, d, m), m.point(N, C), u(N, C, E, b, _, w, s, f, h, g, p, v, d, m))
            }
        }
        var i = .5,
            o = Math.cos(30 * Da),
            a = 16;
        return t.precision = function(n) {
            return arguments.length ? (a = (i = n * n) > 0 && 16, t) : Math.sqrt(i)
        }, t
    }

    function tr(n) {
        var t = nr(function(t, e) {
            return n([t * Pa, e * Pa])
        });
        return function(n) {
            return or(t(n))
        }
    }

    function er(n) {
        this.stream = n
    }

    function rr(n, t) {
        return {
            point: t,
            sphere: function() {
                n.sphere()
            },
            lineStart: function() {
                n.lineStart()
            },
            lineEnd: function() {
                n.lineEnd()
            },
            polygonStart: function() {
                n.polygonStart()
            },
            polygonEnd: function() {
                n.polygonEnd()
            }
        }
    }

    function ur(n) {
        return ir(function() {
            return n
        })()
    }

    function ir(n) {
        function t(n) {
            return n = a(n[0] * Da, n[1] * Da), [n[0] * h + c, l - n[1] * h]
        }

        function e(n) {
            return n = a.invert((n[0] - c) / h, (l - n[1]) / h), n && [n[0] * Pa, n[1] * Pa]
        }

        function r() {
            a = Ae(o = lr(m, M, x), i);
            var n = i(v, d);
            return c = g - n[0] * h, l = p + n[1] * h, u()
        }

        function u() {
            return s && (s.valid = !1, s = null), t
        }
        var i, o, a, c, l, s, f = nr(function(n, t) {
                return n = i(n, t), [n[0] * h + c, l - n[1] * h]
            }),
            h = 150,
            g = 480,
            p = 250,
            v = 0,
            d = 0,
            m = 0,
            M = 0,
            x = 0,
            b = Lc,
            _ = y,
            w = null,
            S = null;
        return t.stream = function(n) {
                return s && (s.valid = !1), s = or(b(o, f(_(n)))), s.valid = !0, s
            }, t.clipAngle = function(n) {
                return arguments.length ? (b = null == n ? (w = n, Lc) : He((w = +n) * Da), u()) : w
            }, t.clipExtent = function(n) {
                return arguments.length ? (S = n, _ = n ? Ie(n[0][0], n[0][1], n[1][0], n[1][1]) : y, u()) : S
            }, t.scale = function(n) {
                return arguments.length ? (h = +n, r()) : h
            }, t.translate = function(n) {
                return arguments.length ? (g = +n[0], p = +n[1], r()) : [g, p]
            }, t.center = function(n) {
                return arguments.length ? (v = n[0] % 360 * Da, d = n[1] % 360 * Da, r()) : [v * Pa, d * Pa]
            }, t.rotate = function(n) {
                return arguments.length ? (m = n[0] % 360 * Da, M = n[1] % 360 * Da, x = n.length > 2 ? n[2] % 360 * Da : 0, r()) : [m * Pa, M * Pa, x * Pa]
            }, ta.rebind(t, f, "precision"),
            function() {
                return i = n.apply(this, arguments), t.invert = i.invert && e, r()
            }
    }

    function or(n) {
        return rr(n, function(t, e) {
            n.point(t * Da, e * Da)
        })
    }

    function ar(n, t) {
        return [n, t]
    }

    function cr(n, t) {
        return [n > qa ? n - La : -qa > n ? n + La : n, t]
    }

    function lr(n, t, e) {
        return n ? t || e ? Ae(fr(n), hr(t, e)) : fr(n) : t || e ? hr(t, e) : cr
    }

    function sr(n) {
        return function(t, e) {
            return t += n, [t > qa ? t - La : -qa > t ? t + La : t, e]
        }
    }

    function fr(n) {
        var t = sr(n);
        return t.invert = sr(-n), t
    }

    function hr(n, t) {
        function e(n, t) {
            var e = Math.cos(t),
                a = Math.cos(n) * e,
                c = Math.sin(n) * e,
                l = Math.sin(t),
                s = l * r + a * u;
            return [Math.atan2(c * i - s * o, a * r - l * u), tt(s * i + c * o)]
        }
        var r = Math.cos(n),
            u = Math.sin(n),
            i = Math.cos(t),
            o = Math.sin(t);
        return e.invert = function(n, t) {
            var e = Math.cos(t),
                a = Math.cos(n) * e,
                c = Math.sin(n) * e,
                l = Math.sin(t),
                s = l * i - c * o;
            return [Math.atan2(c * i + l * o, a * r + s * u), tt(s * r - a * u)]
        }, e
    }

    function gr(n, t) {
        var e = Math.cos(n),
            r = Math.sin(n);
        return function(u, i, o, a) {
            var c = o * t;
            null != u ? (u = pr(e, u), i = pr(e, i), (o > 0 ? i > u : u > i) && (u += o * La)) : (u = n + o * La, i = n - .5 * c);
            for (var l, s = u; o > 0 ? s > i : i > s; s -= c) a.point((l = xe([e, -r * Math.cos(s), -r * Math.sin(s)]))[0], l[1])
        }
    }

    function pr(n, t) {
        var e = pe(t);
        e[0] -= n, Me(e);
        var r = nt(-e[1]);
        return ((-e[2] < 0 ? -r : r) + 2 * Math.PI - Ca) % (2 * Math.PI)
    }

    function vr(n, t, e) {
        var r = ta.range(n, t - Ca, e).concat(t);
        return function(n) {
            return r.map(function(t) {
                return [n, t]
            })
        }
    }

    function dr(n, t, e) {
        var r = ta.range(n, t - Ca, e).concat(t);
        return function(n) {
            return r.map(function(t) {
                return [t, n]
            })
        }
    }

    function mr(n) {
        return n.source
    }

    function yr(n) {
        return n.target
    }

    function Mr(n, t, e, r) {
        var u = Math.cos(t),
            i = Math.sin(t),
            o = Math.cos(r),
            a = Math.sin(r),
            c = u * Math.cos(n),
            l = u * Math.sin(n),
            s = o * Math.cos(e),
            f = o * Math.sin(e),
            h = 2 * Math.asin(Math.sqrt(it(r - t) + u * o * it(e - n))),
            g = 1 / Math.sin(h),
            p = h ? function(n) {
                var t = Math.sin(n *= h) * g,
                    e = Math.sin(h - n) * g,
                    r = e * c + t * s,
                    u = e * l + t * f,
                    o = e * i + t * a;
                return [Math.atan2(u, r) * Pa, Math.atan2(o, Math.sqrt(r * r + u * u)) * Pa]
            } : function() {
                return [n * Pa, t * Pa]
            };
        return p.distance = h, p
    }

    function xr() {
        function n(n, u) {
            var i = Math.sin(u *= Da),
                o = Math.cos(u),
                a = ga((n *= Da) - t),
                c = Math.cos(a);
            Yc += Math.atan2(Math.sqrt((a = o * Math.sin(a)) * a + (a = r * i - e * o * c) * a), e * i + r * o * c), t = n, e = i, r = o
        }
        var t, e, r;
        Zc.point = function(u, i) {
            t = u * Da, e = Math.sin(i *= Da), r = Math.cos(i), Zc.point = n
        }, Zc.lineEnd = function() {
            Zc.point = Zc.lineEnd = b
        }
    }

    function br(n, t) {
        function e(t, e) {
            var r = Math.cos(t),
                u = Math.cos(e),
                i = n(r * u);
            return [i * u * Math.sin(t), i * Math.sin(e)]
        }
        return e.invert = function(n, e) {
            var r = Math.sqrt(n * n + e * e),
                u = t(r),
                i = Math.sin(u),
                o = Math.cos(u);
            return [Math.atan2(n * i, r * o), Math.asin(r && e * i / r)]
        }, e
    }

    function _r(n, t) {
        function e(n, t) {
            o > 0 ? -Ra + Ca > t && (t = -Ra + Ca) : t > Ra - Ca && (t = Ra - Ca);
            var e = o / Math.pow(u(t), i);
            return [e * Math.sin(i * n), o - e * Math.cos(i * n)]
        }
        var r = Math.cos(n),
            u = function(n) {
                return Math.tan(qa / 4 + n / 2)
            },
            i = n === t ? Math.sin(n) : Math.log(r / Math.cos(t)) / Math.log(u(t) / u(n)),
            o = r * Math.pow(u(n), i) / i;
        return i ? (e.invert = function(n, t) {
            var e = o - t,
                r = K(i) * Math.sqrt(n * n + e * e);
            return [Math.atan2(n, e) / i, 2 * Math.atan(Math.pow(o / r, 1 / i)) - Ra]
        }, e) : Sr
    }

    function wr(n, t) {
        function e(n, t) {
            var e = i - t;
            return [e * Math.sin(u * n), i - e * Math.cos(u * n)]
        }
        var r = Math.cos(n),
            u = n === t ? Math.sin(n) : (r - Math.cos(t)) / (t - n),
            i = r / u + n;
        return ga(u) < Ca ? ar : (e.invert = function(n, t) {
            var e = i - t;
            return [Math.atan2(n, e) / u, i - K(u) * Math.sqrt(n * n + e * e)]
        }, e)
    }

    function Sr(n, t) {
        return [n, Math.log(Math.tan(qa / 4 + t / 2))]
    }

    function kr(n) {
        var t, e = ur(n),
            r = e.scale,
            u = e.translate,
            i = e.clipExtent;
        return e.scale = function() {
            var n = r.apply(e, arguments);
            return n === e ? t ? e.clipExtent(null) : e : n
        }, e.translate = function() {
            var n = u.apply(e, arguments);
            return n === e ? t ? e.clipExtent(null) : e : n
        }, e.clipExtent = function(n) {
            var o = i.apply(e, arguments);
            if (o === e) {
                if (t = null == n) {
                    var a = qa * r(),
                        c = u();
                    i([
                        [c[0] - a, c[1] - a],
                        [c[0] + a, c[1] + a]
                    ])
                }
            } else t && (o = null);
            return o
        }, e.clipExtent(null)
    }

    function Er(n, t) {
        return [Math.log(Math.tan(qa / 4 + t / 2)), -n]
    }

    function Ar(n) {
        return n[0]
    }

    function Nr(n) {
        return n[1]
    }

    function Cr(n) {
        for (var t = n.length, e = [0, 1], r = 2, u = 2; t > u; u++) {
            for (; r > 1 && Q(n[e[r - 2]], n[e[r - 1]], n[u]) <= 0;) --r;
            e[r++] = u
        }
        return e.slice(0, r)
    }

    function zr(n, t) {
        return n[0] - t[0] || n[1] - t[1]
    }

    function qr(n, t, e) {
        return (e[0] - t[0]) * (n[1] - t[1]) < (e[1] - t[1]) * (n[0] - t[0])
    }

    function Lr(n, t, e, r) {
        var u = n[0],
            i = e[0],
            o = t[0] - u,
            a = r[0] - i,
            c = n[1],
            l = e[1],
            s = t[1] - c,
            f = r[1] - l,
            h = (a * (c - l) - f * (u - i)) / (f * o - a * s);
        return [u + h * o, c + h * s]
    }

    function Tr(n) {
        var t = n[0],
            e = n[n.length - 1];
        return !(t[0] - e[0] || t[1] - e[1])
    }

    function Rr() {
        tu(this), this.edge = this.site = this.circle = null
    }

    function Dr(n) {
        var t = el.pop() || new Rr;
        return t.site = n, t
    }

    function Pr(n) {
        Xr(n), Qc.remove(n), el.push(n), tu(n)
    }

    function Ur(n) {
        var t = n.circle,
            e = t.x,
            r = t.cy,
            u = {
                x: e,
                y: r
            },
            i = n.P,
            o = n.N,
            a = [n];
        Pr(n);
        for (var c = i; c.circle && ga(e - c.circle.x) < Ca && ga(r - c.circle.cy) < Ca;) i = c.P, a.unshift(c), Pr(c), c = i;
        a.unshift(c), Xr(c);
        for (var l = o; l.circle && ga(e - l.circle.x) < Ca && ga(r - l.circle.cy) < Ca;) o = l.N, a.push(l), Pr(l), l = o;
        a.push(l), Xr(l);
        var s, f = a.length;
        for (s = 1; f > s; ++s) l = a[s], c = a[s - 1], Kr(l.edge, c.site, l.site, u);
        c = a[0], l = a[f - 1], l.edge = Jr(c.site, l.site, null, u), Vr(c), Vr(l)
    }

    function jr(n) {
        for (var t, e, r, u, i = n.x, o = n.y, a = Qc._; a;)
            if (r = Fr(a, o) - i, r > Ca) a = a.L;
            else {
                if (u = i - Hr(a, o), !(u > Ca)) {
                    r > -Ca ? (t = a.P, e = a) : u > -Ca ? (t = a, e = a.N) : t = e = a;
                    break
                }
                if (!a.R) {
                    t = a;
                    break
                }
                a = a.R
            }
        var c = Dr(n);
        if (Qc.insert(t, c), t || e) {
            if (t === e) return Xr(t), e = Dr(t.site), Qc.insert(c, e), c.edge = e.edge = Jr(t.site, c.site), Vr(t), void Vr(e);
            if (!e) return void(c.edge = Jr(t.site, c.site));
            Xr(t), Xr(e);
            var l = t.site,
                s = l.x,
                f = l.y,
                h = n.x - s,
                g = n.y - f,
                p = e.site,
                v = p.x - s,
                d = p.y - f,
                m = 2 * (h * d - g * v),
                y = h * h + g * g,
                M = v * v + d * d,
                x = {
                    x: (d * y - g * M) / m + s,
                    y: (h * M - v * y) / m + f
                };
            Kr(e.edge, l, p, x), c.edge = Jr(l, n, null, x), e.edge = Jr(n, p, null, x), Vr(t), Vr(e)
        }
    }

    function Fr(n, t) {
        var e = n.site,
            r = e.x,
            u = e.y,
            i = u - t;
        if (!i) return r;
        var o = n.P;
        if (!o) return -1 / 0;
        e = o.site;
        var a = e.x,
            c = e.y,
            l = c - t;
        if (!l) return a;
        var s = a - r,
            f = 1 / i - 1 / l,
            h = s / l;
        return f ? (-h + Math.sqrt(h * h - 2 * f * (s * s / (-2 * l) - c + l / 2 + u - i / 2))) / f + r : (r + a) / 2
    }

    function Hr(n, t) {
        var e = n.N;
        if (e) return Fr(e, t);
        var r = n.site;
        return r.y === t ? r.x : 1 / 0
    }

    function Or(n) {
        this.site = n, this.edges = []
    }

    function Ir(n) {
        for (var t, e, r, u, i, o, a, c, l, s, f = n[0][0], h = n[1][0], g = n[0][1], p = n[1][1], v = Kc, d = v.length; d--;)
            if (i = v[d], i && i.prepare())
                for (a = i.edges, c = a.length, o = 0; c > o;) s = a[o].end(), r = s.x, u = s.y, l = a[++o % c].start(), t = l.x, e = l.y, (ga(r - t) > Ca || ga(u - e) > Ca) && (a.splice(o, 0, new Qr(Gr(i.site, s, ga(r - f) < Ca && p - u > Ca ? {
                    x: f,
                    y: ga(t - f) < Ca ? e : p
                } : ga(u - p) < Ca && h - r > Ca ? {
                    x: ga(e - p) < Ca ? t : h,
                    y: p
                } : ga(r - h) < Ca && u - g > Ca ? {
                    x: h,
                    y: ga(t - h) < Ca ? e : g
                } : ga(u - g) < Ca && r - f > Ca ? {
                    x: ga(e - g) < Ca ? t : f,
                    y: g
                } : null), i.site, null)), ++c)
    }

    function Yr(n, t) {
        return t.angle - n.angle
    }

    function Zr() {
        tu(this), this.x = this.y = this.arc = this.site = this.cy = null
    }

    function Vr(n) {
        var t = n.P,
            e = n.N;
        if (t && e) {
            var r = t.site,
                u = n.site,
                i = e.site;
            if (r !== i) {
                var o = u.x,
                    a = u.y,
                    c = r.x - o,
                    l = r.y - a,
                    s = i.x - o,
                    f = i.y - a,
                    h = 2 * (c * f - l * s);
                if (!(h >= -za)) {
                    var g = c * c + l * l,
                        p = s * s + f * f,
                        v = (f * g - l * p) / h,
                        d = (c * p - s * g) / h,
                        f = d + a,
                        m = rl.pop() || new Zr;
                    m.arc = n, m.site = u, m.x = v + o, m.y = f + Math.sqrt(v * v + d * d), m.cy = f, n.circle = m;
                    for (var y = null, M = tl._; M;)
                        if (m.y < M.y || m.y === M.y && m.x <= M.x) {
                            if (!M.L) {
                                y = M.P;
                                break
                            }
                            M = M.L
                        } else {
                            if (!M.R) {
                                y = M;
                                break
                            }
                            M = M.R
                        }
                    tl.insert(y, m), y || (nl = m)
                }
            }
        }
    }

    function Xr(n) {
        var t = n.circle;
        t && (t.P || (nl = t.N), tl.remove(t), rl.push(t), tu(t), n.circle = null)
    }

    function $r(n) {
        for (var t, e = Gc, r = Oe(n[0][0], n[0][1], n[1][0], n[1][1]), u = e.length; u--;) t = e[u], (!Br(t, n) || !r(t) || ga(t.a.x - t.b.x) < Ca && ga(t.a.y - t.b.y) < Ca) && (t.a = t.b = null, e.splice(u, 1))
    }

    function Br(n, t) {
        var e = n.b;
        if (e) return !0;
        var r, u, i = n.a,
            o = t[0][0],
            a = t[1][0],
            c = t[0][1],
            l = t[1][1],
            s = n.l,
            f = n.r,
            h = s.x,
            g = s.y,
            p = f.x,
            v = f.y,
            d = (h + p) / 2,
            m = (g + v) / 2;
        if (v === g) {
            if (o > d || d >= a) return;
            if (h > p) {
                if (i) {
                    if (i.y >= l) return
                } else i = {
                    x: d,
                    y: c
                };
                e = {
                    x: d,
                    y: l
                }
            } else {
                if (i) {
                    if (i.y < c) return
                } else i = {
                    x: d,
                    y: l
                };
                e = {
                    x: d,
                    y: c
                }
            }
        } else if (r = (h - p) / (v - g), u = m - r * d, -1 > r || r > 1)
            if (h > p) {
                if (i) {
                    if (i.y >= l) return
                } else i = {
                    x: (c - u) / r,
                    y: c
                };
                e = {
                    x: (l - u) / r,
                    y: l
                }
            } else {
                if (i) {
                    if (i.y < c) return
                } else i = {
                    x: (l - u) / r,
                    y: l
                };
                e = {
                    x: (c - u) / r,
                    y: c
                }
            }
        else if (v > g) {
            if (i) {
                if (i.x >= a) return
            } else i = {
                x: o,
                y: r * o + u
            };
            e = {
                x: a,
                y: r * a + u
            }
        } else {
            if (i) {
                if (i.x < o) return
            } else i = {
                x: a,
                y: r * a + u
            };
            e = {
                x: o,
                y: r * o + u
            }
        }
        return n.a = i, n.b = e, !0
    }

    function Wr(n, t) {
        this.l = n, this.r = t, this.a = this.b = null
    }

    function Jr(n, t, e, r) {
        var u = new Wr(n, t);
        return Gc.push(u), e && Kr(u, n, t, e), r && Kr(u, t, n, r), Kc[n.i].edges.push(new Qr(u, n, t)), Kc[t.i].edges.push(new Qr(u, t, n)), u
    }

    function Gr(n, t, e) {
        var r = new Wr(n, null);
        return r.a = t, r.b = e, Gc.push(r), r
    }

    function Kr(n, t, e, r) {
        n.a || n.b ? n.l === e ? n.b = r : n.a = r : (n.a = r, n.l = t, n.r = e)
    }

    function Qr(n, t, e) {
        var r = n.a,
            u = n.b;
        this.edge = n, this.site = t, this.angle = e ? Math.atan2(e.y - t.y, e.x - t.x) : n.l === t ? Math.atan2(u.x - r.x, r.y - u.y) : Math.atan2(r.x - u.x, u.y - r.y)
    }

    function nu() {
        this._ = null
    }

    function tu(n) {
        n.U = n.C = n.L = n.R = n.P = n.N = null
    }

    function eu(n, t) {
        var e = t,
            r = t.R,
            u = e.U;
        u ? u.L === e ? u.L = r : u.R = r : n._ = r, r.U = u, e.U = r, e.R = r.L, e.R && (e.R.U = e), r.L = e
    }

    function ru(n, t) {
        var e = t,
            r = t.L,
            u = e.U;
        u ? u.L === e ? u.L = r : u.R = r : n._ = r, r.U = u, e.U = r, e.L = r.R, e.L && (e.L.U = e), r.R = e
    }

    function uu(n) {
        for (; n.L;) n = n.L;
        return n
    }

    function iu(n, t) {
        var e, r, u, i = n.sort(ou).pop();
        for (Gc = [], Kc = new Array(n.length), Qc = new nu, tl = new nu;;)
            if (u = nl, i && (!u || i.y < u.y || i.y === u.y && i.x < u.x))(i.x !== e || i.y !== r) && (Kc[i.i] = new Or(i), jr(i), e = i.x, r = i.y), i = n.pop();
            else {
                if (!u) break;
                Ur(u.arc)
            }
        t && ($r(t), Ir(t));
        var o = {
            cells: Kc,
            edges: Gc
        };
        return Qc = tl = Gc = Kc = null, o
    }

    function ou(n, t) {
        return t.y - n.y || t.x - n.x
    }

    function au(n, t, e) {
        return (n.x - e.x) * (t.y - n.y) - (n.x - t.x) * (e.y - n.y)
    }

    function cu(n) {
        return n.x
    }

    function lu(n) {
        return n.y
    }

    function su() {
        return {
            leaf: !0,
            nodes: [],
            point: null,
            x: null,
            y: null
        }
    }

    function fu(n, t, e, r, u, i) {
        if (!n(t, e, r, u, i)) {
            var o = .5 * (e + u),
                a = .5 * (r + i),
                c = t.nodes;
            c[0] && fu(n, c[0], e, r, o, a), c[1] && fu(n, c[1], o, r, u, a), c[2] && fu(n, c[2], e, a, o, i), c[3] && fu(n, c[3], o, a, u, i)
        }
    }

    function hu(n, t, e, r, u, i, o) {
        var a, c = 1 / 0;
        return function l(n, s, f, h, g) {
            if (!(s > i || f > o || r > h || u > g)) {
                if (p = n.point) {
                    var p, v = t - n.x,
                        d = e - n.y,
                        m = v * v + d * d;
                    if (c > m) {
                        var y = Math.sqrt(c = m);
                        r = t - y, u = e - y, i = t + y, o = e + y, a = p
                    }
                }
                for (var M = n.nodes, x = .5 * (s + h), b = .5 * (f + g), _ = t >= x, w = e >= b, S = w << 1 | _, k = S + 4; k > S; ++S)
                    if (n = M[3 & S]) switch (3 & S) {
                        case 0:
                            l(n, s, f, x, b);
                            break;
                        case 1:
                            l(n, x, f, h, b);
                            break;
                        case 2:
                            l(n, s, b, x, g);
                            break;
                        case 3:
                            l(n, x, b, h, g)
                    }
            }
        }(n, r, u, i, o), a
    }

    function gu(n, t) {
        n = ta.rgb(n), t = ta.rgb(t);
        var e = n.r,
            r = n.g,
            u = n.b,
            i = t.r - e,
            o = t.g - r,
            a = t.b - u;
        return function(n) {
            return "#" + xt(Math.round(e + i * n)) + xt(Math.round(r + o * n)) + xt(Math.round(u + a * n))
        }
    }

    function pu(n, t) {
        var e, r = {},
            u = {};
        for (e in n) e in t ? r[e] = mu(n[e], t[e]) : u[e] = n[e];
        for (e in t) e in n || (u[e] = t[e]);
        return function(n) {
            for (e in r) u[e] = r[e](n);
            return u
        }
    }

    function vu(n, t) {
        return n = +n, t = +t,
            function(e) {
                return n * (1 - e) + t * e
            }
    }

    function du(n, t) {
        var e, r, u, i = il.lastIndex = ol.lastIndex = 0,
            o = -1,
            a = [],
            c = [];
        for (n += "", t += "";
            (e = il.exec(n)) && (r = ol.exec(t));)(u = r.index) > i && (u = t.slice(i, u), a[o] ? a[o] += u : a[++o] = u), (e = e[0]) === (r = r[0]) ? a[o] ? a[o] += r : a[++o] = r : (a[++o] = null, c.push({
            i: o,
            x: vu(e, r)
        })), i = ol.lastIndex;
        return i < t.length && (u = t.slice(i), a[o] ? a[o] += u : a[++o] = u), a.length < 2 ? c[0] ? (t = c[0].x, function(n) {
            return t(n) + ""
        }) : function() {
            return t
        } : (t = c.length, function(n) {
            for (var e, r = 0; t > r; ++r) a[(e = c[r]).i] = e.x(n);
            return a.join("")
        })
    }

    function mu(n, t) {
        for (var e, r = ta.interpolators.length; --r >= 0 && !(e = ta.interpolators[r](n, t)););
        return e
    }

    function yu(n, t) {
        var e, r = [],
            u = [],
            i = n.length,
            o = t.length,
            a = Math.min(n.length, t.length);
        for (e = 0; a > e; ++e) r.push(mu(n[e], t[e]));
        for (; i > e; ++e) u[e] = n[e];
        for (; o > e; ++e) u[e] = t[e];
        return function(n) {
            for (e = 0; a > e; ++e) u[e] = r[e](n);
            return u
        }
    }

    function Mu(n) {
        return function(t) {
            return 0 >= t ? 0 : t >= 1 ? 1 : n(t)
        }
    }

    function xu(n) {
        return function(t) {
            return 1 - n(1 - t)
        }
    }

    function bu(n) {
        return function(t) {
            return .5 * (.5 > t ? n(2 * t) : 2 - n(2 - 2 * t))
        }
    }

    function _u(n) {
        return n * n
    }

    function wu(n) {
        return n * n * n
    }

    function Su(n) {
        if (0 >= n) return 0;
        if (n >= 1) return 1;
        var t = n * n,
            e = t * n;
        return 4 * (.5 > n ? e : 3 * (n - t) + e - .75)
    }

    function ku(n) {
        return function(t) {
            return Math.pow(t, n)
        }
    }

    function Eu(n) {
        return 1 - Math.cos(n * Ra)
    }

    function Au(n) {
        return Math.pow(2, 10 * (n - 1))
    }

    function Nu(n) {
        return 1 - Math.sqrt(1 - n * n)
    }

    function Cu(n, t) {
        var e;
        return arguments.length < 2 && (t = .45), arguments.length ? e = t / La * Math.asin(1 / n) : (n = 1, e = t / 4),
            function(r) {
                return 1 + n * Math.pow(2, -10 * r) * Math.sin((r - e) * La / t)
            }
    }

    function zu(n) {
        return n || (n = 1.70158),
            function(t) {
                return t * t * ((n + 1) * t - n)
            }
    }

    function qu(n) {
        return 1 / 2.75 > n ? 7.5625 * n * n : 2 / 2.75 > n ? 7.5625 * (n -= 1.5 / 2.75) * n + .75 : 2.5 / 2.75 > n ? 7.5625 * (n -= 2.25 / 2.75) * n + .9375 : 7.5625 * (n -= 2.625 / 2.75) * n + .984375
    }

    function Lu(n, t) {
        n = ta.hcl(n), t = ta.hcl(t);
        var e = n.h,
            r = n.c,
            u = n.l,
            i = t.h - e,
            o = t.c - r,
            a = t.l - u;
        return isNaN(o) && (o = 0, r = isNaN(r) ? t.c : r), isNaN(i) ? (i = 0, e = isNaN(e) ? t.h : e) : i > 180 ? i -= 360 : -180 > i && (i += 360),
            function(n) {
                return st(e + i * n, r + o * n, u + a * n) + ""
            }
    }

    function Tu(n, t) {
        n = ta.hsl(n), t = ta.hsl(t);
        var e = n.h,
            r = n.s,
            u = n.l,
            i = t.h - e,
            o = t.s - r,
            a = t.l - u;
        return isNaN(o) && (o = 0, r = isNaN(r) ? t.s : r), isNaN(i) ? (i = 0, e = isNaN(e) ? t.h : e) : i > 180 ? i -= 360 : -180 > i && (i += 360),
            function(n) {
                return ct(e + i * n, r + o * n, u + a * n) + ""
            }
    }

    function Ru(n, t) {
        n = ta.lab(n), t = ta.lab(t);
        var e = n.l,
            r = n.a,
            u = n.b,
            i = t.l - e,
            o = t.a - r,
            a = t.b - u;
        return function(n) {
            return ht(e + i * n, r + o * n, u + a * n) + ""
        }
    }

    function Du(n, t) {
        return t -= n,
            function(e) {
                return Math.round(n + t * e)
            }
    }

    function Pu(n) {
        var t = [n.a, n.b],
            e = [n.c, n.d],
            r = ju(t),
            u = Uu(t, e),
            i = ju(Fu(e, t, -u)) || 0;
        t[0] * e[1] < e[0] * t[1] && (t[0] *= -1, t[1] *= -1, r *= -1, u *= -1), this.rotate = (r ? Math.atan2(t[1], t[0]) : Math.atan2(-e[0], e[1])) * Pa, this.translate = [n.e, n.f], this.scale = [r, i], this.skew = i ? Math.atan2(u, i) * Pa : 0
    }

    function Uu(n, t) {
        return n[0] * t[0] + n[1] * t[1]
    }

    function ju(n) {
        var t = Math.sqrt(Uu(n, n));
        return t && (n[0] /= t, n[1] /= t), t
    }

    function Fu(n, t, e) {
        return n[0] += e * t[0], n[1] += e * t[1], n
    }

    function Hu(n, t) {
        var e, r = [],
            u = [],
            i = ta.transform(n),
            o = ta.transform(t),
            a = i.translate,
            c = o.translate,
            l = i.rotate,
            s = o.rotate,
            f = i.skew,
            h = o.skew,
            g = i.scale,
            p = o.scale;
        return a[0] != c[0] || a[1] != c[1] ? (r.push("translate(", null, ",", null, ")"), u.push({
                i: 1,
                x: vu(a[0], c[0])
            }, {
                i: 3,
                x: vu(a[1], c[1])
            })) : r.push(c[0] || c[1] ? "translate(" + c + ")" : ""), l != s ? (l - s > 180 ? s += 360 : s - l > 180 && (l += 360), u.push({
                i: r.push(r.pop() + "rotate(", null, ")") - 2,
                x: vu(l, s)
            })) : s && r.push(r.pop() + "rotate(" + s + ")"), f != h ? u.push({
                i: r.push(r.pop() + "skewX(", null, ")") - 2,
                x: vu(f, h)
            }) : h && r.push(r.pop() + "skewX(" + h + ")"), g[0] != p[0] || g[1] != p[1] ? (e = r.push(r.pop() + "scale(", null, ",", null, ")"), u.push({
                i: e - 4,
                x: vu(g[0], p[0])
            }, {
                i: e - 2,
                x: vu(g[1], p[1])
            })) : (1 != p[0] || 1 != p[1]) && r.push(r.pop() + "scale(" + p + ")"), e = u.length,
            function(n) {
                for (var t, i = -1; ++i < e;) r[(t = u[i]).i] = t.x(n);
                return r.join("")
            }
    }

    function Ou(n, t) {
        return t = (t -= n = +n) || 1 / t,
            function(e) {
                return (e - n) / t
            }
    }

    function Iu(n, t) {
        return t = (t -= n = +n) || 1 / t,
            function(e) {
                return Math.max(0, Math.min(1, (e - n) / t))
            }
    }

    function Yu(n) {
        for (var t = n.source, e = n.target, r = Vu(t, e), u = [t]; t !== r;) t = t.parent, u.push(t);
        for (var i = u.length; e !== r;) u.splice(i, 0, e), e = e.parent;
        return u
    }

    function Zu(n) {
        for (var t = [], e = n.parent; null != e;) t.push(n), n = e, e = e.parent;
        return t.push(n), t
    }

    function Vu(n, t) {
        if (n === t) return n;
        for (var e = Zu(n), r = Zu(t), u = e.pop(), i = r.pop(), o = null; u === i;) o = u, u = e.pop(), i = r.pop();
        return o
    }

    function Xu(n) {
        n.fixed |= 2
    }

    function $u(n) {
        n.fixed &= -7
    }

    function Bu(n) {
        n.fixed |= 4, n.px = n.x, n.py = n.y
    }

    function Wu(n) {
        n.fixed &= -5
    }

    function Ju(n, t, e) {
        var r = 0,
            u = 0;
        if (n.charge = 0, !n.leaf)
            for (var i, o = n.nodes, a = o.length, c = -1; ++c < a;) i = o[c], null != i && (Ju(i, t, e), n.charge += i.charge, r += i.charge * i.cx, u += i.charge * i.cy);
        if (n.point) {
            n.leaf || (n.point.x += Math.random() - .5, n.point.y += Math.random() - .5);
            var l = t * e[n.point.index];
            n.charge += n.pointCharge = l, r += l * n.point.x, u += l * n.point.y
        }
        n.cx = r / n.charge, n.cy = u / n.charge
    }

    function Gu(n, t) {
        return ta.rebind(n, t, "sort", "children", "value"), n.nodes = n, n.links = ri, n
    }

    function Ku(n, t) {
        for (var e = [n]; null != (n = e.pop());)
            if (t(n), (u = n.children) && (r = u.length))
                for (var r, u; --r >= 0;) e.push(u[r])
    }

    function Qu(n, t) {
        for (var e = [n], r = []; null != (n = e.pop());)
            if (r.push(n), (i = n.children) && (u = i.length))
                for (var u, i, o = -1; ++o < u;) e.push(i[o]);
        for (; null != (n = r.pop());) t(n)
    }

    function ni(n) {
        return n.children
    }

    function ti(n) {
        return n.value
    }

    function ei(n, t) {
        return t.value - n.value
    }

    function ri(n) {
        return ta.merge(n.map(function(n) {
            return (n.children || []).map(function(t) {
                return {
                    source: n,
                    target: t
                }
            })
        }))
    }

    function ui(n) {
        return n.x
    }

    function ii(n) {
        return n.y
    }

    function oi(n, t, e) {
        n.y0 = t, n.y = e
    }

    function ai(n) {
        return ta.range(n.length)
    }

    function ci(n) {
        for (var t = -1, e = n[0].length, r = []; ++t < e;) r[t] = 0;
        return r
    }

    function li(n) {
        for (var t, e = 1, r = 0, u = n[0][1], i = n.length; i > e; ++e)(t = n[e][1]) > u && (r = e, u = t);
        return r
    }

    function si(n) {
        return n.reduce(fi, 0)
    }

    function fi(n, t) {
        return n + t[1]
    }

    function hi(n, t) {
        return gi(n, Math.ceil(Math.log(t.length) / Math.LN2 + 1))
    }

    function gi(n, t) {
        for (var e = -1, r = +n[0], u = (n[1] - r) / t, i = []; ++e <= t;) i[e] = u * e + r;
        return i
    }

    function pi(n) {
        return [ta.min(n), ta.max(n)]
    }

    function vi(n, t) {
        return n.value - t.value
    }

    function di(n, t) {
        var e = n._pack_next;
        n._pack_next = t, t._pack_prev = n, t._pack_next = e, e._pack_prev = t
    }

    function mi(n, t) {
        n._pack_next = t, t._pack_prev = n
    }

    function yi(n, t) {
        var e = t.x - n.x,
            r = t.y - n.y,
            u = n.r + t.r;
        return .999 * u * u > e * e + r * r
    }

    function Mi(n) {
        function t(n) {
            s = Math.min(n.x - n.r, s), f = Math.max(n.x + n.r, f), h = Math.min(n.y - n.r, h), g = Math.max(n.y + n.r, g)
        }
        if ((e = n.children) && (l = e.length)) {
            var e, r, u, i, o, a, c, l, s = 1 / 0,
                f = -1 / 0,
                h = 1 / 0,
                g = -1 / 0;
            if (e.forEach(xi), r = e[0], r.x = -r.r, r.y = 0, t(r), l > 1 && (u = e[1], u.x = u.r, u.y = 0, t(u), l > 2))
                for (i = e[2], wi(r, u, i), t(i), di(r, i), r._pack_prev = i, di(i, u), u = r._pack_next, o = 3; l > o; o++) {
                    wi(r, u, i = e[o]);
                    var p = 0,
                        v = 1,
                        d = 1;
                    for (a = u._pack_next; a !== u; a = a._pack_next, v++)
                        if (yi(a, i)) {
                            p = 1;
                            break
                        }
                    if (1 == p)
                        for (c = r._pack_prev; c !== a._pack_prev && !yi(c, i); c = c._pack_prev, d++);
                    p ? (d > v || v == d && u.r < r.r ? mi(r, u = a) : mi(r = c, u), o--) : (di(r, i), u = i, t(i))
                }
            var m = (s + f) / 2,
                y = (h + g) / 2,
                M = 0;
            for (o = 0; l > o; o++) i = e[o], i.x -= m, i.y -= y, M = Math.max(M, i.r + Math.sqrt(i.x * i.x + i.y * i.y));
            n.r = M, e.forEach(bi)
        }
    }

    function xi(n) {
        n._pack_next = n._pack_prev = n
    }

    function bi(n) {
        delete n._pack_next, delete n._pack_prev
    }

    function _i(n, t, e, r) {
        var u = n.children;
        if (n.x = t += r * n.x, n.y = e += r * n.y, n.r *= r, u)
            for (var i = -1, o = u.length; ++i < o;) _i(u[i], t, e, r)
    }

    function wi(n, t, e) {
        var r = n.r + e.r,
            u = t.x - n.x,
            i = t.y - n.y;
        if (r && (u || i)) {
            var o = t.r + e.r,
                a = u * u + i * i;
            o *= o, r *= r;
            var c = .5 + (r - o) / (2 * a),
                l = Math.sqrt(Math.max(0, 2 * o * (r + a) - (r -= a) * r - o * o)) / (2 * a);
            e.x = n.x + c * u + l * i, e.y = n.y + c * i - l * u
        } else e.x = n.x + r, e.y = n.y
    }

    function Si(n, t) {
        return n.parent == t.parent ? 1 : 2
    }

    function ki(n) {
        var t = n.children;
        return t.length ? t[0] : n.t
    }

    function Ei(n) {
        var t, e = n.children;
        return (t = e.length) ? e[t - 1] : n.t
    }

    function Ai(n, t, e) {
        var r = e / (t.i - n.i);
        t.c -= r, t.s += e, n.c += r, t.z += e, t.m += e
    }

    function Ni(n) {
        for (var t, e = 0, r = 0, u = n.children, i = u.length; --i >= 0;) t = u[i], t.z += e, t.m += e, e += t.s + (r += t.c)
    }

    function Ci(n, t, e) {
        return n.a.parent === t.parent ? n.a : e
    }

    function zi(n) {
        return 1 + ta.max(n, function(n) {
            return n.y
        })
    }

    function qi(n) {
        return n.reduce(function(n, t) {
            return n + t.x
        }, 0) / n.length
    }

    function Li(n) {
        var t = n.children;
        return t && t.length ? Li(t[0]) : n
    }

    function Ti(n) {
        var t, e = n.children;
        return e && (t = e.length) ? Ti(e[t - 1]) : n
    }

    function Ri(n) {
        return {
            x: n.x,
            y: n.y,
            dx: n.dx,
            dy: n.dy
        }
    }

    function Di(n, t) {
        var e = n.x + t[3],
            r = n.y + t[0],
            u = n.dx - t[1] - t[3],
            i = n.dy - t[0] - t[2];
        return 0 > u && (e += u / 2, u = 0), 0 > i && (r += i / 2, i = 0), {
            x: e,
            y: r,
            dx: u,
            dy: i
        }
    }

    function Pi(n) {
        var t = n[0],
            e = n[n.length - 1];
        return e > t ? [t, e] : [e, t]
    }

    function Ui(n) {
        return n.rangeExtent ? n.rangeExtent() : Pi(n.range())
    }

    function ji(n, t, e, r) {
        var u = e(n[0], n[1]),
            i = r(t[0], t[1]);
        return function(n) {
            return i(u(n))
        }
    }

    function Fi(n, t) {
        var e, r = 0,
            u = n.length - 1,
            i = n[r],
            o = n[u];
        return i > o && (e = r, r = u, u = e, e = i, i = o, o = e), n[r] = t.floor(i), n[u] = t.ceil(o), n
    }

    function Hi(n) {
        return n ? {
            floor: function(t) {
                return Math.floor(t / n) * n
            },
            ceil: function(t) {
                return Math.ceil(t / n) * n
            }
        } : ml
    }

    function Oi(n, t, e, r) {
        var u = [],
            i = [],
            o = 0,
            a = Math.min(n.length, t.length) - 1;
        for (n[a] < n[0] && (n = n.slice().reverse(), t = t.slice().reverse()); ++o <= a;) u.push(e(n[o - 1], n[o])), i.push(r(t[o - 1], t[o]));
        return function(t) {
            var e = ta.bisect(n, t, 1, a) - 1;
            return i[e](u[e](t))
        }
    }

    function Ii(n, t, e, r) {
        function u() {
            var u = Math.min(n.length, t.length) > 2 ? Oi : ji,
                c = r ? Iu : Ou;
            return o = u(n, t, c, e), a = u(t, n, c, mu), i
        }

        function i(n) {
            return o(n)
        }
        var o, a;
        return i.invert = function(n) {
            return a(n)
        }, i.domain = function(t) {
            return arguments.length ? (n = t.map(Number), u()) : n
        }, i.range = function(n) {
            return arguments.length ? (t = n, u()) : t
        }, i.rangeRound = function(n) {
            return i.range(n).interpolate(Du)
        }, i.clamp = function(n) {
            return arguments.length ? (r = n, u()) : r
        }, i.interpolate = function(n) {
            return arguments.length ? (e = n, u()) : e
        }, i.ticks = function(t) {
            return Xi(n, t)
        }, i.tickFormat = function(t, e) {
            return $i(n, t, e)
        }, i.nice = function(t) {
            return Zi(n, t), u()
        }, i.copy = function() {
            return Ii(n, t, e, r)
        }, u()
    }

    function Yi(n, t) {
        return ta.rebind(n, t, "range", "rangeRound", "interpolate", "clamp")
    }

    function Zi(n, t) {
        return Fi(n, Hi(Vi(n, t)[2]))
    }

    function Vi(n, t) {
        null == t && (t = 10);
        var e = Pi(n),
            r = e[1] - e[0],
            u = Math.pow(10, Math.floor(Math.log(r / t) / Math.LN10)),
            i = t / r * u;
        return .15 >= i ? u *= 10 : .35 >= i ? u *= 5 : .75 >= i && (u *= 2), e[0] = Math.ceil(e[0] / u) * u, e[1] = Math.floor(e[1] / u) * u + .5 * u, e[2] = u, e
    }

    function Xi(n, t) {
        return ta.range.apply(ta, Vi(n, t))
    }

    function $i(n, t, e) {
        var r = Vi(n, t);
        if (e) {
            var u = ic.exec(e);
            if (u.shift(), "s" === u[8]) {
                var i = ta.formatPrefix(Math.max(ga(r[0]), ga(r[1])));
                return u[7] || (u[7] = "." + Bi(i.scale(r[2]))), u[8] = "f", e = ta.format(u.join("")),
                    function(n) {
                        return e(i.scale(n)) + i.symbol
                    }
            }
            u[7] || (u[7] = "." + Wi(u[8], r)), e = u.join("")
        } else e = ",." + Bi(r[2]) + "f";
        return ta.format(e)
    }

    function Bi(n) {
        return -Math.floor(Math.log(n) / Math.LN10 + .01)
    }

    function Wi(n, t) {
        var e = Bi(t[2]);
        return n in yl ? Math.abs(e - Bi(Math.max(ga(t[0]), ga(t[1])))) + +("e" !== n) : e - 2 * ("%" === n)
    }

    function Ji(n, t, e, r) {
        function u(n) {
            return (e ? Math.log(0 > n ? 0 : n) : -Math.log(n > 0 ? 0 : -n)) / Math.log(t)
        }

        function i(n) {
            return e ? Math.pow(t, n) : -Math.pow(t, -n)
        }

        function o(t) {
            return n(u(t))
        }
        return o.invert = function(t) {
            return i(n.invert(t))
        }, o.domain = function(t) {
            return arguments.length ? (e = t[0] >= 0, n.domain((r = t.map(Number)).map(u)), o) : r
        }, o.base = function(e) {
            return arguments.length ? (t = +e, n.domain(r.map(u)), o) : t
        }, o.nice = function() {
            var t = Fi(r.map(u), e ? Math : xl);
            return n.domain(t), r = t.map(i), o
        }, o.ticks = function() {
            var n = Pi(r),
                o = [],
                a = n[0],
                c = n[1],
                l = Math.floor(u(a)),
                s = Math.ceil(u(c)),
                f = t % 1 ? 2 : t;
            if (isFinite(s - l)) {
                if (e) {
                    for (; s > l; l++)
                        for (var h = 1; f > h; h++) o.push(i(l) * h);
                    o.push(i(l))
                } else
                    for (o.push(i(l)); l++ < s;)
                        for (var h = f - 1; h > 0; h--) o.push(i(l) * h);
                for (l = 0; o[l] < a; l++);
                for (s = o.length; o[s - 1] > c; s--);
                o = o.slice(l, s)
            }
            return o
        }, o.tickFormat = function(n, t) {
            if (!arguments.length) return Ml;
            arguments.length < 2 ? t = Ml : "function" != typeof t && (t = ta.format(t));
            var r, a = Math.max(.1, n / o.ticks().length),
                c = e ? (r = 1e-12, Math.ceil) : (r = -1e-12, Math.floor);
            return function(n) {
                return n / i(c(u(n) + r)) <= a ? t(n) : ""
            }
        }, o.copy = function() {
            return Ji(n.copy(), t, e, r)
        }, Yi(o, n)
    }

    function Gi(n, t, e) {
        function r(t) {
            return n(u(t))
        }
        var u = Ki(t),
            i = Ki(1 / t);
        return r.invert = function(t) {
            return i(n.invert(t))
        }, r.domain = function(t) {
            return arguments.length ? (n.domain((e = t.map(Number)).map(u)), r) : e
        }, r.ticks = function(n) {
            return Xi(e, n)
        }, r.tickFormat = function(n, t) {
            return $i(e, n, t)
        }, r.nice = function(n) {
            return r.domain(Zi(e, n))
        }, r.exponent = function(o) {
            return arguments.length ? (u = Ki(t = o), i = Ki(1 / t), n.domain(e.map(u)), r) : t
        }, r.copy = function() {
            return Gi(n.copy(), t, e)
        }, Yi(r, n)
    }

    function Ki(n) {
        return function(t) {
            return 0 > t ? -Math.pow(-t, n) : Math.pow(t, n)
        }
    }

    function Qi(n, t) {
        function e(e) {
            return i[((u.get(e) || ("range" === t.t ? u.set(e, n.push(e)) : 0 / 0)) - 1) % i.length]
        }

        function r(t, e) {
            return ta.range(n.length).map(function(n) {
                return t + e * n
            })
        }
        var u, i, o;
        return e.domain = function(r) {
            if (!arguments.length) return n;
            n = [], u = new l;
            for (var i, o = -1, a = r.length; ++o < a;) u.has(i = r[o]) || u.set(i, n.push(i));
            return e[t.t].apply(e, t.a)
        }, e.range = function(n) {
            return arguments.length ? (i = n, o = 0, t = {
                t: "range",
                a: arguments
            }, e) : i
        }, e.rangePoints = function(u, a) {
            arguments.length < 2 && (a = 0);
            var c = u[0],
                l = u[1],
                s = n.length < 2 ? (c = (c + l) / 2, 0) : (l - c) / (n.length - 1 + a);
            return i = r(c + s * a / 2, s), o = 0, t = {
                t: "rangePoints",
                a: arguments
            }, e
        }, e.rangeRoundPoints = function(u, a) {
            arguments.length < 2 && (a = 0);
            var c = u[0],
                l = u[1],
                s = n.length < 2 ? (c = l = Math.round((c + l) / 2), 0) : (l - c) / (n.length - 1 + a) | 0;
            return i = r(c + Math.round(s * a / 2 + (l - c - (n.length - 1 + a) * s) / 2), s), o = 0, t = {
                t: "rangeRoundPoints",
                a: arguments
            }, e
        }, e.rangeBands = function(u, a, c) {
            arguments.length < 2 && (a = 0), arguments.length < 3 && (c = a);
            var l = u[1] < u[0],
                s = u[l - 0],
                f = u[1 - l],
                h = (f - s) / (n.length - a + 2 * c);
            return i = r(s + h * c, h), l && i.reverse(), o = h * (1 - a), t = {
                t: "rangeBands",
                a: arguments
            }, e
        }, e.rangeRoundBands = function(u, a, c) {
            arguments.length < 2 && (a = 0), arguments.length < 3 && (c = a);
            var l = u[1] < u[0],
                s = u[l - 0],
                f = u[1 - l],
                h = Math.floor((f - s) / (n.length - a + 2 * c));
            return i = r(s + Math.round((f - s - (n.length - a) * h) / 2), h), l && i.reverse(), o = Math.round(h * (1 - a)), t = {
                t: "rangeRoundBands",
                a: arguments
            }, e
        }, e.rangeBand = function() {
            return o
        }, e.rangeExtent = function() {
            return Pi(t.a[0])
        }, e.copy = function() {
            return Qi(n, t)
        }, e.domain(n)
    }

    function no(n, t) {
        function i() {
            var e = 0,
                r = t.length;
            for (a = []; ++e < r;) a[e - 1] = ta.quantile(n, e / r);
            return o
        }

        function o(n) {
            return isNaN(n = +n) ? void 0 : t[ta.bisect(a, n)]
        }
        var a;
        return o.domain = function(t) {
            return arguments.length ? (n = t.map(r).filter(u).sort(e), i()) : n
        }, o.range = function(n) {
            return arguments.length ? (t = n, i()) : t
        }, o.quantiles = function() {
            return a
        }, o.invertExtent = function(e) {
            return e = t.indexOf(e), 0 > e ? [0 / 0, 0 / 0] : [e > 0 ? a[e - 1] : n[0], e < a.length ? a[e] : n[n.length - 1]]
        }, o.copy = function() {
            return no(n, t)
        }, i()
    }

    function to(n, t, e) {
        function r(t) {
            return e[Math.max(0, Math.min(o, Math.floor(i * (t - n))))]
        }

        function u() {
            return i = e.length / (t - n), o = e.length - 1, r
        }
        var i, o;
        return r.domain = function(e) {
            return arguments.length ? (n = +e[0], t = +e[e.length - 1], u()) : [n, t]
        }, r.range = function(n) {
            return arguments.length ? (e = n, u()) : e
        }, r.invertExtent = function(t) {
            return t = e.indexOf(t), t = 0 > t ? 0 / 0 : t / i + n, [t, t + 1 / i]
        }, r.copy = function() {
            return to(n, t, e)
        }, u()
    }

    function eo(n, t) {
        function e(e) {
            return e >= e ? t[ta.bisect(n, e)] : void 0
        }
        return e.domain = function(t) {
            return arguments.length ? (n = t, e) : n
        }, e.range = function(n) {
            return arguments.length ? (t = n, e) : t
        }, e.invertExtent = function(e) {
            return e = t.indexOf(e), [n[e - 1], n[e]]
        }, e.copy = function() {
            return eo(n, t)
        }, e
    }

    function ro(n) {
        function t(n) {
            return +n
        }
        return t.invert = t, t.domain = t.range = function(e) {
            return arguments.length ? (n = e.map(t), t) : n
        }, t.ticks = function(t) {
            return Xi(n, t)
        }, t.tickFormat = function(t, e) {
            return $i(n, t, e)
        }, t.copy = function() {
            return ro(n)
        }, t
    }

    function uo() {
        return 0
    }

    function io(n) {
        return n.innerRadius
    }

    function oo(n) {
        return n.outerRadius
    }

    function ao(n) {
        return n.startAngle
    }

    function co(n) {
        return n.endAngle
    }

    function lo(n) {
        return n && n.padAngle
    }

    function so(n, t, e, r) {
        return (n - e) * t - (t - r) * n > 0 ? 0 : 1
    }

    function fo(n, t, e, r, u) {
        var i = n[0] - t[0],
            o = n[1] - t[1],
            a = (u ? r : -r) / Math.sqrt(i * i + o * o),
            c = a * o,
            l = -a * i,
            s = n[0] + c,
            f = n[1] + l,
            h = t[0] + c,
            g = t[1] + l,
            p = (s + h) / 2,
            v = (f + g) / 2,
            d = h - s,
            m = g - f,
            y = d * d + m * m,
            M = e - r,
            x = s * g - h * f,
            b = (0 > m ? -1 : 1) * Math.sqrt(M * M * y - x * x),
            _ = (x * m - d * b) / y,
            w = (-x * d - m * b) / y,
            S = (x * m + d * b) / y,
            k = (-x * d + m * b) / y,
            E = _ - p,
            A = w - v,
            N = S - p,
            C = k - v;
        return E * E + A * A > N * N + C * C && (_ = S, w = k), [
            [_ - c, w - l],
            [_ * e / M, w * e / M]
        ]
    }

    function ho(n) {
        function t(t) {
            function o() {
                l.push("M", i(n(s), a))
            }
            for (var c, l = [], s = [], f = -1, h = t.length, g = Et(e), p = Et(r); ++f < h;) u.call(this, c = t[f], f) ? s.push([+g.call(this, c, f), +p.call(this, c, f)]) : s.length && (o(), s = []);
            return s.length && o(), l.length ? l.join("") : null
        }
        var e = Ar,
            r = Nr,
            u = Ne,
            i = go,
            o = i.key,
            a = .7;
        return t.x = function(n) {
            return arguments.length ? (e = n, t) : e
        }, t.y = function(n) {
            return arguments.length ? (r = n, t) : r
        }, t.defined = function(n) {
            return arguments.length ? (u = n, t) : u
        }, t.interpolate = function(n) {
            return arguments.length ? (o = "function" == typeof n ? i = n : (i = El.get(n) || go).key, t) : o
        }, t.tension = function(n) {
            return arguments.length ? (a = n, t) : a
        }, t
    }

    function go(n) {
        return n.join("L")
    }

    function po(n) {
        return go(n) + "Z"
    }

    function vo(n) {
        for (var t = 0, e = n.length, r = n[0], u = [r[0], ",", r[1]]; ++t < e;) u.push("H", (r[0] + (r = n[t])[0]) / 2, "V", r[1]);
        return e > 1 && u.push("H", r[0]), u.join("")
    }

    function mo(n) {
        for (var t = 0, e = n.length, r = n[0], u = [r[0], ",", r[1]]; ++t < e;) u.push("V", (r = n[t])[1], "H", r[0]);
        return u.join("")
    }

    function yo(n) {
        for (var t = 0, e = n.length, r = n[0], u = [r[0], ",", r[1]]; ++t < e;) u.push("H", (r = n[t])[0], "V", r[1]);
        return u.join("")
    }

    function Mo(n, t) {
        return n.length < 4 ? go(n) : n[1] + _o(n.slice(1, -1), wo(n, t))
    }

    function xo(n, t) {
        return n.length < 3 ? go(n) : n[0] + _o((n.push(n[0]), n), wo([n[n.length - 2]].concat(n, [n[1]]), t))
    }

    function bo(n, t) {
        return n.length < 3 ? go(n) : n[0] + _o(n, wo(n, t))
    }

    function _o(n, t) {
        if (t.length < 1 || n.length != t.length && n.length != t.length + 2) return go(n);
        var e = n.length != t.length,
            r = "",
            u = n[0],
            i = n[1],
            o = t[0],
            a = o,
            c = 1;
        if (e && (r += "Q" + (i[0] - 2 * o[0] / 3) + "," + (i[1] - 2 * o[1] / 3) + "," + i[0] + "," + i[1], u = n[1], c = 2), t.length > 1) {
            a = t[1], i = n[c], c++, r += "C" + (u[0] + o[0]) + "," + (u[1] + o[1]) + "," + (i[0] - a[0]) + "," + (i[1] - a[1]) + "," + i[0] + "," + i[1];
            for (var l = 2; l < t.length; l++, c++) i = n[c], a = t[l], r += "S" + (i[0] - a[0]) + "," + (i[1] - a[1]) + "," + i[0] + "," + i[1]
        }
        if (e) {
            var s = n[c];
            r += "Q" + (i[0] + 2 * a[0] / 3) + "," + (i[1] + 2 * a[1] / 3) + "," + s[0] + "," + s[1]
        }
        return r
    }

    function wo(n, t) {
        for (var e, r = [], u = (1 - t) / 2, i = n[0], o = n[1], a = 1, c = n.length; ++a < c;) e = i, i = o, o = n[a], r.push([u * (o[0] - e[0]), u * (o[1] - e[1])]);
        return r
    }

    function So(n) {
        if (n.length < 3) return go(n);
        var t = 1,
            e = n.length,
            r = n[0],
            u = r[0],
            i = r[1],
            o = [u, u, u, (r = n[1])[0]],
            a = [i, i, i, r[1]],
            c = [u, ",", i, "L", No(Cl, o), ",", No(Cl, a)];
        for (n.push(n[e - 1]); ++t <= e;) r = n[t], o.shift(), o.push(r[0]), a.shift(), a.push(r[1]), Co(c, o, a);
        return n.pop(), c.push("L", r), c.join("")
    }

    function ko(n) {
        if (n.length < 4) return go(n);
        for (var t, e = [], r = -1, u = n.length, i = [0], o = [0]; ++r < 3;) t = n[r], i.push(t[0]), o.push(t[1]);
        for (e.push(No(Cl, i) + "," + No(Cl, o)), --r; ++r < u;) t = n[r], i.shift(), i.push(t[0]), o.shift(), o.push(t[1]), Co(e, i, o);
        return e.join("")
    }

    function Eo(n) {
        for (var t, e, r = -1, u = n.length, i = u + 4, o = [], a = []; ++r < 4;) e = n[r % u], o.push(e[0]), a.push(e[1]);
        for (t = [No(Cl, o), ",", No(Cl, a)], --r; ++r < i;) e = n[r % u], o.shift(), o.push(e[0]), a.shift(), a.push(e[1]), Co(t, o, a);
        return t.join("")
    }

    function Ao(n, t) {
        var e = n.length - 1;
        if (e)
            for (var r, u, i = n[0][0], o = n[0][1], a = n[e][0] - i, c = n[e][1] - o, l = -1; ++l <= e;) r = n[l], u = l / e, r[0] = t * r[0] + (1 - t) * (i + u * a), r[1] = t * r[1] + (1 - t) * (o + u * c);
        return So(n)
    }

    function No(n, t) {
        return n[0] * t[0] + n[1] * t[1] + n[2] * t[2] + n[3] * t[3]
    }

    function Co(n, t, e) {
        n.push("C", No(Al, t), ",", No(Al, e), ",", No(Nl, t), ",", No(Nl, e), ",", No(Cl, t), ",", No(Cl, e))
    }

    function zo(n, t) {
        return (t[1] - n[1]) / (t[0] - n[0])
    }

    function qo(n) {
        for (var t = 0, e = n.length - 1, r = [], u = n[0], i = n[1], o = r[0] = zo(u, i); ++t < e;) r[t] = (o + (o = zo(u = i, i = n[t + 1]))) / 2;
        return r[t] = o, r
    }

    function Lo(n) {
        for (var t, e, r, u, i = [], o = qo(n), a = -1, c = n.length - 1; ++a < c;) t = zo(n[a], n[a + 1]), ga(t) < Ca ? o[a] = o[a + 1] = 0 : (e = o[a] / t, r = o[a + 1] / t, u = e * e + r * r, u > 9 && (u = 3 * t / Math.sqrt(u), o[a] = u * e, o[a + 1] = u * r));
        for (a = -1; ++a <= c;) u = (n[Math.min(c, a + 1)][0] - n[Math.max(0, a - 1)][0]) / (6 * (1 + o[a] * o[a])), i.push([u || 0, o[a] * u || 0]);
        return i
    }

    function To(n) {
        return n.length < 3 ? go(n) : n[0] + _o(n, Lo(n))
    }

    function Ro(n) {
        for (var t, e, r, u = -1, i = n.length; ++u < i;) t = n[u], e = t[0], r = t[1] - Ra, t[0] = e * Math.cos(r), t[1] = e * Math.sin(r);
        return n
    }

    function Do(n) {
        function t(t) {
            function c() {
                v.push("M", a(n(m), f), s, l(n(d.reverse()), f), "Z")
            }
            for (var h, g, p, v = [], d = [], m = [], y = -1, M = t.length, x = Et(e), b = Et(u), _ = e === r ? function() {
                    return g
                } : Et(r), w = u === i ? function() {
                    return p
                } : Et(i); ++y < M;) o.call(this, h = t[y], y) ? (d.push([g = +x.call(this, h, y), p = +b.call(this, h, y)]), m.push([+_.call(this, h, y), +w.call(this, h, y)])) : d.length && (c(), d = [], m = []);
            return d.length && c(), v.length ? v.join("") : null
        }
        var e = Ar,
            r = Ar,
            u = 0,
            i = Nr,
            o = Ne,
            a = go,
            c = a.key,
            l = a,
            s = "L",
            f = .7;
        return t.x = function(n) {
            return arguments.length ? (e = r = n, t) : r
        }, t.x0 = function(n) {
            return arguments.length ? (e = n, t) : e
        }, t.x1 = function(n) {
            return arguments.length ? (r = n, t) : r
        }, t.y = function(n) {
            return arguments.length ? (u = i = n, t) : i
        }, t.y0 = function(n) {
            return arguments.length ? (u = n, t) : u
        }, t.y1 = function(n) {
            return arguments.length ? (i = n, t) : i
        }, t.defined = function(n) {
            return arguments.length ? (o = n, t) : o
        }, t.interpolate = function(n) {
            return arguments.length ? (c = "function" == typeof n ? a = n : (a = El.get(n) || go).key, l = a.reverse || a, s = a.closed ? "M" : "L", t) : c
        }, t.tension = function(n) {
            return arguments.length ? (f = n, t) : f
        }, t
    }

    function Po(n) {
        return n.radius
    }

    function Uo(n) {
        return [n.x, n.y]
    }

    function jo(n) {
        return function() {
            var t = n.apply(this, arguments),
                e = t[0],
                r = t[1] - Ra;
            return [e * Math.cos(r), e * Math.sin(r)]
        }
    }

    function Fo() {
        return 64
    }

    function Ho() {
        return "circle"
    }

    function Oo(n) {
        var t = Math.sqrt(n / qa);
        return "M0," + t + "A" + t + "," + t + " 0 1,1 0," + -t + "A" + t + "," + t + " 0 1,1 0," + t + "Z"
    }

    function Io(n) {
        return function() {
            var t, e;
            (t = this[n]) && (e = t[t.active]) && (--t.count ? delete t[t.active] : delete this[n], t.active += .5, e.event && e.event.interrupt.call(this, this.__data__, e.index))
        }
    }

    function Yo(n, t, e) {
        return ya(n, Pl), n.namespace = t, n.id = e, n
    }

    function Zo(n, t, e, r) {
        var u = n.id,
            i = n.namespace;
        return Y(n, "function" == typeof e ? function(n, o, a) {
            n[i][u].tween.set(t, r(e.call(n, n.__data__, o, a)))
        } : (e = r(e), function(n) {
            n[i][u].tween.set(t, e)
        }))
    }

    function Vo(n) {
        return null == n && (n = ""),
            function() {
                this.textContent = n
            }
    }

    function Xo(n) {
        return null == n ? "__transition__" : "__transition_" + n + "__"
    }

    function $o(n, t, e, r, u) {
        var i = n[e] || (n[e] = {
                active: 0,
                count: 0
            }),
            o = i[r];
        if (!o) {
            var a = u.time;
            o = i[r] = {
                tween: new l,
                time: a,
                delay: u.delay,
                duration: u.duration,
                ease: u.ease,
                index: t
            }, u = null, ++i.count, ta.timer(function(u) {
                function c(e) {
                    if (i.active > r) return s();
                    var u = i[i.active];
                    u && (--i.count, delete i[i.active], u.event && u.event.interrupt.call(n, n.__data__, u.index)), i.active = r, o.event && o.event.start.call(n, n.__data__, t), o.tween.forEach(function(e, r) {
                        (r = r.call(n, n.__data__, t)) && v.push(r)
                    }), h = o.ease, f = o.duration, ta.timer(function() {
                        return p.c = l(e || 1) ? Ne : l, 1
                    }, 0, a)
                }

                function l(e) {
                    if (i.active !== r) return 1;
                    for (var u = e / f, a = h(u), c = v.length; c > 0;) v[--c].call(n, a);
                    return u >= 1 ? (o.event && o.event.end.call(n, n.__data__, t), s()) : void 0
                }

                function s() {
                    return --i.count ? delete i[r] : delete n[e], 1
                }
                var f, h, g = o.delay,
                    p = ec,
                    v = [];
                return p.t = g + a, u >= g ? c(u - g) : void(p.c = c)
            }, 0, a)
        }
    }

    function Bo(n, t, e) {
        n.attr("transform", function(n) {
            var r = t(n);
            return "translate(" + (isFinite(r) ? r : e(n)) + ",0)"
        })
    }

    function Wo(n, t, e) {
        n.attr("transform", function(n) {
            var r = t(n);
            return "translate(0," + (isFinite(r) ? r : e(n)) + ")"
        })
    }

    function Jo(n) {
        return n.toISOString()
    }

    function Go(n, t, e) {
        function r(t) {
            return n(t)
        }

        function u(n, e) {
            var r = n[1] - n[0],
                u = r / e,
                i = ta.bisect(Vl, u);
            return i == Vl.length ? [t.year, Vi(n.map(function(n) {
                return n / 31536e6
            }), e)[2]] : i ? t[u / Vl[i - 1] < Vl[i] / u ? i - 1 : i] : [Bl, Vi(n, e)[2]]
        }
        return r.invert = function(t) {
            return Ko(n.invert(t))
        }, r.domain = function(t) {
            return arguments.length ? (n.domain(t), r) : n.domain().map(Ko)
        }, r.nice = function(n, t) {
            function e(e) {
                return !isNaN(e) && !n.range(e, Ko(+e + 1), t).length
            }
            var i = r.domain(),
                o = Pi(i),
                a = null == n ? u(o, 10) : "number" == typeof n && u(o, n);
            return a && (n = a[0], t = a[1]), r.domain(Fi(i, t > 1 ? {
                floor: function(t) {
                    for (; e(t = n.floor(t));) t = Ko(t - 1);
                    return t
                },
                ceil: function(t) {
                    for (; e(t = n.ceil(t));) t = Ko(+t + 1);
                    return t
                }
            } : n))
        }, r.ticks = function(n, t) {
            var e = Pi(r.domain()),
                i = null == n ? u(e, 10) : "number" == typeof n ? u(e, n) : !n.range && [{
                    range: n
                }, t];
            return i && (n = i[0], t = i[1]), n.range(e[0], Ko(+e[1] + 1), 1 > t ? 1 : t)
        }, r.tickFormat = function() {
            return e
        }, r.copy = function() {
            return Go(n.copy(), t, e)
        }, Yi(r, n)
    }

    function Ko(n) {
        return new Date(n)
    }

    function Qo(n) {
        return JSON.parse(n.responseText)
    }

    function na(n) {
        var t = ua.createRange();
        return t.selectNode(ua.body), t.createContextualFragment(n.responseText)
    }
    var ta = {
            version: "3.5.6"
        },
        ea = [].slice,
        ra = function(n) {
            return ea.call(n)
        },
        ua = this.document;
    if (ua) try {
        ra(ua.documentElement.childNodes)[0].nodeType
    } catch (ia) {
        ra = function(n) {
            for (var t = n.length, e = new Array(t); t--;) e[t] = n[t];
            return e
        }
    }
    if (Date.now || (Date.now = function() {
            return +new Date
        }), ua) try {
        ua.createElement("DIV").style.setProperty("opacity", 0, "")
    } catch (oa) {
        var aa = this.Element.prototype,
            ca = aa.setAttribute,
            la = aa.setAttributeNS,
            sa = this.CSSStyleDeclaration.prototype,
            fa = sa.setProperty;
        aa.setAttribute = function(n, t) {
            ca.call(this, n, t + "")
        }, aa.setAttributeNS = function(n, t, e) {
            la.call(this, n, t, e + "")
        }, sa.setProperty = function(n, t, e) {
            fa.call(this, n, t + "", e)
        }
    }
    ta.ascending = e, ta.descending = function(n, t) {
        return n > t ? -1 : t > n ? 1 : t >= n ? 0 : 0 / 0
    }, ta.min = function(n, t) {
        var e, r, u = -1,
            i = n.length;
        if (1 === arguments.length) {
            for (; ++u < i;)
                if (null != (r = n[u]) && r >= r) {
                    e = r;
                    break
                }
            for (; ++u < i;) null != (r = n[u]) && e > r && (e = r)
        } else {
            for (; ++u < i;)
                if (null != (r = t.call(n, n[u], u)) && r >= r) {
                    e = r;
                    break
                }
            for (; ++u < i;) null != (r = t.call(n, n[u], u)) && e > r && (e = r)
        }
        return e
    }, ta.max = function(n, t) {
        var e, r, u = -1,
            i = n.length;
        if (1 === arguments.length) {
            for (; ++u < i;)
                if (null != (r = n[u]) && r >= r) {
                    e = r;
                    break
                }
            for (; ++u < i;) null != (r = n[u]) && r > e && (e = r)
        } else {
            for (; ++u < i;)
                if (null != (r = t.call(n, n[u], u)) && r >= r) {
                    e = r;
                    break
                }
            for (; ++u < i;) null != (r = t.call(n, n[u], u)) && r > e && (e = r)
        }
        return e
    }, ta.extent = function(n, t) {
        var e, r, u, i = -1,
            o = n.length;
        if (1 === arguments.length) {
            for (; ++i < o;)
                if (null != (r = n[i]) && r >= r) {
                    e = u = r;
                    break
                }
            for (; ++i < o;) null != (r = n[i]) && (e > r && (e = r), r > u && (u = r))
        } else {
            for (; ++i < o;)
                if (null != (r = t.call(n, n[i], i)) && r >= r) {
                    e = u = r;
                    break
                }
            for (; ++i < o;) null != (r = t.call(n, n[i], i)) && (e > r && (e = r), r > u && (u = r))
        }
        return [e, u]
    }, ta.sum = function(n, t) {
        var e, r = 0,
            i = n.length,
            o = -1;
        if (1 === arguments.length)
            for (; ++o < i;) u(e = +n[o]) && (r += e);
        else
            for (; ++o < i;) u(e = +t.call(n, n[o], o)) && (r += e);
        return r
    }, ta.mean = function(n, t) {
        var e, i = 0,
            o = n.length,
            a = -1,
            c = o;
        if (1 === arguments.length)
            for (; ++a < o;) u(e = r(n[a])) ? i += e : --c;
        else
            for (; ++a < o;) u(e = r(t.call(n, n[a], a))) ? i += e : --c;
        return c ? i / c : void 0
    }, ta.quantile = function(n, t) {
        var e = (n.length - 1) * t + 1,
            r = Math.floor(e),
            u = +n[r - 1],
            i = e - r;
        return i ? u + i * (n[r] - u) : u
    }, ta.median = function(n, t) {
        var i, o = [],
            a = n.length,
            c = -1;
        if (1 === arguments.length)
            for (; ++c < a;) u(i = r(n[c])) && o.push(i);
        else
            for (; ++c < a;) u(i = r(t.call(n, n[c], c))) && o.push(i);
        return o.length ? ta.quantile(o.sort(e), .5) : void 0
    }, ta.variance = function(n, t) {
        var e, i, o = n.length,
            a = 0,
            c = 0,
            l = -1,
            s = 0;
        if (1 === arguments.length)
            for (; ++l < o;) u(e = r(n[l])) && (i = e - a, a += i / ++s, c += i * (e - a));
        else
            for (; ++l < o;) u(e = r(t.call(n, n[l], l))) && (i = e - a, a += i / ++s, c += i * (e - a));
        return s > 1 ? c / (s - 1) : void 0
    }, ta.deviation = function() {
        var n = ta.variance.apply(this, arguments);
        return n ? Math.sqrt(n) : n
    };
    var ha = i(e);
    ta.bisectLeft = ha.left, ta.bisect = ta.bisectRight = ha.right, ta.bisector = function(n) {
        return i(1 === n.length ? function(t, r) {
            return e(n(t), r)
        } : n)
    }, ta.shuffle = function(n, t, e) {
        (i = arguments.length) < 3 && (e = n.length, 2 > i && (t = 0));
        for (var r, u, i = e - t; i;) u = Math.random() * i-- | 0, r = n[i + t], n[i + t] = n[u + t], n[u + t] = r;
        return n
    }, ta.permute = function(n, t) {
        for (var e = t.length, r = new Array(e); e--;) r[e] = n[t[e]];
        return r
    }, ta.pairs = function(n) {
        for (var t, e = 0, r = n.length - 1, u = n[0], i = new Array(0 > r ? 0 : r); r > e;) i[e] = [t = u, u = n[++e]];
        return i
    }, ta.zip = function() {
        if (!(r = arguments.length)) return [];
        for (var n = -1, t = ta.min(arguments, o), e = new Array(t); ++n < t;)
            for (var r, u = -1, i = e[n] = new Array(r); ++u < r;) i[u] = arguments[u][n];
        return e
    }, ta.transpose = function(n) {
        return ta.zip.apply(ta, n)
    }, ta.keys = function(n) {
        var t = [];
        for (var e in n) t.push(e);
        return t
    }, ta.values = function(n) {
        var t = [];
        for (var e in n) t.push(n[e]);
        return t
    }, ta.entries = function(n) {
        var t = [];
        for (var e in n) t.push({
            key: e,
            value: n[e]
        });
        return t
    }, ta.merge = function(n) {
        for (var t, e, r, u = n.length, i = -1, o = 0; ++i < u;) o += n[i].length;
        for (e = new Array(o); --u >= 0;)
            for (r = n[u], t = r.length; --t >= 0;) e[--o] = r[t];
        return e
    };
    var ga = Math.abs;
    ta.range = function(n, t, e) {
        if (arguments.length < 3 && (e = 1, arguments.length < 2 && (t = n, n = 0)), (t - n) / e === 1 / 0) throw new Error("infinite range");
        var r, u = [],
            i = a(ga(e)),
            o = -1;
        if (n *= i, t *= i, e *= i, 0 > e)
            for (;
                (r = n + e * ++o) > t;) u.push(r / i);
        else
            for (;
                (r = n + e * ++o) < t;) u.push(r / i);
        return u
    }, ta.map = function(n, t) {
        var e = new l;
        if (n instanceof l) n.forEach(function(n, t) {
            e.set(n, t)
        });
        else if (Array.isArray(n)) {
            var r, u = -1,
                i = n.length;
            if (1 === arguments.length)
                for (; ++u < i;) e.set(u, n[u]);
            else
                for (; ++u < i;) e.set(t.call(n, r = n[u], u), r)
        } else
            for (var o in n) e.set(o, n[o]);
        return e
    };
    var pa = "__proto__",
        va = "\x00";
    c(l, {
        has: h,
        get: function(n) {
            return this._[s(n)]
        },
        set: function(n, t) {
            return this._[s(n)] = t
        },
        remove: g,
        keys: p,
        values: function() {
            var n = [];
            for (var t in this._) n.push(this._[t]);
            return n
        },
        entries: function() {
            var n = [];
            for (var t in this._) n.push({
                key: f(t),
                value: this._[t]
            });
            return n
        },
        size: v,
        empty: d,
        forEach: function(n) {
            for (var t in this._) n.call(this, f(t), this._[t])
        }
    }), ta.nest = function() {
        function n(t, o, a) {
            if (a >= i.length) return r ? r.call(u, o) : e ? o.sort(e) : o;
            for (var c, s, f, h, g = -1, p = o.length, v = i[a++], d = new l; ++g < p;)(h = d.get(c = v(s = o[g]))) ? h.push(s) : d.set(c, [s]);
            return t ? (s = t(), f = function(e, r) {
                s.set(e, n(t, r, a))
            }) : (s = {}, f = function(e, r) {
                s[e] = n(t, r, a)
            }), d.forEach(f), s
        }

        function t(n, e) {
            if (e >= i.length) return n;
            var r = [],
                u = o[e++];
            return n.forEach(function(n, u) {
                r.push({
                    key: n,
                    values: t(u, e)
                })
            }), u ? r.sort(function(n, t) {
                return u(n.key, t.key)
            }) : r
        }
        var e, r, u = {},
            i = [],
            o = [];
        return u.map = function(t, e) {
            return n(e, t, 0)
        }, u.entries = function(e) {
            return t(n(ta.map, e, 0), 0)
        }, u.key = function(n) {
            return i.push(n), u
        }, u.sortKeys = function(n) {
            return o[i.length - 1] = n, u
        }, u.sortValues = function(n) {
            return e = n, u
        }, u.rollup = function(n) {
            return r = n, u
        }, u
    }, ta.set = function(n) {
        var t = new m;
        if (n)
            for (var e = 0, r = n.length; r > e; ++e) t.add(n[e]);
        return t
    }, c(m, {
        has: h,
        add: function(n) {
            return this._[s(n += "")] = !0, n
        },
        remove: g,
        values: p,
        size: v,
        empty: d,
        forEach: function(n) {
            for (var t in this._) n.call(this, f(t))
        }
    }), ta.behavior = {}, ta.rebind = function(n, t) {
        for (var e, r = 1, u = arguments.length; ++r < u;) n[e = arguments[r]] = M(n, t, t[e]);
        return n
    };
    var da = ["webkit", "ms", "moz", "Moz", "o", "O"];
    ta.dispatch = function() {
        for (var n = new _, t = -1, e = arguments.length; ++t < e;) n[arguments[t]] = w(n);
        return n
    }, _.prototype.on = function(n, t) {
        var e = n.indexOf("."),
            r = "";
        if (e >= 0 && (r = n.slice(e + 1), n = n.slice(0, e)), n) return arguments.length < 2 ? this[n].on(r) : this[n].on(r, t);
        if (2 === arguments.length) {
            if (null == t)
                for (n in this) this.hasOwnProperty(n) && this[n].on(r, null);
            return this
        }
    }, ta.event = null, ta.requote = function(n) {
        return n.replace(ma, "\\$&")
    };
    var ma = /[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,
        ya = {}.__proto__ ? function(n, t) {
            n.__proto__ = t
        } : function(n, t) {
            for (var e in t) n[e] = t[e]
        },
        Ma = function(n, t) {
            return t.querySelector(n)
        },
        xa = function(n, t) {
            return t.querySelectorAll(n)
        },
        ba = function(n, t) {
            var e = n.matches || n[x(n, "matchesSelector")];
            return (ba = function(n, t) {
                return e.call(n, t)
            })(n, t)
        };
    "function" == typeof Sizzle && (Ma = function(n, t) {
        return Sizzle(n, t)[0] || null
    }, xa = Sizzle, ba = Sizzle.matchesSelector), ta.selection = function() {
        return ta.select(ua.documentElement)
    };
    var _a = ta.selection.prototype = [];
    _a.select = function(n) {
        var t, e, r, u, i = [];
        n = N(n);
        for (var o = -1, a = this.length; ++o < a;) {
            i.push(t = []), t.parentNode = (r = this[o]).parentNode;
            for (var c = -1, l = r.length; ++c < l;)(u = r[c]) ? (t.push(e = n.call(u, u.__data__, c, o)), e && "__data__" in u && (e.__data__ = u.__data__)) : t.push(null)
        }
        return A(i)
    }, _a.selectAll = function(n) {
        var t, e, r = [];
        n = C(n);
        for (var u = -1, i = this.length; ++u < i;)
            for (var o = this[u], a = -1, c = o.length; ++a < c;)(e = o[a]) && (r.push(t = ra(n.call(e, e.__data__, a, u))), t.parentNode = e);
        return A(r)
    };
    var wa = {
        svg: "http://www.w3.org/2000/svg",
        xhtml: "http://www.w3.org/1999/xhtml",
        xlink: "http://www.w3.org/1999/xlink",
        xml: "http://www.w3.org/XML/1998/namespace",
        xmlns: "http://www.w3.org/2000/xmlns/"
    };
    ta.ns = {
        prefix: wa,
        qualify: function(n) {
            var t = n.indexOf(":"),
                e = n;
            return t >= 0 && (e = n.slice(0, t), n = n.slice(t + 1)), wa.hasOwnProperty(e) ? {
                space: wa[e],
                local: n
            } : n
        }
    }, _a.attr = function(n, t) {
        if (arguments.length < 2) {
            if ("string" == typeof n) {
                var e = this.node();
                return n = ta.ns.qualify(n), n.local ? e.getAttributeNS(n.space, n.local) : e.getAttribute(n)
            }
            for (t in n) this.each(z(t, n[t]));
            return this
        }
        return this.each(z(n, t))
    }, _a.classed = function(n, t) {
        if (arguments.length < 2) {
            if ("string" == typeof n) {
                var e = this.node(),
                    r = (n = T(n)).length,
                    u = -1;
                if (t = e.classList) {
                    for (; ++u < r;)
                        if (!t.contains(n[u])) return !1
                } else
                    for (t = e.getAttribute("class"); ++u < r;)
                        if (!L(n[u]).test(t)) return !1;
                return !0
            }
            for (t in n) this.each(R(t, n[t]));
            return this
        }
        return this.each(R(n, t))
    }, _a.style = function(n, e, r) {
        var u = arguments.length;
        if (3 > u) {
            if ("string" != typeof n) {
                2 > u && (e = "");
                for (r in n) this.each(P(r, n[r], e));
                return this
            }
            if (2 > u) {
                var i = this.node();
                return t(i).getComputedStyle(i, null).getPropertyValue(n)
            }
            r = ""
        }
        return this.each(P(n, e, r))
    }, _a.property = function(n, t) {
        if (arguments.length < 2) {
            if ("string" == typeof n) return this.node()[n];
            for (t in n) this.each(U(t, n[t]));
            return this
        }
        return this.each(U(n, t))
    }, _a.text = function(n) {
        return arguments.length ? this.each("function" == typeof n ? function() {
            var t = n.apply(this, arguments);
            this.textContent = null == t ? "" : t
        } : null == n ? function() {
            this.textContent = ""
        } : function() {
            this.textContent = n
        }) : this.node().textContent
    }, _a.html = function(n) {
        return arguments.length ? this.each("function" == typeof n ? function() {
            var t = n.apply(this, arguments);
            this.innerHTML = null == t ? "" : t
        } : null == n ? function() {
            this.innerHTML = ""
        } : function() {
            this.innerHTML = n
        }) : this.node().innerHTML
    }, _a.append = function(n) {
        return n = j(n), this.select(function() {
            return this.appendChild(n.apply(this, arguments))
        })
    }, _a.insert = function(n, t) {
        return n = j(n), t = N(t), this.select(function() {
            return this.insertBefore(n.apply(this, arguments), t.apply(this, arguments) || null)
        })
    }, _a.remove = function() {
        return this.each(F)
    }, _a.data = function(n, t) {
        function e(n, e) {
            var r, u, i, o = n.length,
                f = e.length,
                h = Math.min(o, f),
                g = new Array(f),
                p = new Array(f),
                v = new Array(o);
            if (t) {
                var d, m = new l,
                    y = new Array(o);
                for (r = -1; ++r < o;) m.has(d = t.call(u = n[r], u.__data__, r)) ? v[r] = u : m.set(d, u), y[r] = d;
                for (r = -1; ++r < f;)(u = m.get(d = t.call(e, i = e[r], r))) ? u !== !0 && (g[r] = u, u.__data__ = i) : p[r] = H(i), m.set(d, !0);
                for (r = -1; ++r < o;) m.get(y[r]) !== !0 && (v[r] = n[r])
            } else {
                for (r = -1; ++r < h;) u = n[r], i = e[r], u ? (u.__data__ = i, g[r] = u) : p[r] = H(i);
                for (; f > r; ++r) p[r] = H(e[r]);
                for (; o > r; ++r) v[r] = n[r]
            }
            p.update = g, p.parentNode = g.parentNode = v.parentNode = n.parentNode, a.push(p), c.push(g), s.push(v)
        }
        var r, u, i = -1,
            o = this.length;
        if (!arguments.length) {
            for (n = new Array(o = (r = this[0]).length); ++i < o;)(u = r[i]) && (n[i] = u.__data__);
            return n
        }
        var a = Z([]),
            c = A([]),
            s = A([]);
        if ("function" == typeof n)
            for (; ++i < o;) e(r = this[i], n.call(r, r.parentNode.__data__, i));
        else
            for (; ++i < o;) e(r = this[i], n);
        return c.enter = function() {
            return a
        }, c.exit = function() {
            return s
        }, c
    }, _a.datum = function(n) {
        return arguments.length ? this.property("__data__", n) : this.property("__data__")
    }, _a.filter = function(n) {
        var t, e, r, u = [];
        "function" != typeof n && (n = O(n));
        for (var i = 0, o = this.length; o > i; i++) {
            u.push(t = []), t.parentNode = (e = this[i]).parentNode;
            for (var a = 0, c = e.length; c > a; a++)(r = e[a]) && n.call(r, r.__data__, a, i) && t.push(r)
        }
        return A(u)
    }, _a.order = function() {
        for (var n = -1, t = this.length; ++n < t;)
            for (var e, r = this[n], u = r.length - 1, i = r[u]; --u >= 0;)(e = r[u]) && (i && i !== e.nextSibling && i.parentNode.insertBefore(e, i), i = e);
        return this
    }, _a.sort = function(n) {
        n = I.apply(this, arguments);
        for (var t = -1, e = this.length; ++t < e;) this[t].sort(n);
        return this.order()
    }, _a.each = function(n) {
        return Y(this, function(t, e, r) {
            n.call(t, t.__data__, e, r)
        })
    }, _a.call = function(n) {
        var t = ra(arguments);
        return n.apply(t[0] = this, t), this
    }, _a.empty = function() {
        return !this.node()
    }, _a.node = function() {
        for (var n = 0, t = this.length; t > n; n++)
            for (var e = this[n], r = 0, u = e.length; u > r; r++) {
                var i = e[r];
                if (i) return i
            }
        return null
    }, _a.size = function() {
        var n = 0;
        return Y(this, function() {
            ++n
        }), n
    };
    var Sa = [];
    ta.selection.enter = Z, ta.selection.enter.prototype = Sa, Sa.append = _a.append, Sa.empty = _a.empty, Sa.node = _a.node, Sa.call = _a.call, Sa.size = _a.size, Sa.select = function(n) {
        for (var t, e, r, u, i, o = [], a = -1, c = this.length; ++a < c;) {
            r = (u = this[a]).update, o.push(t = []), t.parentNode = u.parentNode;
            for (var l = -1, s = u.length; ++l < s;)(i = u[l]) ? (t.push(r[l] = e = n.call(u.parentNode, i.__data__, l, a)), e.__data__ = i.__data__) : t.push(null)
        }
        return A(o)
    }, Sa.insert = function(n, t) {
        return arguments.length < 2 && (t = V(this)), _a.insert.call(this, n, t)
    }, ta.select = function(t) {
        var e;
        return "string" == typeof t ? (e = [Ma(t, ua)], e.parentNode = ua.documentElement) : (e = [t], e.parentNode = n(t)), A([e])
    }, ta.selectAll = function(n) {
        var t;
        return "string" == typeof n ? (t = ra(xa(n, ua)), t.parentNode = ua.documentElement) : (t = n, t.parentNode = null), A([t])
    }, _a.on = function(n, t, e) {
        var r = arguments.length;
        if (3 > r) {
            if ("string" != typeof n) {
                2 > r && (t = !1);
                for (e in n) this.each(X(e, n[e], t));
                return this
            }
            if (2 > r) return (r = this.node()["__on" + n]) && r._;
            e = !1
        }
        return this.each(X(n, t, e))
    };
    var ka = ta.map({
        mouseenter: "mouseover",
        mouseleave: "mouseout"
    });
    ua && ka.forEach(function(n) {
        "on" + n in ua && ka.remove(n)
    });
    var Ea, Aa = 0;
    ta.mouse = function(n) {
        return J(n, k())
    };
    var Na = this.navigator && /WebKit/.test(this.navigator.userAgent) ? -1 : 0;
    ta.touch = function(n, t, e) {
        if (arguments.length < 3 && (e = t, t = k().changedTouches), t)
            for (var r, u = 0, i = t.length; i > u; ++u)
                if ((r = t[u]).identifier === e) return J(n, r)
    }, ta.behavior.drag = function() {
        function n() {
            this.on("mousedown.drag", i).on("touchstart.drag", o)
        }

        function e(n, t, e, i, o) {
            return function() {
                function a() {
                    var n, e, r = t(h, v);
                    r && (n = r[0] - M[0], e = r[1] - M[1], p |= n | e, M = r, g({
                        type: "drag",
                        x: r[0] + l[0],
                        y: r[1] + l[1],
                        dx: n,
                        dy: e
                    }))
                }

                function c() {
                    t(h, v) && (m.on(i + d, null).on(o + d, null), y(p && ta.event.target === f), g({
                        type: "dragend"
                    }))
                }
                var l, s = this,
                    f = ta.event.target,
                    h = s.parentNode,
                    g = r.of(s, arguments),
                    p = 0,
                    v = n(),
                    d = ".drag" + (null == v ? "" : "-" + v),
                    m = ta.select(e(f)).on(i + d, a).on(o + d, c),
                    y = W(f),
                    M = t(h, v);
                u ? (l = u.apply(s, arguments), l = [l.x - M[0], l.y - M[1]]) : l = [0, 0], g({
                    type: "dragstart"
                })
            }
        }
        var r = E(n, "drag", "dragstart", "dragend"),
            u = null,
            i = e(b, ta.mouse, t, "mousemove", "mouseup"),
            o = e(G, ta.touch, y, "touchmove", "touchend");
        return n.origin = function(t) {
            return arguments.length ? (u = t, n) : u
        }, ta.rebind(n, r, "on")
    }, ta.touches = function(n, t) {
        return arguments.length < 2 && (t = k().touches), t ? ra(t).map(function(t) {
            var e = J(n, t);
            return e.identifier = t.identifier, e
        }) : []
    };
    var Ca = 1e-6,
        za = Ca * Ca,
        qa = Math.PI,
        La = 2 * qa,
        Ta = La - Ca,
        Ra = qa / 2,
        Da = qa / 180,
        Pa = 180 / qa,
        Ua = Math.SQRT2,
        ja = 2,
        Fa = 4;
    ta.interpolateZoom = function(n, t) {
        function e(n) {
            var t = n * y;
            if (m) {
                var e = rt(v),
                    o = i / (ja * h) * (e * ut(Ua * t + v) - et(v));
                return [r + o * l, u + o * s, i * e / rt(Ua * t + v)]
            }
            return [r + n * l, u + n * s, i * Math.exp(Ua * t)]
        }
        var r = n[0],
            u = n[1],
            i = n[2],
            o = t[0],
            a = t[1],
            c = t[2],
            l = o - r,
            s = a - u,
            f = l * l + s * s,
            h = Math.sqrt(f),
            g = (c * c - i * i + Fa * f) / (2 * i * ja * h),
            p = (c * c - i * i - Fa * f) / (2 * c * ja * h),
            v = Math.log(Math.sqrt(g * g + 1) - g),
            d = Math.log(Math.sqrt(p * p + 1) - p),
            m = d - v,
            y = (m || Math.log(c / i)) / Ua;
        return e.duration = 1e3 * y, e
    }, ta.behavior.zoom = function() {
        function n(n) {
            n.on(q, f).on(Oa + ".zoom", g).on("dblclick.zoom", p).on(R, h)
        }

        function e(n) {
            return [(n[0] - k.x) / k.k, (n[1] - k.y) / k.k]
        }

        function r(n) {
            return [n[0] * k.k + k.x, n[1] * k.k + k.y]
        }

        function u(n) {
            k.k = Math.max(N[0], Math.min(N[1], n))
        }

        function i(n, t) {
            t = r(t), k.x += n[0] - t[0], k.y += n[1] - t[1]
        }

        function o(t, e, r, o) {
            t.__chart__ = {
                x: k.x,
                y: k.y,
                k: k.k
            }, u(Math.pow(2, o)), i(d = e, r), t = ta.select(t), C > 0 && (t = t.transition().duration(C)), t.call(n.event)
        }

        function a() {
            b && b.domain(x.range().map(function(n) {
                return (n - k.x) / k.k
            }).map(x.invert)), w && w.domain(_.range().map(function(n) {
                return (n - k.y) / k.k
            }).map(_.invert))
        }

        function c(n) {
            z++ || n({
                type: "zoomstart"
            })
        }

        function l(n) {
            a(), n({
                type: "zoom",
                scale: k.k,
                translate: [k.x, k.y]
            })
        }

        function s(n) {
            --z || (n({
                type: "zoomend"
            }), d = null)
        }

        function f() {
            function n() {
                f = 1, i(ta.mouse(u), g), l(a)
            }

            function r() {
                h.on(L, null).on(T, null), p(f && ta.event.target === o), s(a)
            }
            var u = this,
                o = ta.event.target,
                a = D.of(u, arguments),
                f = 0,
                h = ta.select(t(u)).on(L, n).on(T, r),
                g = e(ta.mouse(u)),
                p = W(u);
            Dl.call(u), c(a)
        }

        function h() {
            function n() {
                var n = ta.touches(p);
                return g = k.k, n.forEach(function(n) {
                    n.identifier in d && (d[n.identifier] = e(n))
                }), n
            }

            function t() {
                var t = ta.event.target;
                ta.select(t).on(x, r).on(b, a), _.push(t);
                for (var e = ta.event.changedTouches, u = 0, i = e.length; i > u; ++u) d[e[u].identifier] = null;
                var c = n(),
                    l = Date.now();
                if (1 === c.length) {
                    if (500 > l - M) {
                        var s = c[0];
                        o(p, s, d[s.identifier], Math.floor(Math.log(k.k) / Math.LN2) + 1), S()
                    }
                    M = l
                } else if (c.length > 1) {
                    var s = c[0],
                        f = c[1],
                        h = s[0] - f[0],
                        g = s[1] - f[1];
                    m = h * h + g * g
                }
            }

            function r() {
                var n, t, e, r, o = ta.touches(p);
                Dl.call(p);
                for (var a = 0, c = o.length; c > a; ++a, r = null)
                    if (e = o[a], r = d[e.identifier]) {
                        if (t) break;
                        n = e, t = r
                    }
                if (r) {
                    var s = (s = e[0] - n[0]) * s + (s = e[1] - n[1]) * s,
                        f = m && Math.sqrt(s / m);
                    n = [(n[0] + e[0]) / 2, (n[1] + e[1]) / 2], t = [(t[0] + r[0]) / 2, (t[1] + r[1]) / 2], u(f * g)
                }
                M = null, i(n, t), l(v)
            }

            function a() {
                if (ta.event.touches.length) {
                    for (var t = ta.event.changedTouches, e = 0, r = t.length; r > e; ++e) delete d[t[e].identifier];
                    for (var u in d) return void n()
                }
                ta.selectAll(_).on(y, null), w.on(q, f).on(R, h), E(), s(v)
            }
            var g, p = this,
                v = D.of(p, arguments),
                d = {},
                m = 0,
                y = ".zoom-" + ta.event.changedTouches[0].identifier,
                x = "touchmove" + y,
                b = "touchend" + y,
                _ = [],
                w = ta.select(p),
                E = W(p);
            t(), c(v), w.on(q, null).on(R, t)
        }

        function g() {
            var n = D.of(this, arguments);
            y ? clearTimeout(y) : (Dl.call(this), v = e(d = m || ta.mouse(this)), c(n)), y = setTimeout(function() {
                y = null, s(n)
            }, 50), S(), u(Math.pow(2, .002 * Ha()) * k.k), i(d, v), l(n)
        }

        function p() {
            var n = ta.mouse(this),
                t = Math.log(k.k) / Math.LN2;
            o(this, n, e(n), ta.event.shiftKey ? Math.ceil(t) - 1 : Math.floor(t) + 1)
        }
        var v, d, m, y, M, x, b, _, w, k = {
                x: 0,
                y: 0,
                k: 1
            },
            A = [960, 500],
            N = Ia,
            C = 250,
            z = 0,
            q = "mousedown.zoom",
            L = "mousemove.zoom",
            T = "mouseup.zoom",
            R = "touchstart.zoom",
            D = E(n, "zoomstart", "zoom", "zoomend");
        return Oa || (Oa = "onwheel" in ua ? (Ha = function() {
            return -ta.event.deltaY * (ta.event.deltaMode ? 120 : 1)
        }, "wheel") : "onmousewheel" in ua ? (Ha = function() {
            return ta.event.wheelDelta
        }, "mousewheel") : (Ha = function() {
            return -ta.event.detail
        }, "MozMousePixelScroll")), n.event = function(n) {
            n.each(function() {
                var n = D.of(this, arguments),
                    t = k;
                Tl ? ta.select(this).transition().each("start.zoom", function() {
                    k = this.__chart__ || {
                        x: 0,
                        y: 0,
                        k: 1
                    }, c(n)
                }).tween("zoom:zoom", function() {
                    var e = A[0],
                        r = A[1],
                        u = d ? d[0] : e / 2,
                        i = d ? d[1] : r / 2,
                        o = ta.interpolateZoom([(u - k.x) / k.k, (i - k.y) / k.k, e / k.k], [(u - t.x) / t.k, (i - t.y) / t.k, e / t.k]);
                    return function(t) {
                        var r = o(t),
                            a = e / r[2];
                        this.__chart__ = k = {
                            x: u - r[0] * a,
                            y: i - r[1] * a,
                            k: a
                        }, l(n)
                    }
                }).each("interrupt.zoom", function() {
                    s(n)
                }).each("end.zoom", function() {
                    s(n)
                }) : (this.__chart__ = k, c(n), l(n), s(n))
            })
        }, n.translate = function(t) {
            return arguments.length ? (k = {
                x: +t[0],
                y: +t[1],
                k: k.k
            }, a(), n) : [k.x, k.y]
        }, n.scale = function(t) {
            return arguments.length ? (k = {
                x: k.x,
                y: k.y,
                k: +t
            }, a(), n) : k.k
        }, n.scaleExtent = function(t) {
            return arguments.length ? (N = null == t ? Ia : [+t[0], +t[1]], n) : N
        }, n.center = function(t) {
            return arguments.length ? (m = t && [+t[0], +t[1]], n) : m
        }, n.size = function(t) {
            return arguments.length ? (A = t && [+t[0], +t[1]], n) : A
        }, n.duration = function(t) {
            return arguments.length ? (C = +t, n) : C
        }, n.x = function(t) {
            return arguments.length ? (b = t, x = t.copy(), k = {
                x: 0,
                y: 0,
                k: 1
            }, n) : b
        }, n.y = function(t) {
            return arguments.length ? (w = t, _ = t.copy(), k = {
                x: 0,
                y: 0,
                k: 1
            }, n) : w
        }, ta.rebind(n, D, "on")
    };
    var Ha, Oa, Ia = [0, 1 / 0];
    ta.color = ot, ot.prototype.toString = function() {
        return this.rgb() + ""
    }, ta.hsl = at;
    var Ya = at.prototype = new ot;
    Ya.brighter = function(n) {
        return n = Math.pow(.7, arguments.length ? n : 1), new at(this.h, this.s, this.l / n)
    }, Ya.darker = function(n) {
        return n = Math.pow(.7, arguments.length ? n : 1), new at(this.h, this.s, n * this.l)
    }, Ya.rgb = function() {
        return ct(this.h, this.s, this.l)
    }, ta.hcl = lt;
    var Za = lt.prototype = new ot;
    Za.brighter = function(n) {
        return new lt(this.h, this.c, Math.min(100, this.l + Va * (arguments.length ? n : 1)))
    }, Za.darker = function(n) {
        return new lt(this.h, this.c, Math.max(0, this.l - Va * (arguments.length ? n : 1)))
    }, Za.rgb = function() {
        return st(this.h, this.c, this.l).rgb()
    }, ta.lab = ft;
    var Va = 18,
        Xa = .95047,
        $a = 1,
        Ba = 1.08883,
        Wa = ft.prototype = new ot;
    Wa.brighter = function(n) {
        return new ft(Math.min(100, this.l + Va * (arguments.length ? n : 1)), this.a, this.b)
    }, Wa.darker = function(n) {
        return new ft(Math.max(0, this.l - Va * (arguments.length ? n : 1)), this.a, this.b)
    }, Wa.rgb = function() {
        return ht(this.l, this.a, this.b)
    }, ta.rgb = mt;
    var Ja = mt.prototype = new ot;
    Ja.brighter = function(n) {
        n = Math.pow(.7, arguments.length ? n : 1);
        var t = this.r,
            e = this.g,
            r = this.b,
            u = 30;
        return t || e || r ? (t && u > t && (t = u), e && u > e && (e = u), r && u > r && (r = u), new mt(Math.min(255, t / n), Math.min(255, e / n), Math.min(255, r / n))) : new mt(u, u, u)
    }, Ja.darker = function(n) {
        return n = Math.pow(.7, arguments.length ? n : 1), new mt(n * this.r, n * this.g, n * this.b)
    }, Ja.hsl = function() {
        return _t(this.r, this.g, this.b)
    }, Ja.toString = function() {
        return "#" + xt(this.r) + xt(this.g) + xt(this.b)
    };
    var Ga = ta.map({
        aliceblue: 15792383,
        antiquewhite: 16444375,
        aqua: 65535,
        aquamarine: 8388564,
        azure: 15794175,
        beige: 16119260,
        bisque: 16770244,
        black: 0,
        blanchedalmond: 16772045,
        blue: 255,
        blueviolet: 9055202,
        brown: 10824234,
        burlywood: 14596231,
        cadetblue: 6266528,
        chartreuse: 8388352,
        chocolate: 13789470,
        coral: 16744272,
        cornflowerblue: 6591981,
        cornsilk: 16775388,
        crimson: 14423100,
        cyan: 65535,
        darkblue: 139,
        darkcyan: 35723,
        darkgoldenrod: 12092939,
        darkgray: 11119017,
        darkgreen: 25600,
        darkgrey: 11119017,
        darkkhaki: 12433259,
        darkmagenta: 9109643,
        darkolivegreen: 5597999,
        darkorange: 16747520,
        darkorchid: 10040012,
        darkred: 9109504,
        darksalmon: 15308410,
        darkseagreen: 9419919,
        darkslateblue: 4734347,
        darkslategray: 3100495,
        darkslategrey: 3100495,
        darkturquoise: 52945,
        darkviolet: 9699539,
        deeppink: 16716947,
        deepskyblue: 49151,
        dimgray: 6908265,
        dimgrey: 6908265,
        dodgerblue: 2003199,
        firebrick: 11674146,
        floralwhite: 16775920,
        forestgreen: 2263842,
        fuchsia: 16711935,
        gainsboro: 14474460,
        ghostwhite: 16316671,
        gold: 16766720,
        goldenrod: 14329120,
        gray: 8421504,
        green: 32768,
        greenyellow: 11403055,
        grey: 8421504,
        honeydew: 15794160,
        hotpink: 16738740,
        indianred: 13458524,
        indigo: 4915330,
        ivory: 16777200,
        khaki: 15787660,
        lavender: 15132410,
        lavenderblush: 16773365,
        lawngreen: 8190976,
        lemonchiffon: 16775885,
        lightblue: 11393254,
        lightcoral: 15761536,
        lightcyan: 14745599,
        lightgoldenrodyellow: 16448210,
        lightgray: 13882323,
        lightgreen: 9498256,
        lightgrey: 13882323,
        lightpink: 16758465,
        lightsalmon: 16752762,
        lightseagreen: 2142890,
        lightskyblue: 8900346,
        lightslategray: 7833753,
        lightslategrey: 7833753,
        lightsteelblue: 11584734,
        lightyellow: 16777184,
        lime: 65280,
        limegreen: 3329330,
        linen: 16445670,
        magenta: 16711935,
        maroon: 8388608,
        mediumaquamarine: 6737322,
        mediumblue: 205,
        mediumorchid: 12211667,
        mediumpurple: 9662683,
        mediumseagreen: 3978097,
        mediumslateblue: 8087790,
        mediumspringgreen: 64154,
        mediumturquoise: 4772300,
        mediumvioletred: 13047173,
        midnightblue: 1644912,
        mintcream: 16121850,
        mistyrose: 16770273,
        moccasin: 16770229,
        navajowhite: 16768685,
        navy: 128,
        oldlace: 16643558,
        olive: 8421376,
        olivedrab: 7048739,
        orange: 16753920,
        orangered: 16729344,
        orchid: 14315734,
        palegoldenrod: 15657130,
        palegreen: 10025880,
        paleturquoise: 11529966,
        palevioletred: 14381203,
        papayawhip: 16773077,
        peachpuff: 16767673,
        peru: 13468991,
        pink: 16761035,
        plum: 14524637,
        powderblue: 11591910,
        purple: 8388736,
        rebeccapurple: 6697881,
        red: 16711680,
        rosybrown: 12357519,
        royalblue: 4286945,
        saddlebrown: 9127187,
        salmon: 16416882,
        sandybrown: 16032864,
        seagreen: 3050327,
        seashell: 16774638,
        sienna: 10506797,
        silver: 12632256,
        skyblue: 8900331,
        slateblue: 6970061,
        slategray: 7372944,
        slategrey: 7372944,
        snow: 16775930,
        springgreen: 65407,
        steelblue: 4620980,
        tan: 13808780,
        teal: 32896,
        thistle: 14204888,
        tomato: 16737095,
        turquoise: 4251856,
        violet: 15631086,
        wheat: 16113331,
        white: 16777215,
        whitesmoke: 16119285,
        yellow: 16776960,
        yellowgreen: 10145074
    });
    Ga.forEach(function(n, t) {
        Ga.set(n, yt(t))
    }), ta.functor = Et, ta.xhr = At(y), ta.dsv = function(n, t) {
        function e(n, e, i) {
            arguments.length < 3 && (i = e, e = null);
            var o = Nt(n, t, null == e ? r : u(e), i);
            return o.row = function(n) {
                return arguments.length ? o.response(null == (e = n) ? r : u(n)) : e
            }, o
        }

        function r(n) {
            return e.parse(n.responseText)
        }

        function u(n) {
            return function(t) {
                return e.parse(t.responseText, n)
            }
        }

        function i(t) {
            return t.map(o).join(n)
        }

        function o(n) {
            return a.test(n) ? '"' + n.replace(/\"/g, '""') + '"' : n
        }
        var a = new RegExp('["' + n + "\n]"),
            c = n.charCodeAt(0);
        return e.parse = function(n, t) {
            var r;
            return e.parseRows(n, function(n, e) {
                if (r) return r(n, e - 1);
                var u = new Function("d", "return {" + n.map(function(n, t) {
                    return JSON.stringify(n) + ": d[" + t + "]"
                }).join(",") + "}");
                r = t ? function(n, e) {
                    return t(u(n), e)
                } : u
            })
        }, e.parseRows = function(n, t) {
            function e() {
                if (s >= l) return o;
                if (u) return u = !1, i;
                var t = s;
                if (34 === n.charCodeAt(t)) {
                    for (var e = t; e++ < l;)
                        if (34 === n.charCodeAt(e)) {
                            if (34 !== n.charCodeAt(e + 1)) break;
                            ++e
                        }
                    s = e + 2;
                    var r = n.charCodeAt(e + 1);
                    return 13 === r ? (u = !0, 10 === n.charCodeAt(e + 2) && ++s) : 10 === r && (u = !0), n.slice(t + 1, e).replace(/""/g, '"')
                }
                for (; l > s;) {
                    var r = n.charCodeAt(s++),
                        a = 1;
                    if (10 === r) u = !0;
                    else if (13 === r) u = !0, 10 === n.charCodeAt(s) && (++s, ++a);
                    else if (r !== c) continue;
                    return n.slice(t, s - a)
                }
                return n.slice(t)
            }
            for (var r, u, i = {}, o = {}, a = [], l = n.length, s = 0, f = 0;
                (r = e()) !== o;) {
                for (var h = []; r !== i && r !== o;) h.push(r), r = e();
                t && null == (h = t(h, f++)) || a.push(h)
            }
            return a
        }, e.format = function(t) {
            if (Array.isArray(t[0])) return e.formatRows(t);
            var r = new m,
                u = [];
            return t.forEach(function(n) {
                for (var t in n) r.has(t) || u.push(r.add(t))
            }), [u.map(o).join(n)].concat(t.map(function(t) {
                return u.map(function(n) {
                    return o(t[n])
                }).join(n)
            })).join("\n")
        }, e.formatRows = function(n) {
            return n.map(i).join("\n")
        }, e
    }, ta.csv = ta.dsv(",", "text/csv"), ta.tsv = ta.dsv("	", "text/tab-separated-values");
    var Ka, Qa, nc, tc, ec, rc = this[x(this, "requestAnimationFrame")] || function(n) {
        setTimeout(n, 17)
    };
    ta.timer = function(n, t, e) {
        var r = arguments.length;
        2 > r && (t = 0), 3 > r && (e = Date.now());
        var u = e + t,
            i = {
                c: n,
                t: u,
                f: !1,
                n: null
            };
        Qa ? Qa.n = i : Ka = i, Qa = i, nc || (tc = clearTimeout(tc), nc = 1, rc(qt))
    }, ta.timer.flush = function() {
        Lt(), Tt()
    }, ta.round = function(n, t) {
        return t ? Math.round(n * (t = Math.pow(10, t))) / t : Math.round(n)
    };
    var uc = ["y", "z", "a", "f", "p", "n", "\xb5", "m", "", "k", "M", "G", "T", "P", "E", "Z", "Y"].map(Dt);
    ta.formatPrefix = function(n, t) {
        var e = 0;
        return n && (0 > n && (n *= -1), t && (n = ta.round(n, Rt(n, t))), e = 1 + Math.floor(1e-12 + Math.log(n) / Math.LN10), e = Math.max(-24, Math.min(24, 3 * Math.floor((e - 1) / 3)))), uc[8 + e / 3]
    };
    var ic = /(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,
        oc = ta.map({
            b: function(n) {
                return n.toString(2)
            },
            c: function(n) {
                return String.fromCharCode(n)
            },
            o: function(n) {
                return n.toString(8)
            },
            x: function(n) {
                return n.toString(16)
            },
            X: function(n) {
                return n.toString(16).toUpperCase()
            },
            g: function(n, t) {
                return n.toPrecision(t)
            },
            e: function(n, t) {
                return n.toExponential(t)
            },
            f: function(n, t) {
                return n.toFixed(t)
            },
            r: function(n, t) {
                return (n = ta.round(n, Rt(n, t))).toFixed(Math.max(0, Math.min(20, Rt(n * (1 + 1e-15), t))))
            }
        }),
        ac = ta.time = {},
        cc = Date;
    jt.prototype = {
        getDate: function() {
            return this._.getUTCDate()
        },
        getDay: function() {
            return this._.getUTCDay()
        },
        getFullYear: function() {
            return this._.getUTCFullYear()
        },
        getHours: function() {
            return this._.getUTCHours()
        },
        getMilliseconds: function() {
            return this._.getUTCMilliseconds()
        },
        getMinutes: function() {
            return this._.getUTCMinutes()
        },
        getMonth: function() {
            return this._.getUTCMonth()
        },
        getSeconds: function() {
            return this._.getUTCSeconds()
        },
        getTime: function() {
            return this._.getTime()
        },
        getTimezoneOffset: function() {
            return 0
        },
        valueOf: function() {
            return this._.valueOf()
        },
        setDate: function() {
            lc.setUTCDate.apply(this._, arguments)
        },
        setDay: function() {
            lc.setUTCDay.apply(this._, arguments)
        },
        setFullYear: function() {
            lc.setUTCFullYear.apply(this._, arguments)
        },
        setHours: function() {
            lc.setUTCHours.apply(this._, arguments)
        },
        setMilliseconds: function() {
            lc.setUTCMilliseconds.apply(this._, arguments)
        },
        setMinutes: function() {
            lc.setUTCMinutes.apply(this._, arguments)
        },
        setMonth: function() {
            lc.setUTCMonth.apply(this._, arguments)
        },
        setSeconds: function() {
            lc.setUTCSeconds.apply(this._, arguments)
        },
        setTime: function() {
            lc.setTime.apply(this._, arguments)
        }
    };
    var lc = Date.prototype;
    ac.year = Ft(function(n) {
        return n = ac.day(n), n.setMonth(0, 1), n
    }, function(n, t) {
        n.setFullYear(n.getFullYear() + t)
    }, function(n) {
        return n.getFullYear()
    }), ac.years = ac.year.range, ac.years.utc = ac.year.utc.range, ac.day = Ft(function(n) {
        var t = new cc(2e3, 0);
        return t.setFullYear(n.getFullYear(), n.getMonth(), n.getDate()), t
    }, function(n, t) {
        n.setDate(n.getDate() + t)
    }, function(n) {
        return n.getDate() - 1
    }), ac.days = ac.day.range, ac.days.utc = ac.day.utc.range, ac.dayOfYear = function(n) {
        var t = ac.year(n);
        return Math.floor((n - t - 6e4 * (n.getTimezoneOffset() - t.getTimezoneOffset())) / 864e5)
    }, ["sunday", "monday", "tuesday", "wednesday", "thursday", "friday", "saturday"].forEach(function(n, t) {
        t = 7 - t;
        var e = ac[n] = Ft(function(n) {
            return (n = ac.day(n)).setDate(n.getDate() - (n.getDay() + t) % 7), n
        }, function(n, t) {
            n.setDate(n.getDate() + 7 * Math.floor(t))
        }, function(n) {
            var e = ac.year(n).getDay();
            return Math.floor((ac.dayOfYear(n) + (e + t) % 7) / 7) - (e !== t)
        });
        ac[n + "s"] = e.range, ac[n + "s"].utc = e.utc.range, ac[n + "OfYear"] = function(n) {
            var e = ac.year(n).getDay();
            return Math.floor((ac.dayOfYear(n) + (e + t) % 7) / 7)
        }
    }), ac.week = ac.sunday, ac.weeks = ac.sunday.range, ac.weeks.utc = ac.sunday.utc.range, ac.weekOfYear = ac.sundayOfYear;
    var sc = {
            "-": "",
            _: " ",
            0: "0"
        },
        fc = /^\s*\d+/,
        hc = /^%/;
    ta.locale = function(n) {
        return {
            numberFormat: Pt(n),
            timeFormat: Ot(n)
        }
    };
    var gc = ta.locale({
        decimal: ".",
        thousands: ",",
        grouping: [3],
        currency: ["$", ""],
        dateTime: "%a %b %e %X %Y",
        date: "%m/%d/%Y",
        time: "%H:%M:%S",
        periods: ["AM", "PM"],
        days: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
        shortDays: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
        months: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
        shortMonths: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"]
    });
    ta.format = gc.numberFormat, ta.geo = {}, ce.prototype = {
        s: 0,
        t: 0,
        add: function(n) {
            le(n, this.t, pc), le(pc.s, this.s, this), this.s ? this.t += pc.t : this.s = pc.t
        },
        reset: function() {
            this.s = this.t = 0
        },
        valueOf: function() {
            return this.s
        }
    };
    var pc = new ce;
    ta.geo.stream = function(n, t) {
        n && vc.hasOwnProperty(n.type) ? vc[n.type](n, t) : se(n, t)
    };
    var vc = {
            Feature: function(n, t) {
                se(n.geometry, t)
            },
            FeatureCollection: function(n, t) {
                for (var e = n.features, r = -1, u = e.length; ++r < u;) se(e[r].geometry, t)
            }
        },
        dc = {
            Sphere: function(n, t) {
                t.sphere()
            },
            Point: function(n, t) {
                n = n.coordinates, t.point(n[0], n[1], n[2])
            },
            MultiPoint: function(n, t) {
                for (var e = n.coordinates, r = -1, u = e.length; ++r < u;) n = e[r], t.point(n[0], n[1], n[2])
            },
            LineString: function(n, t) {
                fe(n.coordinates, t, 0)
            },
            MultiLineString: function(n, t) {
                for (var e = n.coordinates, r = -1, u = e.length; ++r < u;) fe(e[r], t, 0)
            },
            Polygon: function(n, t) {
                he(n.coordinates, t)
            },
            MultiPolygon: function(n, t) {
                for (var e = n.coordinates, r = -1, u = e.length; ++r < u;) he(e[r], t)
            },
            GeometryCollection: function(n, t) {
                for (var e = n.geometries, r = -1, u = e.length; ++r < u;) se(e[r], t)
            }
        };
    ta.geo.area = function(n) {
        return mc = 0, ta.geo.stream(n, Mc), mc
    };
    var mc, yc = new ce,
        Mc = {
            sphere: function() {
                mc += 4 * qa
            },
            point: b,
            lineStart: b,
            lineEnd: b,
            polygonStart: function() {
                yc.reset(), Mc.lineStart = ge
            },
            polygonEnd: function() {
                var n = 2 * yc;
                mc += 0 > n ? 4 * qa + n : n, Mc.lineStart = Mc.lineEnd = Mc.point = b
            }
        };
    ta.geo.bounds = function() {
        function n(n, t) {
            M.push(x = [s = n, h = n]), f > t && (f = t), t > g && (g = t)
        }

        function t(t, e) {
            var r = pe([t * Da, e * Da]);
            if (m) {
                var u = de(m, r),
                    i = [u[1], -u[0], 0],
                    o = de(i, u);
                Me(o), o = xe(o);
                var c = t - p,
                    l = c > 0 ? 1 : -1,
                    v = o[0] * Pa * l,
                    d = ga(c) > 180;
                if (d ^ (v > l * p && l * t > v)) {
                    var y = o[1] * Pa;
                    y > g && (g = y)
                } else if (v = (v + 360) % 360 - 180, d ^ (v > l * p && l * t > v)) {
                    var y = -o[1] * Pa;
                    f > y && (f = y)
                } else f > e && (f = e), e > g && (g = e);
                d ? p > t ? a(s, t) > a(s, h) && (h = t) : a(t, h) > a(s, h) && (s = t) : h >= s ? (s > t && (s = t), t > h && (h = t)) : t > p ? a(s, t) > a(s, h) && (h = t) : a(t, h) > a(s, h) && (s = t)
            } else n(t, e);
            m = r, p = t
        }

        function e() {
            b.point = t
        }

        function r() {
            x[0] = s, x[1] = h, b.point = n, m = null
        }

        function u(n, e) {
            if (m) {
                var r = n - p;
                y += ga(r) > 180 ? r + (r > 0 ? 360 : -360) : r
            } else v = n, d = e;
            Mc.point(n, e), t(n, e)
        }

        function i() {
            Mc.lineStart()
        }

        function o() {
            u(v, d), Mc.lineEnd(), ga(y) > Ca && (s = -(h = 180)), x[0] = s, x[1] = h, m = null
        }

        function a(n, t) {
            return (t -= n) < 0 ? t + 360 : t
        }

        function c(n, t) {
            return n[0] - t[0]
        }

        function l(n, t) {
            return t[0] <= t[1] ? t[0] <= n && n <= t[1] : n < t[0] || t[1] < n
        }
        var s, f, h, g, p, v, d, m, y, M, x, b = {
            point: n,
            lineStart: e,
            lineEnd: r,
            polygonStart: function() {
                b.point = u, b.lineStart = i, b.lineEnd = o, y = 0, Mc.polygonStart()
            },
            polygonEnd: function() {
                Mc.polygonEnd(), b.point = n, b.lineStart = e, b.lineEnd = r, 0 > yc ? (s = -(h = 180), f = -(g = 90)) : y > Ca ? g = 90 : -Ca > y && (f = -90), x[0] = s, x[1] = h
            }
        };
        return function(n) {
            g = h = -(s = f = 1 / 0), M = [], ta.geo.stream(n, b);
            var t = M.length;
            if (t) {
                M.sort(c);
                for (var e, r = 1, u = M[0], i = [u]; t > r; ++r) e = M[r], l(e[0], u) || l(e[1], u) ? (a(u[0], e[1]) > a(u[0], u[1]) && (u[1] = e[1]), a(e[0], u[1]) > a(u[0], u[1]) && (u[0] = e[0])) : i.push(u = e);
                for (var o, e, p = -1 / 0, t = i.length - 1, r = 0, u = i[t]; t >= r; u = e, ++r) e = i[r], (o = a(u[1], e[0])) > p && (p = o, s = e[0], h = u[1])
            }
            return M = x = null, 1 / 0 === s || 1 / 0 === f ? [
                [0 / 0, 0 / 0],
                [0 / 0, 0 / 0]
            ] : [
                [s, f],
                [h, g]
            ]
        }
    }(), ta.geo.centroid = function(n) {
        xc = bc = _c = wc = Sc = kc = Ec = Ac = Nc = Cc = zc = 0, ta.geo.stream(n, qc);
        var t = Nc,
            e = Cc,
            r = zc,
            u = t * t + e * e + r * r;
        return za > u && (t = kc, e = Ec, r = Ac, Ca > bc && (t = _c, e = wc, r = Sc), u = t * t + e * e + r * r, za > u) ? [0 / 0, 0 / 0] : [Math.atan2(e, t) * Pa, tt(r / Math.sqrt(u)) * Pa]
    };
    var xc, bc, _c, wc, Sc, kc, Ec, Ac, Nc, Cc, zc, qc = {
            sphere: b,
            point: _e,
            lineStart: Se,
            lineEnd: ke,
            polygonStart: function() {
                qc.lineStart = Ee
            },
            polygonEnd: function() {
                qc.lineStart = Se
            }
        },
        Lc = Le(Ne, Pe, je, [-qa, -qa / 2]),
        Tc = 1e9;
    ta.geo.clipExtent = function() {
        var n, t, e, r, u, i, o = {
            stream: function(n) {
                return u && (u.valid = !1), u = i(n), u.valid = !0, u
            },
            extent: function(a) {
                return arguments.length ? (i = Ie(n = +a[0][0], t = +a[0][1], e = +a[1][0], r = +a[1][1]), u && (u.valid = !1, u = null), o) : [
                    [n, t],
                    [e, r]
                ]
            }
        };
        return o.extent([
            [0, 0],
            [960, 500]
        ])
    }, (ta.geo.conicEqualArea = function() {
        return Ye(Ze)
    }).raw = Ze, ta.geo.albers = function() {
        return ta.geo.conicEqualArea().rotate([96, 0]).center([-.6, 38.7]).parallels([29.5, 45.5]).scale(1070)
    }, ta.geo.albersUsa = function() {
        function n(n) {
            var i = n[0],
                o = n[1];
            return t = null, e(i, o), t || (r(i, o), t) || u(i, o), t
        }
        var t, e, r, u, i = ta.geo.albers(),
            o = ta.geo.conicEqualArea().rotate([154, 0]).center([-2, 58.5]).parallels([55, 65]),
            a = ta.geo.conicEqualArea().rotate([157, 0]).center([-3, 19.9]).parallels([8, 18]),
            c = {
                point: function(n, e) {
                    t = [n, e]
                }
            };
        return n.invert = function(n) {
            var t = i.scale(),
                e = i.translate(),
                r = (n[0] - e[0]) / t,
                u = (n[1] - e[1]) / t;
            return (u >= .12 && .234 > u && r >= -.425 && -.214 > r ? o : u >= .166 && .234 > u && r >= -.214 && -.115 > r ? a : i).invert(n)
        }, n.stream = function(n) {
            var t = i.stream(n),
                e = o.stream(n),
                r = a.stream(n);
            return {
                point: function(n, u) {
                    t.point(n, u), e.point(n, u), r.point(n, u)
                },
                sphere: function() {
                    t.sphere(), e.sphere(), r.sphere()
                },
                lineStart: function() {
                    t.lineStart(), e.lineStart(), r.lineStart()
                },
                lineEnd: function() {
                    t.lineEnd(), e.lineEnd(), r.lineEnd()
                },
                polygonStart: function() {
                    t.polygonStart(), e.polygonStart(), r.polygonStart()
                },
                polygonEnd: function() {
                    t.polygonEnd(), e.polygonEnd(), r.polygonEnd()
                }
            }
        }, n.precision = function(t) {
            return arguments.length ? (i.precision(t), o.precision(t), a.precision(t), n) : i.precision()
        }, n.scale = function(t) {
            return arguments.length ? (i.scale(t), o.scale(.35 * t), a.scale(t), n.translate(i.translate())) : i.scale()
        }, n.translate = function(t) {
            if (!arguments.length) return i.translate();
            var l = i.scale(),
                s = +t[0],
                f = +t[1];
            return e = i.translate(t).clipExtent([
                [s - .455 * l, f - .238 * l],
                [s + .455 * l, f + .238 * l]
            ]).stream(c).point, r = o.translate([s - .307 * l, f + .201 * l]).clipExtent([
                [s - .425 * l + Ca, f + .12 * l + Ca],
                [s - .214 * l - Ca, f + .234 * l - Ca]
            ]).stream(c).point, u = a.translate([s - .205 * l, f + .212 * l]).clipExtent([
                [s - .214 * l + Ca, f + .166 * l + Ca],
                [s - .115 * l - Ca, f + .234 * l - Ca]
            ]).stream(c).point, n
        }, n.scale(1070)
    };
    var Rc, Dc, Pc, Uc, jc, Fc, Hc = {
            point: b,
            lineStart: b,
            lineEnd: b,
            polygonStart: function() {
                Dc = 0, Hc.lineStart = Ve
            },
            polygonEnd: function() {
                Hc.lineStart = Hc.lineEnd = Hc.point = b, Rc += ga(Dc / 2)
            }
        },
        Oc = {
            point: Xe,
            lineStart: b,
            lineEnd: b,
            polygonStart: b,
            polygonEnd: b
        },
        Ic = {
            point: We,
            lineStart: Je,
            lineEnd: Ge,
            polygonStart: function() {
                Ic.lineStart = Ke
            },
            polygonEnd: function() {
                Ic.point = We, Ic.lineStart = Je, Ic.lineEnd = Ge
            }
        };
    ta.geo.path = function() {
        function n(n) {
            return n && ("function" == typeof a && i.pointRadius(+a.apply(this, arguments)), o && o.valid || (o = u(i)), ta.geo.stream(n, o)), i.result()
        }

        function t() {
            return o = null, n
        }
        var e, r, u, i, o, a = 4.5;
        return n.area = function(n) {
            return Rc = 0, ta.geo.stream(n, u(Hc)), Rc
        }, n.centroid = function(n) {
            return _c = wc = Sc = kc = Ec = Ac = Nc = Cc = zc = 0, ta.geo.stream(n, u(Ic)), zc ? [Nc / zc, Cc / zc] : Ac ? [kc / Ac, Ec / Ac] : Sc ? [_c / Sc, wc / Sc] : [0 / 0, 0 / 0]
        }, n.bounds = function(n) {
            return jc = Fc = -(Pc = Uc = 1 / 0), ta.geo.stream(n, u(Oc)), [
                [Pc, Uc],
                [jc, Fc]
            ]
        }, n.projection = function(n) {
            return arguments.length ? (u = (e = n) ? n.stream || tr(n) : y, t()) : e
        }, n.context = function(n) {
            return arguments.length ? (i = null == (r = n) ? new $e : new Qe(n), "function" != typeof a && i.pointRadius(a), t()) : r
        }, n.pointRadius = function(t) {
            return arguments.length ? (a = "function" == typeof t ? t : (i.pointRadius(+t), +t), n) : a
        }, n.projection(ta.geo.albersUsa()).context(null)
    }, ta.geo.transform = function(n) {
        return {
            stream: function(t) {
                var e = new er(t);
                for (var r in n) e[r] = n[r];
                return e
            }
        }
    }, er.prototype = {
        point: function(n, t) {
            this.stream.point(n, t)
        },
        sphere: function() {
            this.stream.sphere()
        },
        lineStart: function() {
            this.stream.lineStart()
        },
        lineEnd: function() {
            this.stream.lineEnd()
        },
        polygonStart: function() {
            this.stream.polygonStart()
        },
        polygonEnd: function() {
            this.stream.polygonEnd()
        }
    }, ta.geo.projection = ur, ta.geo.projectionMutator = ir, (ta.geo.equirectangular = function() {
        return ur(ar)
    }).raw = ar.invert = ar, ta.geo.rotation = function(n) {
        function t(t) {
            return t = n(t[0] * Da, t[1] * Da), t[0] *= Pa, t[1] *= Pa, t
        }
        return n = lr(n[0] % 360 * Da, n[1] * Da, n.length > 2 ? n[2] * Da : 0), t.invert = function(t) {
            return t = n.invert(t[0] * Da, t[1] * Da), t[0] *= Pa, t[1] *= Pa, t
        }, t
    }, cr.invert = ar, ta.geo.circle = function() {
        function n() {
            var n = "function" == typeof r ? r.apply(this, arguments) : r,
                t = lr(-n[0] * Da, -n[1] * Da, 0).invert,
                u = [];
            return e(null, null, 1, {
                point: function(n, e) {
                    u.push(n = t(n, e)), n[0] *= Pa, n[1] *= Pa
                }
            }), {
                type: "Polygon",
                coordinates: [u]
            }
        }
        var t, e, r = [0, 0],
            u = 6;
        return n.origin = function(t) {
            return arguments.length ? (r = t, n) : r
        }, n.angle = function(r) {
            return arguments.length ? (e = gr((t = +r) * Da, u * Da), n) : t
        }, n.precision = function(r) {
            return arguments.length ? (e = gr(t * Da, (u = +r) * Da), n) : u
        }, n.angle(90)
    }, ta.geo.distance = function(n, t) {
        var e, r = (t[0] - n[0]) * Da,
            u = n[1] * Da,
            i = t[1] * Da,
            o = Math.sin(r),
            a = Math.cos(r),
            c = Math.sin(u),
            l = Math.cos(u),
            s = Math.sin(i),
            f = Math.cos(i);
        return Math.atan2(Math.sqrt((e = f * o) * e + (e = l * s - c * f * a) * e), c * s + l * f * a)
    }, ta.geo.graticule = function() {
        function n() {
            return {
                type: "MultiLineString",
                coordinates: t()
            }
        }

        function t() {
            return ta.range(Math.ceil(i / d) * d, u, d).map(h).concat(ta.range(Math.ceil(l / m) * m, c, m).map(g)).concat(ta.range(Math.ceil(r / p) * p, e, p).filter(function(n) {
                return ga(n % d) > Ca
            }).map(s)).concat(ta.range(Math.ceil(a / v) * v, o, v).filter(function(n) {
                return ga(n % m) > Ca
            }).map(f))
        }
        var e, r, u, i, o, a, c, l, s, f, h, g, p = 10,
            v = p,
            d = 90,
            m = 360,
            y = 2.5;
        return n.lines = function() {
            return t().map(function(n) {
                return {
                    type: "LineString",
                    coordinates: n
                }
            })
        }, n.outline = function() {
            return {
                type: "Polygon",
                coordinates: [h(i).concat(g(c).slice(1), h(u).reverse().slice(1), g(l).reverse().slice(1))]
            }
        }, n.extent = function(t) {
            return arguments.length ? n.majorExtent(t).minorExtent(t) : n.minorExtent()
        }, n.majorExtent = function(t) {
            return arguments.length ? (i = +t[0][0], u = +t[1][0], l = +t[0][1], c = +t[1][1], i > u && (t = i, i = u, u = t), l > c && (t = l, l = c, c = t), n.precision(y)) : [
                [i, l],
                [u, c]
            ]
        }, n.minorExtent = function(t) {
            return arguments.length ? (r = +t[0][0], e = +t[1][0], a = +t[0][1], o = +t[1][1], r > e && (t = r, r = e, e = t), a > o && (t = a, a = o, o = t), n.precision(y)) : [
                [r, a],
                [e, o]
            ]
        }, n.step = function(t) {
            return arguments.length ? n.majorStep(t).minorStep(t) : n.minorStep()
        }, n.majorStep = function(t) {
            return arguments.length ? (d = +t[0], m = +t[1], n) : [d, m]
        }, n.minorStep = function(t) {
            return arguments.length ? (p = +t[0], v = +t[1], n) : [p, v]
        }, n.precision = function(t) {
            return arguments.length ? (y = +t, s = vr(a, o, 90), f = dr(r, e, y), h = vr(l, c, 90), g = dr(i, u, y), n) : y
        }, n.majorExtent([
            [-180, -90 + Ca],
            [180, 90 - Ca]
        ]).minorExtent([
            [-180, -80 - Ca],
            [180, 80 + Ca]
        ])
    }, ta.geo.greatArc = function() {
        function n() {
            return {
                type: "LineString",
                coordinates: [t || r.apply(this, arguments), e || u.apply(this, arguments)]
            }
        }
        var t, e, r = mr,
            u = yr;
        return n.distance = function() {
            return ta.geo.distance(t || r.apply(this, arguments), e || u.apply(this, arguments))
        }, n.source = function(e) {
            return arguments.length ? (r = e, t = "function" == typeof e ? null : e, n) : r
        }, n.target = function(t) {
            return arguments.length ? (u = t, e = "function" == typeof t ? null : t, n) : u
        }, n.precision = function() {
            return arguments.length ? n : 0
        }, n
    }, ta.geo.interpolate = function(n, t) {
        return Mr(n[0] * Da, n[1] * Da, t[0] * Da, t[1] * Da)
    }, ta.geo.length = function(n) {
        return Yc = 0, ta.geo.stream(n, Zc), Yc
    };
    var Yc, Zc = {
            sphere: b,
            point: b,
            lineStart: xr,
            lineEnd: b,
            polygonStart: b,
            polygonEnd: b
        },
        Vc = br(function(n) {
            return Math.sqrt(2 / (1 + n))
        }, function(n) {
            return 2 * Math.asin(n / 2)
        });
    (ta.geo.azimuthalEqualArea = function() {
        return ur(Vc)
    }).raw = Vc;
    var Xc = br(function(n) {
        var t = Math.acos(n);
        return t && t / Math.sin(t)
    }, y);
    (ta.geo.azimuthalEquidistant = function() {
        return ur(Xc)
    }).raw = Xc, (ta.geo.conicConformal = function() {
        return Ye(_r)
    }).raw = _r, (ta.geo.conicEquidistant = function() {
        return Ye(wr)
    }).raw = wr;
    var $c = br(function(n) {
        return 1 / n
    }, Math.atan);
    (ta.geo.gnomonic = function() {
        return ur($c)
    }).raw = $c, Sr.invert = function(n, t) {
        return [n, 2 * Math.atan(Math.exp(t)) - Ra]
    }, (ta.geo.mercator = function() {
        return kr(Sr)
    }).raw = Sr;
    var Bc = br(function() {
        return 1
    }, Math.asin);
    (ta.geo.orthographic = function() {
        return ur(Bc)
    }).raw = Bc;
    var Wc = br(function(n) {
        return 1 / (1 + n)
    }, function(n) {
        return 2 * Math.atan(n)
    });
    (ta.geo.stereographic = function() {
        return ur(Wc)
    }).raw = Wc, Er.invert = function(n, t) {
        return [-t, 2 * Math.atan(Math.exp(n)) - Ra]
    }, (ta.geo.transverseMercator = function() {
        var n = kr(Er),
            t = n.center,
            e = n.rotate;
        return n.center = function(n) {
            return n ? t([-n[1], n[0]]) : (n = t(), [n[1], -n[0]])
        }, n.rotate = function(n) {
            return n ? e([n[0], n[1], n.length > 2 ? n[2] + 90 : 90]) : (n = e(), [n[0], n[1], n[2] - 90])
        }, e([0, 0, 90])
    }).raw = Er, ta.geom = {}, ta.geom.hull = function(n) {
        function t(n) {
            if (n.length < 3) return [];
            var t, u = Et(e),
                i = Et(r),
                o = n.length,
                a = [],
                c = [];
            for (t = 0; o > t; t++) a.push([+u.call(this, n[t], t), +i.call(this, n[t], t), t]);
            for (a.sort(zr), t = 0; o > t; t++) c.push([a[t][0], -a[t][1]]);
            var l = Cr(a),
                s = Cr(c),
                f = s[0] === l[0],
                h = s[s.length - 1] === l[l.length - 1],
                g = [];
            for (t = l.length - 1; t >= 0; --t) g.push(n[a[l[t]][2]]);
            for (t = +f; t < s.length - h; ++t) g.push(n[a[s[t]][2]]);
            return g
        }
        var e = Ar,
            r = Nr;
        return arguments.length ? t(n) : (t.x = function(n) {
            return arguments.length ? (e = n, t) : e
        }, t.y = function(n) {
            return arguments.length ? (r = n, t) : r
        }, t)
    }, ta.geom.polygon = function(n) {
        return ya(n, Jc), n
    };
    var Jc = ta.geom.polygon.prototype = [];
    Jc.area = function() {
        for (var n, t = -1, e = this.length, r = this[e - 1], u = 0; ++t < e;) n = r, r = this[t], u += n[1] * r[0] - n[0] * r[1];
        return .5 * u
    }, Jc.centroid = function(n) {
        var t, e, r = -1,
            u = this.length,
            i = 0,
            o = 0,
            a = this[u - 1];
        for (arguments.length || (n = -1 / (6 * this.area())); ++r < u;) t = a, a = this[r], e = t[0] * a[1] - a[0] * t[1], i += (t[0] + a[0]) * e, o += (t[1] + a[1]) * e;
        return [i * n, o * n]
    }, Jc.clip = function(n) {
        for (var t, e, r, u, i, o, a = Tr(n), c = -1, l = this.length - Tr(this), s = this[l - 1]; ++c < l;) {
            for (t = n.slice(), n.length = 0, u = this[c], i = t[(r = t.length - a) - 1], e = -1; ++e < r;) o = t[e], qr(o, s, u) ? (qr(i, s, u) || n.push(Lr(i, o, s, u)), n.push(o)) : qr(i, s, u) && n.push(Lr(i, o, s, u)), i = o;
            a && n.push(n[0]), s = u
        }
        return n
    };
    var Gc, Kc, Qc, nl, tl, el = [],
        rl = [];
    Or.prototype.prepare = function() {
        for (var n, t = this.edges, e = t.length; e--;) n = t[e].edge, n.b && n.a || t.splice(e, 1);
        return t.sort(Yr), t.length
    }, Qr.prototype = {
        start: function() {
            return this.edge.l === this.site ? this.edge.a : this.edge.b
        },
        end: function() {
            return this.edge.l === this.site ? this.edge.b : this.edge.a
        }
    }, nu.prototype = {
        insert: function(n, t) {
            var e, r, u;
            if (n) {
                if (t.P = n, t.N = n.N, n.N && (n.N.P = t), n.N = t, n.R) {
                    for (n = n.R; n.L;) n = n.L;
                    n.L = t
                } else n.R = t;
                e = n
            } else this._ ? (n = uu(this._), t.P = null, t.N = n, n.P = n.L = t, e = n) : (t.P = t.N = null, this._ = t, e = null);
            for (t.L = t.R = null, t.U = e, t.C = !0, n = t; e && e.C;) r = e.U, e === r.L ? (u = r.R, u && u.C ? (e.C = u.C = !1, r.C = !0, n = r) : (n === e.R && (eu(this, e), n = e, e = n.U), e.C = !1, r.C = !0, ru(this, r))) : (u = r.L, u && u.C ? (e.C = u.C = !1, r.C = !0, n = r) : (n === e.L && (ru(this, e), n = e, e = n.U), e.C = !1, r.C = !0, eu(this, r))), e = n.U;
            this._.C = !1
        },
        remove: function(n) {
            n.N && (n.N.P = n.P), n.P && (n.P.N = n.N), n.N = n.P = null;
            var t, e, r, u = n.U,
                i = n.L,
                o = n.R;
            if (e = i ? o ? uu(o) : i : o, u ? u.L === n ? u.L = e : u.R = e : this._ = e, i && o ? (r = e.C, e.C = n.C, e.L = i, i.U = e, e !== o ? (u = e.U, e.U = n.U, n = e.R, u.L = n, e.R = o, o.U = e) : (e.U = u, u = e, n = e.R)) : (r = n.C, n = e), n && (n.U = u), !r) {
                if (n && n.C) return void(n.C = !1);
                do {
                    if (n === this._) break;
                    if (n === u.L) {
                        if (t = u.R, t.C && (t.C = !1, u.C = !0, eu(this, u), t = u.R), t.L && t.L.C || t.R && t.R.C) {
                            t.R && t.R.C || (t.L.C = !1, t.C = !0, ru(this, t), t = u.R), t.C = u.C, u.C = t.R.C = !1, eu(this, u), n = this._;
                            break
                        }
                    } else if (t = u.L, t.C && (t.C = !1, u.C = !0, ru(this, u), t = u.L), t.L && t.L.C || t.R && t.R.C) {
                        t.L && t.L.C || (t.R.C = !1, t.C = !0, eu(this, t), t = u.L), t.C = u.C, u.C = t.L.C = !1, ru(this, u), n = this._;
                        break
                    }
                    t.C = !0, n = u, u = u.U
                } while (!n.C);
                n && (n.C = !1)
            }
        }
    }, ta.geom.voronoi = function(n) {
        function t(n) {
            var t = new Array(n.length),
                r = a[0][0],
                u = a[0][1],
                i = a[1][0],
                o = a[1][1];
            return iu(e(n), a).cells.forEach(function(e, a) {
                var c = e.edges,
                    l = e.site,
                    s = t[a] = c.length ? c.map(function(n) {
                        var t = n.start();
                        return [t.x, t.y]
                    }) : l.x >= r && l.x <= i && l.y >= u && l.y <= o ? [
                        [r, o],
                        [i, o],
                        [i, u],
                        [r, u]
                    ] : [];
                s.point = n[a]
            }), t
        }

        function e(n) {
            return n.map(function(n, t) {
                return {
                    x: Math.round(i(n, t) / Ca) * Ca,
                    y: Math.round(o(n, t) / Ca) * Ca,
                    i: t
                }
            })
        }
        var r = Ar,
            u = Nr,
            i = r,
            o = u,
            a = ul;
        return n ? t(n) : (t.links = function(n) {
            return iu(e(n)).edges.filter(function(n) {
                return n.l && n.r
            }).map(function(t) {
                return {
                    source: n[t.l.i],
                    target: n[t.r.i]
                }
            })
        }, t.triangles = function(n) {
            var t = [];
            return iu(e(n)).cells.forEach(function(e, r) {
                for (var u, i, o = e.site, a = e.edges.sort(Yr), c = -1, l = a.length, s = a[l - 1].edge, f = s.l === o ? s.r : s.l; ++c < l;) u = s, i = f, s = a[c].edge, f = s.l === o ? s.r : s.l, r < i.i && r < f.i && au(o, i, f) < 0 && t.push([n[r], n[i.i], n[f.i]])
            }), t
        }, t.x = function(n) {
            return arguments.length ? (i = Et(r = n), t) : r
        }, t.y = function(n) {
            return arguments.length ? (o = Et(u = n), t) : u
        }, t.clipExtent = function(n) {
            return arguments.length ? (a = null == n ? ul : n, t) : a === ul ? null : a
        }, t.size = function(n) {
            return arguments.length ? t.clipExtent(n && [
                [0, 0], n
            ]) : a === ul ? null : a && a[1]
        }, t)
    };
    var ul = [
        [-1e6, -1e6],
        [1e6, 1e6]
    ];
    ta.geom.delaunay = function(n) {
        return ta.geom.voronoi().triangles(n)
    }, ta.geom.quadtree = function(n, t, e, r, u) {
        function i(n) {
            function i(n, t, e, r, u, i, o, a) {
                if (!isNaN(e) && !isNaN(r))
                    if (n.leaf) {
                        var c = n.x,
                            s = n.y;
                        if (null != c)
                            if (ga(c - e) + ga(s - r) < .01) l(n, t, e, r, u, i, o, a);
                            else {
                                var f = n.point;
                                n.x = n.y = n.point = null, l(n, f, c, s, u, i, o, a), l(n, t, e, r, u, i, o, a)
                            }
                        else n.x = e, n.y = r, n.point = t
                    } else l(n, t, e, r, u, i, o, a)
            }

            function l(n, t, e, r, u, o, a, c) {
                var l = .5 * (u + a),
                    s = .5 * (o + c),
                    f = e >= l,
                    h = r >= s,
                    g = h << 1 | f;
                n.leaf = !1, n = n.nodes[g] || (n.nodes[g] = su()), f ? u = l : a = l, h ? o = s : c = s, i(n, t, e, r, u, o, a, c)
            }
            var s, f, h, g, p, v, d, m, y, M = Et(a),
                x = Et(c);
            if (null != t) v = t, d = e, m = r, y = u;
            else if (m = y = -(v = d = 1 / 0), f = [], h = [], p = n.length, o)
                for (g = 0; p > g; ++g) s = n[g], s.x < v && (v = s.x), s.y < d && (d = s.y), s.x > m && (m = s.x), s.y > y && (y = s.y), f.push(s.x), h.push(s.y);
            else
                for (g = 0; p > g; ++g) {
                    var b = +M(s = n[g], g),
                        _ = +x(s, g);
                    v > b && (v = b), d > _ && (d = _), b > m && (m = b), _ > y && (y = _), f.push(b), h.push(_)
                }
            var w = m - v,
                S = y - d;
            w > S ? y = d + w : m = v + S;
            var k = su();
            if (k.add = function(n) {
                    i(k, n, +M(n, ++g), +x(n, g), v, d, m, y)
                }, k.visit = function(n) {
                    fu(n, k, v, d, m, y)
                }, k.find = function(n) {
                    return hu(k, n[0], n[1], v, d, m, y)
                }, g = -1, null == t) {
                for (; ++g < p;) i(k, n[g], f[g], h[g], v, d, m, y);
                --g
            } else n.forEach(k.add);
            return f = h = n = s = null, k
        }
        var o, a = Ar,
            c = Nr;
        return (o = arguments.length) ? (a = cu, c = lu, 3 === o && (u = e, r = t, e = t = 0), i(n)) : (i.x = function(n) {
            return arguments.length ? (a = n, i) : a
        }, i.y = function(n) {
            return arguments.length ? (c = n, i) : c
        }, i.extent = function(n) {
            return arguments.length ? (null == n ? t = e = r = u = null : (t = +n[0][0], e = +n[0][1], r = +n[1][0], u = +n[1][1]), i) : null == t ? null : [
                [t, e],
                [r, u]
            ]
        }, i.size = function(n) {
            return arguments.length ? (null == n ? t = e = r = u = null : (t = e = 0, r = +n[0], u = +n[1]), i) : null == t ? null : [r - t, u - e]
        }, i)
    }, ta.interpolateRgb = gu, ta.interpolateObject = pu, ta.interpolateNumber = vu, ta.interpolateString = du;
    var il = /[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,
        ol = new RegExp(il.source, "g");
    ta.interpolate = mu, ta.interpolators = [function(n, t) {
        var e = typeof t;
        return ("string" === e ? Ga.has(t.toLowerCase()) || /^(#|rgb\(|hsl\()/i.test(t) ? gu : du : t instanceof ot ? gu : Array.isArray(t) ? yu : "object" === e && isNaN(t) ? pu : vu)(n, t)
    }], ta.interpolateArray = yu;
    var al = function() {
            return y
        },
        cl = ta.map({
            linear: al,
            poly: ku,
            quad: function() {
                return _u
            },
            cubic: function() {
                return wu
            },
            sin: function() {
                return Eu
            },
            exp: function() {
                return Au
            },
            circle: function() {
                return Nu
            },
            elastic: Cu,
            back: zu,
            bounce: function() {
                return qu
            }
        }),
        ll = ta.map({
            "in": y,
            out: xu,
            "in-out": bu,
            "out-in": function(n) {
                return bu(xu(n))
            }
        });
    ta.ease = function(n) {
        var t = n.indexOf("-"),
            e = t >= 0 ? n.slice(0, t) : n,
            r = t >= 0 ? n.slice(t + 1) : "in";
        return e = cl.get(e) || al, r = ll.get(r) || y, Mu(r(e.apply(null, ea.call(arguments, 1))))
    }, ta.interpolateHcl = Lu, ta.interpolateHsl = Tu, ta.interpolateLab = Ru, ta.interpolateRound = Du, ta.transform = function(n) {
        var t = ua.createElementNS(ta.ns.prefix.svg, "g");
        return (ta.transform = function(n) {
            if (null != n) {
                t.setAttribute("transform", n);
                var e = t.transform.baseVal.consolidate()
            }
            return new Pu(e ? e.matrix : sl)
        })(n)
    }, Pu.prototype.toString = function() {
        return "translate(" + this.translate + ")rotate(" + this.rotate + ")skewX(" + this.skew + ")scale(" + this.scale + ")"
    };
    var sl = {
        a: 1,
        b: 0,
        c: 0,
        d: 1,
        e: 0,
        f: 0
    };
    ta.interpolateTransform = Hu, ta.layout = {}, ta.layout.bundle = function() {
        return function(n) {
            for (var t = [], e = -1, r = n.length; ++e < r;) t.push(Yu(n[e]));
            return t
        }
    }, ta.layout.chord = function() {
        function n() {
            var n, l, f, h, g, p = {},
                v = [],
                d = ta.range(i),
                m = [];
            for (e = [], r = [], n = 0, h = -1; ++h < i;) {
                for (l = 0, g = -1; ++g < i;) l += u[h][g];
                v.push(l), m.push(ta.range(i)), n += l
            }
            for (o && d.sort(function(n, t) {
                    return o(v[n], v[t])
                }), a && m.forEach(function(n, t) {
                    n.sort(function(n, e) {
                        return a(u[t][n], u[t][e])
                    })
                }), n = (La - s * i) / n, l = 0, h = -1; ++h < i;) {
                for (f = l, g = -1; ++g < i;) {
                    var y = d[h],
                        M = m[y][g],
                        x = u[y][M],
                        b = l,
                        _ = l += x * n;
                    p[y + "-" + M] = {
                        index: y,
                        subindex: M,
                        startAngle: b,
                        endAngle: _,
                        value: x
                    }
                }
                r[y] = {
                    index: y,
                    startAngle: f,
                    endAngle: l,
                    value: (l - f) / n
                }, l += s
            }
            for (h = -1; ++h < i;)
                for (g = h - 1; ++g < i;) {
                    var w = p[h + "-" + g],
                        S = p[g + "-" + h];
                    (w.value || S.value) && e.push(w.value < S.value ? {
                        source: S,
                        target: w
                    } : {
                        source: w,
                        target: S
                    })
                }
            c && t()
        }

        function t() {
            e.sort(function(n, t) {
                return c((n.source.value + n.target.value) / 2, (t.source.value + t.target.value) / 2)
            })
        }
        var e, r, u, i, o, a, c, l = {},
            s = 0;
        return l.matrix = function(n) {
            return arguments.length ? (i = (u = n) && u.length, e = r = null, l) : u
        }, l.padding = function(n) {
            return arguments.length ? (s = n, e = r = null, l) : s
        }, l.sortGroups = function(n) {
            return arguments.length ? (o = n, e = r = null, l) : o
        }, l.sortSubgroups = function(n) {
            return arguments.length ? (a = n, e = null, l) : a
        }, l.sortChords = function(n) {
            return arguments.length ? (c = n, e && t(), l) : c
        }, l.chords = function() {
            return e || n(), e
        }, l.groups = function() {
            return r || n(), r
        }, l
    }, ta.layout.force = function() {
        function n(n) {
            return function(t, e, r, u) {
                if (t.point !== n) {
                    var i = t.cx - n.x,
                        o = t.cy - n.y,
                        a = u - e,
                        c = i * i + o * o;
                    if (c > a * a / d) {
                        if (p > c) {
                            var l = t.charge / c;
                            n.px -= i * l, n.py -= o * l
                        }
                        return !0
                    }
                    if (t.point && c && p > c) {
                        var l = t.pointCharge / c;
                        n.px -= i * l, n.py -= o * l
                    }
                }
                return !t.charge
            }
        }

        function t(n) {
            n.px = ta.event.x, n.py = ta.event.y, a.resume()
        }
        var e, r, u, i, o, a = {},
            c = ta.dispatch("start", "tick", "end"),
            l = [1, 1],
            s = .9,
            f = fl,
            h = hl,
            g = -30,
            p = gl,
            v = .1,
            d = .64,
            m = [],
            M = [];
        return a.tick = function() {
            if ((r *= .99) < .005) return c.end({
                type: "end",
                alpha: r = 0
            }), !0;
            var t, e, a, f, h, p, d, y, x, b = m.length,
                _ = M.length;
            for (e = 0; _ > e; ++e) a = M[e], f = a.source, h = a.target, y = h.x - f.x, x = h.y - f.y, (p = y * y + x * x) && (p = r * i[e] * ((p = Math.sqrt(p)) - u[e]) / p, y *= p, x *= p, h.x -= y * (d = f.weight / (h.weight + f.weight)), h.y -= x * d, f.x += y * (d = 1 - d), f.y += x * d);
            if ((d = r * v) && (y = l[0] / 2, x = l[1] / 2, e = -1, d))
                for (; ++e < b;) a = m[e], a.x += (y - a.x) * d, a.y += (x - a.y) * d;
            if (g)
                for (Ju(t = ta.geom.quadtree(m), r, o), e = -1; ++e < b;)(a = m[e]).fixed || t.visit(n(a));
            for (e = -1; ++e < b;) a = m[e], a.fixed ? (a.x = a.px, a.y = a.py) : (a.x -= (a.px - (a.px = a.x)) * s, a.y -= (a.py - (a.py = a.y)) * s);
            c.tick({
                type: "tick",
                alpha: r
            })
        }, a.nodes = function(n) {
            return arguments.length ? (m = n, a) : m
        }, a.links = function(n) {
            return arguments.length ? (M = n, a) : M
        }, a.size = function(n) {
            return arguments.length ? (l = n, a) : l
        }, a.linkDistance = function(n) {
            return arguments.length ? (f = "function" == typeof n ? n : +n, a) : f
        }, a.distance = a.linkDistance, a.linkStrength = function(n) {
            return arguments.length ? (h = "function" == typeof n ? n : +n, a) : h
        }, a.friction = function(n) {
            return arguments.length ? (s = +n, a) : s
        }, a.charge = function(n) {
            return arguments.length ? (g = "function" == typeof n ? n : +n, a) : g
        }, a.chargeDistance = function(n) {
            return arguments.length ? (p = n * n, a) : Math.sqrt(p)
        }, a.gravity = function(n) {
            return arguments.length ? (v = +n, a) : v
        }, a.theta = function(n) {
            return arguments.length ? (d = n * n, a) : Math.sqrt(d)
        }, a.alpha = function(n) {
            return arguments.length ? (n = +n, r ? r = n > 0 ? n : 0 : n > 0 && (c.start({
                type: "start",
                alpha: r = n
            }), ta.timer(a.tick)), a) : r
        }, a.start = function() {
            function n(n, r) {
                if (!e) {
                    for (e = new Array(c), a = 0; c > a; ++a) e[a] = [];
                    for (a = 0; s > a; ++a) {
                        var u = M[a];
                        e[u.source.index].push(u.target), e[u.target.index].push(u.source)
                    }
                }
                for (var i, o = e[t], a = -1, l = o.length; ++a < l;)
                    if (!isNaN(i = o[a][n])) return i;
                return Math.random() * r
            }
            var t, e, r, c = m.length,
                s = M.length,
                p = l[0],
                v = l[1];
            for (t = 0; c > t; ++t)(r = m[t]).index = t, r.weight = 0;
            for (t = 0; s > t; ++t) r = M[t], "number" == typeof r.source && (r.source = m[r.source]), "number" == typeof r.target && (r.target = m[r.target]), ++r.source.weight, ++r.target.weight;
            for (t = 0; c > t; ++t) r = m[t], isNaN(r.x) && (r.x = n("x", p)), isNaN(r.y) && (r.y = n("y", v)), isNaN(r.px) && (r.px = r.x), isNaN(r.py) && (r.py = r.y);
            if (u = [], "function" == typeof f)
                for (t = 0; s > t; ++t) u[t] = +f.call(this, M[t], t);
            else
                for (t = 0; s > t; ++t) u[t] = f;
            if (i = [], "function" == typeof h)
                for (t = 0; s > t; ++t) i[t] = +h.call(this, M[t], t);
            else
                for (t = 0; s > t; ++t) i[t] = h;
            if (o = [], "function" == typeof g)
                for (t = 0; c > t; ++t) o[t] = +g.call(this, m[t], t);
            else
                for (t = 0; c > t; ++t) o[t] = g;
            return a.resume()
        }, a.resume = function() {
            return a.alpha(.1)
        }, a.stop = function() {
            return a.alpha(0)
        }, a.drag = function() {
            return e || (e = ta.behavior.drag().origin(y).on("dragstart.force", Xu).on("drag.force", t).on("dragend.force", $u)), arguments.length ? void this.on("mouseover.force", Bu).on("mouseout.force", Wu).call(e) : e
        }, ta.rebind(a, c, "on")
    };
    var fl = 20,
        hl = 1,
        gl = 1 / 0;
    ta.layout.hierarchy = function() {
        function n(u) {
            var i, o = [u],
                a = [];
            for (u.depth = 0; null != (i = o.pop());)
                if (a.push(i), (l = e.call(n, i, i.depth)) && (c = l.length)) {
                    for (var c, l, s; --c >= 0;) o.push(s = l[c]), s.parent = i, s.depth = i.depth + 1;
                    r && (i.value = 0), i.children = l
                } else r && (i.value = +r.call(n, i, i.depth) || 0), delete i.children;
            return Qu(u, function(n) {
                var e, u;
                t && (e = n.children) && e.sort(t), r && (u = n.parent) && (u.value += n.value)
            }), a
        }
        var t = ei,
            e = ni,
            r = ti;
        return n.sort = function(e) {
            return arguments.length ? (t = e, n) : t
        }, n.children = function(t) {
            return arguments.length ? (e = t, n) : e
        }, n.value = function(t) {
            return arguments.length ? (r = t, n) : r
        }, n.revalue = function(t) {
            return r && (Ku(t, function(n) {
                n.children && (n.value = 0)
            }), Qu(t, function(t) {
                var e;
                t.children || (t.value = +r.call(n, t, t.depth) || 0), (e = t.parent) && (e.value += t.value)
            })), t
        }, n
    }, ta.layout.partition = function() {
        function n(t, e, r, u) {
            var i = t.children;
            if (t.x = e, t.y = t.depth * u, t.dx = r, t.dy = u, i && (o = i.length)) {
                var o, a, c, l = -1;
                for (r = t.value ? r / t.value : 0; ++l < o;) n(a = i[l], e, c = a.value * r, u), e += c
            }
        }

        function t(n) {
            var e = n.children,
                r = 0;
            if (e && (u = e.length))
                for (var u, i = -1; ++i < u;) r = Math.max(r, t(e[i]));
            return 1 + r
        }

        function e(e, i) {
            var o = r.call(this, e, i);
            return n(o[0], 0, u[0], u[1] / t(o[0])), o
        }
        var r = ta.layout.hierarchy(),
            u = [1, 1];
        return e.size = function(n) {
            return arguments.length ? (u = n, e) : u
        }, Gu(e, r)
    }, ta.layout.pie = function() {
        function n(o) {
            var a, c = o.length,
                l = o.map(function(e, r) {
                    return +t.call(n, e, r)
                }),
                s = +("function" == typeof r ? r.apply(this, arguments) : r),
                f = ("function" == typeof u ? u.apply(this, arguments) : u) - s,
                h = Math.min(Math.abs(f) / c, +("function" == typeof i ? i.apply(this, arguments) : i)),
                g = h * (0 > f ? -1 : 1),
                p = (f - c * g) / ta.sum(l),
                v = ta.range(c),
                d = [];
            return null != e && v.sort(e === pl ? function(n, t) {
                return l[t] - l[n]
            } : function(n, t) {
                return e(o[n], o[t])
            }), v.forEach(function(n) {
                d[n] = {
                    data: o[n],
                    value: a = l[n],
                    startAngle: s,
                    endAngle: s += a * p + g,
                    padAngle: h
                }
            }), d
        }
        var t = Number,
            e = pl,
            r = 0,
            u = La,
            i = 0;
        return n.value = function(e) {
            return arguments.length ? (t = e, n) : t
        }, n.sort = function(t) {
            return arguments.length ? (e = t, n) : e
        }, n.startAngle = function(t) {
            return arguments.length ? (r = t, n) : r
        }, n.endAngle = function(t) {
            return arguments.length ? (u = t, n) : u
        }, n.padAngle = function(t) {
            return arguments.length ? (i = t, n) : i
        }, n
    };
    var pl = {};
    ta.layout.stack = function() {
        function n(a, c) {
            if (!(h = a.length)) return a;
            var l = a.map(function(e, r) {
                    return t.call(n, e, r)
                }),
                s = l.map(function(t) {
                    return t.map(function(t, e) {
                        return [i.call(n, t, e), o.call(n, t, e)]
                    })
                }),
                f = e.call(n, s, c);
            l = ta.permute(l, f), s = ta.permute(s, f);
            var h, g, p, v, d = r.call(n, s, c),
                m = l[0].length;
            for (p = 0; m > p; ++p)
                for (u.call(n, l[0][p], v = d[p], s[0][p][1]), g = 1; h > g; ++g) u.call(n, l[g][p], v += s[g - 1][p][1], s[g][p][1]);
            return a
        }
        var t = y,
            e = ai,
            r = ci,
            u = oi,
            i = ui,
            o = ii;
        return n.values = function(e) {
            return arguments.length ? (t = e, n) : t
        }, n.order = function(t) {
            return arguments.length ? (e = "function" == typeof t ? t : vl.get(t) || ai, n) : e
        }, n.offset = function(t) {
            return arguments.length ? (r = "function" == typeof t ? t : dl.get(t) || ci, n) : r
        }, n.x = function(t) {
            return arguments.length ? (i = t, n) : i
        }, n.y = function(t) {
            return arguments.length ? (o = t, n) : o
        }, n.out = function(t) {
            return arguments.length ? (u = t, n) : u
        }, n
    };
    var vl = ta.map({
            "inside-out": function(n) {
                var t, e, r = n.length,
                    u = n.map(li),
                    i = n.map(si),
                    o = ta.range(r).sort(function(n, t) {
                        return u[n] - u[t]
                    }),
                    a = 0,
                    c = 0,
                    l = [],
                    s = [];
                for (t = 0; r > t; ++t) e = o[t], c > a ? (a += i[e], l.push(e)) : (c += i[e], s.push(e));
                return s.reverse().concat(l)
            },
            reverse: function(n) {
                return ta.range(n.length).reverse()
            },
            "default": ai
        }),
        dl = ta.map({
            silhouette: function(n) {
                var t, e, r, u = n.length,
                    i = n[0].length,
                    o = [],
                    a = 0,
                    c = [];
                for (e = 0; i > e; ++e) {
                    for (t = 0, r = 0; u > t; t++) r += n[t][e][1];
                    r > a && (a = r), o.push(r)
                }
                for (e = 0; i > e; ++e) c[e] = (a - o[e]) / 2;
                return c
            },
            wiggle: function(n) {
                var t, e, r, u, i, o, a, c, l, s = n.length,
                    f = n[0],
                    h = f.length,
                    g = [];
                for (g[0] = c = l = 0, e = 1; h > e; ++e) {
                    for (t = 0, u = 0; s > t; ++t) u += n[t][e][1];
                    for (t = 0, i = 0, a = f[e][0] - f[e - 1][0]; s > t; ++t) {
                        for (r = 0, o = (n[t][e][1] - n[t][e - 1][1]) / (2 * a); t > r; ++r) o += (n[r][e][1] - n[r][e - 1][1]) / a;
                        i += o * n[t][e][1]
                    }
                    g[e] = c -= u ? i / u * a : 0, l > c && (l = c)
                }
                for (e = 0; h > e; ++e) g[e] -= l;
                return g
            },
            expand: function(n) {
                var t, e, r, u = n.length,
                    i = n[0].length,
                    o = 1 / u,
                    a = [];
                for (e = 0; i > e; ++e) {
                    for (t = 0, r = 0; u > t; t++) r += n[t][e][1];
                    if (r)
                        for (t = 0; u > t; t++) n[t][e][1] /= r;
                    else
                        for (t = 0; u > t; t++) n[t][e][1] = o
                }
                for (e = 0; i > e; ++e) a[e] = 0;
                return a
            },
            zero: ci
        });
    ta.layout.histogram = function() {
        function n(n, i) {
            for (var o, a, c = [], l = n.map(e, this), s = r.call(this, l, i), f = u.call(this, s, l, i), i = -1, h = l.length, g = f.length - 1, p = t ? 1 : 1 / h; ++i < g;) o = c[i] = [], o.dx = f[i + 1] - (o.x = f[i]), o.y = 0;
            if (g > 0)
                for (i = -1; ++i < h;) a = l[i], a >= s[0] && a <= s[1] && (o = c[ta.bisect(f, a, 1, g) - 1], o.y += p, o.push(n[i]));
            return c
        }
        var t = !0,
            e = Number,
            r = pi,
            u = hi;
        return n.value = function(t) {
            return arguments.length ? (e = t, n) : e
        }, n.range = function(t) {
            return arguments.length ? (r = Et(t), n) : r
        }, n.bins = function(t) {
            return arguments.length ? (u = "number" == typeof t ? function(n) {
                return gi(n, t)
            } : Et(t), n) : u
        }, n.frequency = function(e) {
            return arguments.length ? (t = !!e, n) : t
        }, n
    }, ta.layout.pack = function() {
        function n(n, i) {
            var o = e.call(this, n, i),
                a = o[0],
                c = u[0],
                l = u[1],
                s = null == t ? Math.sqrt : "function" == typeof t ? t : function() {
                    return t
                };
            if (a.x = a.y = 0, Qu(a, function(n) {
                    n.r = +s(n.value)
                }), Qu(a, Mi), r) {
                var f = r * (t ? 1 : Math.max(2 * a.r / c, 2 * a.r / l)) / 2;
                Qu(a, function(n) {
                    n.r += f
                }), Qu(a, Mi), Qu(a, function(n) {
                    n.r -= f
                })
            }
            return _i(a, c / 2, l / 2, t ? 1 : 1 / Math.max(2 * a.r / c, 2 * a.r / l)), o
        }
        var t, e = ta.layout.hierarchy().sort(vi),
            r = 0,
            u = [1, 1];
        return n.size = function(t) {
            return arguments.length ? (u = t, n) : u
        }, n.radius = function(e) {
            return arguments.length ? (t = null == e || "function" == typeof e ? e : +e, n) : t
        }, n.padding = function(t) {
            return arguments.length ? (r = +t, n) : r
        }, Gu(n, e)
    }, ta.layout.tree = function() {
        function n(n, u) {
            var s = o.call(this, n, u),
                f = s[0],
                h = t(f);
            if (Qu(h, e), h.parent.m = -h.z, Ku(h, r), l) Ku(f, i);
            else {
                var g = f,
                    p = f,
                    v = f;
                Ku(f, function(n) {
                    n.x < g.x && (g = n), n.x > p.x && (p = n), n.depth > v.depth && (v = n)
                });
                var d = a(g, p) / 2 - g.x,
                    m = c[0] / (p.x + a(p, g) / 2 + d),
                    y = c[1] / (v.depth || 1);
                Ku(f, function(n) {
                    n.x = (n.x + d) * m, n.y = n.depth * y
                })
            }
            return s
        }

        function t(n) {
            for (var t, e = {
                    A: null,
                    children: [n]
                }, r = [e]; null != (t = r.pop());)
                for (var u, i = t.children, o = 0, a = i.length; a > o; ++o) r.push((i[o] = u = {
                    _: i[o],
                    parent: t,
                    children: (u = i[o].children) && u.slice() || [],
                    A: null,
                    a: null,
                    z: 0,
                    m: 0,
                    c: 0,
                    s: 0,
                    t: null,
                    i: o
                }).a = u);
            return e.children[0]
        }

        function e(n) {
            var t = n.children,
                e = n.parent.children,
                r = n.i ? e[n.i - 1] : null;
            if (t.length) {
                Ni(n);
                var i = (t[0].z + t[t.length - 1].z) / 2;
                r ? (n.z = r.z + a(n._, r._), n.m = n.z - i) : n.z = i
            } else r && (n.z = r.z + a(n._, r._));
            n.parent.A = u(n, r, n.parent.A || e[0])
        }

        function r(n) {
            n._.x = n.z + n.parent.m, n.m += n.parent.m
        }

        function u(n, t, e) {
            if (t) {
                for (var r, u = n, i = n, o = t, c = u.parent.children[0], l = u.m, s = i.m, f = o.m, h = c.m; o = Ei(o), u = ki(u), o && u;) c = ki(c), i = Ei(i), i.a = n, r = o.z + f - u.z - l + a(o._, u._), r > 0 && (Ai(Ci(o, n, e), n, r), l += r, s += r), f += o.m, l += u.m, h += c.m, s += i.m;
                o && !Ei(i) && (i.t = o, i.m += f - s), u && !ki(c) && (c.t = u, c.m += l - h, e = n)
            }
            return e
        }

        function i(n) {
            n.x *= c[0], n.y = n.depth * c[1]
        }
        var o = ta.layout.hierarchy().sort(null).value(null),
            a = Si,
            c = [1, 1],
            l = null;
        return n.separation = function(t) {
            return arguments.length ? (a = t, n) : a
        }, n.size = function(t) {
            return arguments.length ? (l = null == (c = t) ? i : null, n) : l ? null : c
        }, n.nodeSize = function(t) {
            return arguments.length ? (l = null == (c = t) ? null : i, n) : l ? c : null
        }, Gu(n, o)
    }, ta.layout.cluster = function() {
        function n(n, i) {
            var o, a = t.call(this, n, i),
                c = a[0],
                l = 0;
            Qu(c, function(n) {
                var t = n.children;
                t && t.length ? (n.x = qi(t), n.y = zi(t)) : (n.x = o ? l += e(n, o) : 0, n.y = 0, o = n)
            });
            var s = Li(c),
                f = Ti(c),
                h = s.x - e(s, f) / 2,
                g = f.x + e(f, s) / 2;
            return Qu(c, u ? function(n) {
                n.x = (n.x - c.x) * r[0], n.y = (c.y - n.y) * r[1]
            } : function(n) {
                n.x = (n.x - h) / (g - h) * r[0], n.y = (1 - (c.y ? n.y / c.y : 1)) * r[1]
            }), a
        }
        var t = ta.layout.hierarchy().sort(null).value(null),
            e = Si,
            r = [1, 1],
            u = !1;
        return n.separation = function(t) {
            return arguments.length ? (e = t, n) : e
        }, n.size = function(t) {
            return arguments.length ? (u = null == (r = t), n) : u ? null : r
        }, n.nodeSize = function(t) {
            return arguments.length ? (u = null != (r = t), n) : u ? r : null
        }, Gu(n, t)
    }, ta.layout.treemap = function() {
        function n(n, t) {
            for (var e, r, u = -1, i = n.length; ++u < i;) r = (e = n[u]).value * (0 > t ? 0 : t), e.area = isNaN(r) || 0 >= r ? 0 : r
        }

        function t(e) {
            var i = e.children;
            if (i && i.length) {
                var o, a, c, l = f(e),
                    s = [],
                    h = i.slice(),
                    p = 1 / 0,
                    v = "slice" === g ? l.dx : "dice" === g ? l.dy : "slice-dice" === g ? 1 & e.depth ? l.dy : l.dx : Math.min(l.dx, l.dy);
                for (n(h, l.dx * l.dy / e.value), s.area = 0;
                    (c = h.length) > 0;) s.push(o = h[c - 1]), s.area += o.area, "squarify" !== g || (a = r(s, v)) <= p ? (h.pop(), p = a) : (s.area -= s.pop().area, u(s, v, l, !1), v = Math.min(l.dx, l.dy), s.length = s.area = 0, p = 1 / 0);
                s.length && (u(s, v, l, !0), s.length = s.area = 0), i.forEach(t)
            }
        }

        function e(t) {
            var r = t.children;
            if (r && r.length) {
                var i, o = f(t),
                    a = r.slice(),
                    c = [];
                for (n(a, o.dx * o.dy / t.value), c.area = 0; i = a.pop();) c.push(i), c.area += i.area, null != i.z && (u(c, i.z ? o.dx : o.dy, o, !a.length), c.length = c.area = 0);
                r.forEach(e)
            }
        }

        function r(n, t) {
            for (var e, r = n.area, u = 0, i = 1 / 0, o = -1, a = n.length; ++o < a;)(e = n[o].area) && (i > e && (i = e), e > u && (u = e));
            return r *= r, t *= t, r ? Math.max(t * u * p / r, r / (t * i * p)) : 1 / 0
        }

        function u(n, t, e, r) {
            var u, i = -1,
                o = n.length,
                a = e.x,
                l = e.y,
                s = t ? c(n.area / t) : 0;
            if (t == e.dx) {
                for ((r || s > e.dy) && (s = e.dy); ++i < o;) u = n[i], u.x = a, u.y = l, u.dy = s, a += u.dx = Math.min(e.x + e.dx - a, s ? c(u.area / s) : 0);
                u.z = !0, u.dx += e.x + e.dx - a, e.y += s, e.dy -= s
            } else {
                for ((r || s > e.dx) && (s = e.dx); ++i < o;) u = n[i], u.x = a, u.y = l, u.dx = s, l += u.dy = Math.min(e.y + e.dy - l, s ? c(u.area / s) : 0);
                u.z = !1, u.dy += e.y + e.dy - l, e.x += s, e.dx -= s
            }
        }

        function i(r) {
            var u = o || a(r),
                i = u[0];
            return i.x = 0, i.y = 0, i.dx = l[0], i.dy = l[1], o && a.revalue(i), n([i], i.dx * i.dy / i.value), (o ? e : t)(i), h && (o = u), u
        }
        var o, a = ta.layout.hierarchy(),
            c = Math.round,
            l = [1, 1],
            s = null,
            f = Ri,
            h = !1,
            g = "squarify",
            p = .5 * (1 + Math.sqrt(5));
        return i.size = function(n) {
            return arguments.length ? (l = n, i) : l
        }, i.padding = function(n) {
            function t(t) {
                var e = n.call(i, t, t.depth);
                return null == e ? Ri(t) : Di(t, "number" == typeof e ? [e, e, e, e] : e)
            }

            function e(t) {
                return Di(t, n)
            }
            if (!arguments.length) return s;
            var r;
            return f = null == (s = n) ? Ri : "function" == (r = typeof n) ? t : "number" === r ? (n = [n, n, n, n], e) : e, i
        }, i.round = function(n) {
            return arguments.length ? (c = n ? Math.round : Number, i) : c != Number
        }, i.sticky = function(n) {
            return arguments.length ? (h = n, o = null, i) : h
        }, i.ratio = function(n) {
            return arguments.length ? (p = n, i) : p
        }, i.mode = function(n) {
            return arguments.length ? (g = n + "", i) : g
        }, Gu(i, a)
    }, ta.random = {
        normal: function(n, t) {
            var e = arguments.length;
            return 2 > e && (t = 1), 1 > e && (n = 0),
                function() {
                    var e, r, u;
                    do e = 2 * Math.random() - 1, r = 2 * Math.random() - 1, u = e * e + r * r; while (!u || u > 1);
                    return n + t * e * Math.sqrt(-2 * Math.log(u) / u)
                }
        },
        logNormal: function() {
            var n = ta.random.normal.apply(ta, arguments);
            return function() {
                return Math.exp(n())
            }
        },
        bates: function(n) {
            var t = ta.random.irwinHall(n);
            return function() {
                return t() / n
            }
        },
        irwinHall: function(n) {
            return function() {
                for (var t = 0, e = 0; n > e; e++) t += Math.random();
                return t
            }
        }
    }, ta.scale = {};
    var ml = {
        floor: y,
        ceil: y
    };
    ta.scale.linear = function() {
        return Ii([0, 1], [0, 1], mu, !1)
    };
    var yl = {
        s: 1,
        g: 1,
        p: 1,
        r: 1,
        e: 1
    };
    ta.scale.log = function() {
        return Ji(ta.scale.linear().domain([0, 1]), 10, !0, [1, 10])
    };
    var Ml = ta.format(".0e"),
        xl = {
            floor: function(n) {
                return -Math.ceil(-n)
            },
            ceil: function(n) {
                return -Math.floor(-n)
            }
        };
    ta.scale.pow = function() {
        return Gi(ta.scale.linear(), 1, [0, 1])
    }, ta.scale.sqrt = function() {
        return ta.scale.pow().exponent(.5)
    }, ta.scale.ordinal = function() {
        return Qi([], {
            t: "range",
            a: [
                []
            ]
        })
    }, ta.scale.category10 = function() {
        return ta.scale.ordinal().range(bl)
    }, ta.scale.category20 = function() {
        return ta.scale.ordinal().range(_l)
    }, ta.scale.category20b = function() {
        return ta.scale.ordinal().range(wl)
    }, ta.scale.category20c = function() {
        return ta.scale.ordinal().range(Sl)
    };
    var bl = [2062260, 16744206, 2924588, 14034728, 9725885, 9197131, 14907330, 8355711, 12369186, 1556175].map(Mt),
        _l = [2062260, 11454440, 16744206, 16759672, 2924588, 10018698, 14034728, 16750742, 9725885, 12955861, 9197131, 12885140, 14907330, 16234194, 8355711, 13092807, 12369186, 14408589, 1556175, 10410725].map(Mt),
        wl = [3750777, 5395619, 7040719, 10264286, 6519097, 9216594, 11915115, 13556636, 9202993, 12426809, 15186514, 15190932, 8666169, 11356490, 14049643, 15177372, 8077683, 10834324, 13528509, 14589654].map(Mt),
        Sl = [3244733, 7057110, 10406625, 13032431, 15095053, 16616764, 16625259, 16634018, 3253076, 7652470, 10607003, 13101504, 7695281, 10394312, 12369372, 14342891, 6513507, 9868950, 12434877, 14277081].map(Mt);
    ta.scale.quantile = function() {
        return no([], [])
    }, ta.scale.quantize = function() {
        return to(0, 1, [0, 1])
    }, ta.scale.threshold = function() {
        return eo([.5], [0, 1])
    }, ta.scale.identity = function() {
        return ro([0, 1])
    }, ta.svg = {}, ta.svg.arc = function() {
        function n() {
            var n = Math.max(0, +e.apply(this, arguments)),
                l = Math.max(0, +r.apply(this, arguments)),
                s = o.apply(this, arguments) - Ra,
                f = a.apply(this, arguments) - Ra,
                h = Math.abs(f - s),
                g = s > f ? 0 : 1;
            if (n > l && (p = l, l = n, n = p), h >= Ta) return t(l, g) + (n ? t(n, 1 - g) : "") + "Z";
            var p, v, d, m, y, M, x, b, _, w, S, k, E = 0,
                A = 0,
                N = [];
            if ((m = (+c.apply(this, arguments) || 0) / 2) && (d = i === kl ? Math.sqrt(n * n + l * l) : +i.apply(this, arguments), g || (A *= -1), l && (A = tt(d / l * Math.sin(m))), n && (E = tt(d / n * Math.sin(m)))), l) {
                y = l * Math.cos(s + A), M = l * Math.sin(s + A), x = l * Math.cos(f - A), b = l * Math.sin(f - A);
                var C = Math.abs(f - s - 2 * A) <= qa ? 0 : 1;
                if (A && so(y, M, x, b) === g ^ C) {
                    var z = (s + f) / 2;
                    y = l * Math.cos(z), M = l * Math.sin(z), x = b = null
                }
            } else y = M = 0;
            if (n) {
                _ = n * Math.cos(f - E), w = n * Math.sin(f - E), S = n * Math.cos(s + E), k = n * Math.sin(s + E);
                var q = Math.abs(s - f + 2 * E) <= qa ? 0 : 1;
                if (E && so(_, w, S, k) === 1 - g ^ q) {
                    var L = (s + f) / 2;
                    _ = n * Math.cos(L), w = n * Math.sin(L), S = k = null
                }
            } else _ = w = 0;
            if ((p = Math.min(Math.abs(l - n) / 2, +u.apply(this, arguments))) > .001) {
                v = l > n ^ g ? 0 : 1;
                var T = null == S ? [_, w] : null == x ? [y, M] : Lr([y, M], [S, k], [x, b], [_, w]),
                    R = y - T[0],
                    D = M - T[1],
                    P = x - T[0],
                    U = b - T[1],
                    j = 1 / Math.sin(Math.acos((R * P + D * U) / (Math.sqrt(R * R + D * D) * Math.sqrt(P * P + U * U))) / 2),
                    F = Math.sqrt(T[0] * T[0] + T[1] * T[1]);
                if (null != x) {
                    var H = Math.min(p, (l - F) / (j + 1)),
                        O = fo(null == S ? [_, w] : [S, k], [y, M], l, H, g),
                        I = fo([x, b], [_, w], l, H, g);
                    p === H ? N.push("M", O[0], "A", H, ",", H, " 0 0,", v, " ", O[1], "A", l, ",", l, " 0 ", 1 - g ^ so(O[1][0], O[1][1], I[1][0], I[1][1]), ",", g, " ", I[1], "A", H, ",", H, " 0 0,", v, " ", I[0]) : N.push("M", O[0], "A", H, ",", H, " 0 1,", v, " ", I[0])
                } else N.push("M", y, ",", M);
                if (null != S) {
                    var Y = Math.min(p, (n - F) / (j - 1)),
                        Z = fo([y, M], [S, k], n, -Y, g),
                        V = fo([_, w], null == x ? [y, M] : [x, b], n, -Y, g);
                    p === Y ? N.push("L", V[0], "A", Y, ",", Y, " 0 0,", v, " ", V[1], "A", n, ",", n, " 0 ", g ^ so(V[1][0], V[1][1], Z[1][0], Z[1][1]), ",", 1 - g, " ", Z[1], "A", Y, ",", Y, " 0 0,", v, " ", Z[0]) : N.push("L", V[0], "A", Y, ",", Y, " 0 0,", v, " ", Z[0])
                } else N.push("L", _, ",", w)
            } else N.push("M", y, ",", M), null != x && N.push("A", l, ",", l, " 0 ", C, ",", g, " ", x, ",", b), N.push("L", _, ",", w), null != S && N.push("A", n, ",", n, " 0 ", q, ",", 1 - g, " ", S, ",", k);
            return N.push("Z"), N.join("")
        }

        function t(n, t) {
            return "M0," + n + "A" + n + "," + n + " 0 1," + t + " 0," + -n + "A" + n + "," + n + " 0 1," + t + " 0," + n
        }
        var e = io,
            r = oo,
            u = uo,
            i = kl,
            o = ao,
            a = co,
            c = lo;
        return n.innerRadius = function(t) {
            return arguments.length ? (e = Et(t), n) : e
        }, n.outerRadius = function(t) {
            return arguments.length ? (r = Et(t), n) : r
        }, n.cornerRadius = function(t) {
            return arguments.length ? (u = Et(t), n) : u
        }, n.padRadius = function(t) {
            return arguments.length ? (i = t == kl ? kl : Et(t), n) : i
        }, n.startAngle = function(t) {
            return arguments.length ? (o = Et(t), n) : o
        }, n.endAngle = function(t) {
            return arguments.length ? (a = Et(t), n) : a
        }, n.padAngle = function(t) {
            return arguments.length ? (c = Et(t), n) : c
        }, n.centroid = function() {
            var n = (+e.apply(this, arguments) + +r.apply(this, arguments)) / 2,
                t = (+o.apply(this, arguments) + +a.apply(this, arguments)) / 2 - Ra;
            return [Math.cos(t) * n, Math.sin(t) * n]
        }, n
    };
    var kl = "auto";
    ta.svg.line = function() {
        return ho(y)
    };
    var El = ta.map({
        linear: go,
        "linear-closed": po,
        step: vo,
        "step-before": mo,
        "step-after": yo,
        basis: So,
        "basis-open": ko,
        "basis-closed": Eo,
        bundle: Ao,
        cardinal: bo,
        "cardinal-open": Mo,
        "cardinal-closed": xo,
        monotone: To
    });
    El.forEach(function(n, t) {
        t.key = n, t.closed = /-closed$/.test(n)
    });
    var Al = [0, 2 / 3, 1 / 3, 0],
        Nl = [0, 1 / 3, 2 / 3, 0],
        Cl = [0, 1 / 6, 2 / 3, 1 / 6];
    ta.svg.line.radial = function() {
        var n = ho(Ro);
        return n.radius = n.x, delete n.x, n.angle = n.y, delete n.y, n
    }, mo.reverse = yo, yo.reverse = mo, ta.svg.area = function() {
        return Do(y)
    }, ta.svg.area.radial = function() {
        var n = Do(Ro);
        return n.radius = n.x, delete n.x, n.innerRadius = n.x0, delete n.x0, n.outerRadius = n.x1, delete n.x1, n.angle = n.y, delete n.y, n.startAngle = n.y0, delete n.y0, n.endAngle = n.y1, delete n.y1, n
    }, ta.svg.chord = function() {
        function n(n, a) {
            var c = t(this, i, n, a),
                l = t(this, o, n, a);
            return "M" + c.p0 + r(c.r, c.p1, c.a1 - c.a0) + (e(c, l) ? u(c.r, c.p1, c.r, c.p0) : u(c.r, c.p1, l.r, l.p0) + r(l.r, l.p1, l.a1 - l.a0) + u(l.r, l.p1, c.r, c.p0)) + "Z"
        }

        function t(n, t, e, r) {
            var u = t.call(n, e, r),
                i = a.call(n, u, r),
                o = c.call(n, u, r) - Ra,
                s = l.call(n, u, r) - Ra;
            return {
                r: i,
                a0: o,
                a1: s,
                p0: [i * Math.cos(o), i * Math.sin(o)],
                p1: [i * Math.cos(s), i * Math.sin(s)]
            }
        }

        function e(n, t) {
            return n.a0 == t.a0 && n.a1 == t.a1
        }

        function r(n, t, e) {
            return "A" + n + "," + n + " 0 " + +(e > qa) + ",1 " + t
        }

        function u(n, t, e, r) {
            return "Q 0,0 " + r
        }
        var i = mr,
            o = yr,
            a = Po,
            c = ao,
            l = co;
        return n.radius = function(t) {
            return arguments.length ? (a = Et(t), n) : a
        }, n.source = function(t) {
            return arguments.length ? (i = Et(t), n) : i
        }, n.target = function(t) {
            return arguments.length ? (o = Et(t), n) : o
        }, n.startAngle = function(t) {
            return arguments.length ? (c = Et(t), n) : c
        }, n.endAngle = function(t) {
            return arguments.length ? (l = Et(t), n) : l
        }, n
    }, ta.svg.diagonal = function() {
        function n(n, u) {
            var i = t.call(this, n, u),
                o = e.call(this, n, u),
                a = (i.y + o.y) / 2,
                c = [i, {
                    x: i.x,
                    y: a
                }, {
                    x: o.x,
                    y: a
                }, o];
            return c = c.map(r), "M" + c[0] + "C" + c[1] + " " + c[2] + " " + c[3]
        }
        var t = mr,
            e = yr,
            r = Uo;
        return n.source = function(e) {
            return arguments.length ? (t = Et(e), n) : t
        }, n.target = function(t) {
            return arguments.length ? (e = Et(t), n) : e
        }, n.projection = function(t) {
            return arguments.length ? (r = t, n) : r
        }, n
    }, ta.svg.diagonal.radial = function() {
        var n = ta.svg.diagonal(),
            t = Uo,
            e = n.projection;
        return n.projection = function(n) {
            return arguments.length ? e(jo(t = n)) : t
        }, n
    }, ta.svg.symbol = function() {
        function n(n, r) {
            return (zl.get(t.call(this, n, r)) || Oo)(e.call(this, n, r))
        }
        var t = Ho,
            e = Fo;
        return n.type = function(e) {
            return arguments.length ? (t = Et(e), n) : t
        }, n.size = function(t) {
            return arguments.length ? (e = Et(t), n) : e
        }, n
    };
    var zl = ta.map({
        circle: Oo,
        cross: function(n) {
            var t = Math.sqrt(n / 5) / 2;
            return "M" + -3 * t + "," + -t + "H" + -t + "V" + -3 * t + "H" + t + "V" + -t + "H" + 3 * t + "V" + t + "H" + t + "V" + 3 * t + "H" + -t + "V" + t + "H" + -3 * t + "Z"
        },
        diamond: function(n) {
            var t = Math.sqrt(n / (2 * Ll)),
                e = t * Ll;
            return "M0," + -t + "L" + e + ",0 0," + t + " " + -e + ",0Z"
        },
        square: function(n) {
            var t = Math.sqrt(n) / 2;
            return "M" + -t + "," + -t + "L" + t + "," + -t + " " + t + "," + t + " " + -t + "," + t + "Z"
        },
        "triangle-down": function(n) {
            var t = Math.sqrt(n / ql),
                e = t * ql / 2;
            return "M0," + e + "L" + t + "," + -e + " " + -t + "," + -e + "Z"
        },
        "triangle-up": function(n) {
            var t = Math.sqrt(n / ql),
                e = t * ql / 2;
            return "M0," + -e + "L" + t + "," + e + " " + -t + "," + e + "Z"
        }
    });
    ta.svg.symbolTypes = zl.keys();
    var ql = Math.sqrt(3),
        Ll = Math.tan(30 * Da);
    _a.transition = function(n) {
        for (var t, e, r = Tl || ++Ul, u = Xo(n), i = [], o = Rl || {
                time: Date.now(),
                ease: Su,
                delay: 0,
                duration: 250
            }, a = -1, c = this.length; ++a < c;) {
            i.push(t = []);
            for (var l = this[a], s = -1, f = l.length; ++s < f;)(e = l[s]) && $o(e, s, u, r, o), t.push(e)
        }
        return Yo(i, u, r)
    }, _a.interrupt = function(n) {
        return this.each(null == n ? Dl : Io(Xo(n)))
    };
    var Tl, Rl, Dl = Io(Xo()),
        Pl = [],
        Ul = 0;
    Pl.call = _a.call, Pl.empty = _a.empty, Pl.node = _a.node, Pl.size = _a.size, ta.transition = function(n, t) {
        return n && n.transition ? Tl ? n.transition(t) : n : ta.selection().transition(n)
    }, ta.transition.prototype = Pl, Pl.select = function(n) {
        var t, e, r, u = this.id,
            i = this.namespace,
            o = [];
        n = N(n);
        for (var a = -1, c = this.length; ++a < c;) {
            o.push(t = []);
            for (var l = this[a], s = -1, f = l.length; ++s < f;)(r = l[s]) && (e = n.call(r, r.__data__, s, a)) ? ("__data__" in r && (e.__data__ = r.__data__), $o(e, s, i, u, r[i][u]), t.push(e)) : t.push(null)
        }
        return Yo(o, i, u)
    }, Pl.selectAll = function(n) {
        var t, e, r, u, i, o = this.id,
            a = this.namespace,
            c = [];
        n = C(n);
        for (var l = -1, s = this.length; ++l < s;)
            for (var f = this[l], h = -1, g = f.length; ++h < g;)
                if (r = f[h]) {
                    i = r[a][o], e = n.call(r, r.__data__, h, l), c.push(t = []);
                    for (var p = -1, v = e.length; ++p < v;)(u = e[p]) && $o(u, p, a, o, i), t.push(u)
                }
        return Yo(c, a, o)
    }, Pl.filter = function(n) {
        var t, e, r, u = [];
        "function" != typeof n && (n = O(n));
        for (var i = 0, o = this.length; o > i; i++) {
            u.push(t = []);
            for (var e = this[i], a = 0, c = e.length; c > a; a++)(r = e[a]) && n.call(r, r.__data__, a, i) && t.push(r)
        }
        return Yo(u, this.namespace, this.id)
    }, Pl.tween = function(n, t) {
        var e = this.id,
            r = this.namespace;
        return arguments.length < 2 ? this.node()[r][e].tween.get(n) : Y(this, null == t ? function(t) {
            t[r][e].tween.remove(n)
        } : function(u) {
            u[r][e].tween.set(n, t)
        })
    }, Pl.attr = function(n, t) {
        function e() {
            this.removeAttribute(a)
        }

        function r() {
            this.removeAttributeNS(a.space, a.local)
        }

        function u(n) {
            return null == n ? e : (n += "", function() {
                var t, e = this.getAttribute(a);
                return e !== n && (t = o(e, n), function(n) {
                    this.setAttribute(a, t(n))
                })
            })
        }

        function i(n) {
            return null == n ? r : (n += "", function() {
                var t, e = this.getAttributeNS(a.space, a.local);
                return e !== n && (t = o(e, n), function(n) {
                    this.setAttributeNS(a.space, a.local, t(n))
                })
            })
        }
        if (arguments.length < 2) {
            for (t in n) this.attr(t, n[t]);
            return this
        }
        var o = "transform" == n ? Hu : mu,
            a = ta.ns.qualify(n);
        return Zo(this, "attr." + n, t, a.local ? i : u)
    }, Pl.attrTween = function(n, t) {
        function e(n, e) {
            var r = t.call(this, n, e, this.getAttribute(u));
            return r && function(n) {
                this.setAttribute(u, r(n))
            }
        }

        function r(n, e) {
            var r = t.call(this, n, e, this.getAttributeNS(u.space, u.local));
            return r && function(n) {
                this.setAttributeNS(u.space, u.local, r(n))
            }
        }
        var u = ta.ns.qualify(n);
        return this.tween("attr." + n, u.local ? r : e)
    }, Pl.style = function(n, e, r) {
        function u() {
            this.style.removeProperty(n)
        }

        function i(e) {
            return null == e ? u : (e += "", function() {
                var u, i = t(this).getComputedStyle(this, null).getPropertyValue(n);
                return i !== e && (u = mu(i, e), function(t) {
                    this.style.setProperty(n, u(t), r)
                })
            })
        }
        var o = arguments.length;
        if (3 > o) {
            if ("string" != typeof n) {
                2 > o && (e = "");
                for (r in n) this.style(r, n[r], e);
                return this
            }
            r = ""
        }
        return Zo(this, "style." + n, e, i)
    }, Pl.styleTween = function(n, e, r) {
        function u(u, i) {
            var o = e.call(this, u, i, t(this).getComputedStyle(this, null).getPropertyValue(n));
            return o && function(t) {
                this.style.setProperty(n, o(t), r)
            }
        }
        return arguments.length < 3 && (r = ""), this.tween("style." + n, u)
    }, Pl.text = function(n) {
        return Zo(this, "text", n, Vo)
    }, Pl.remove = function() {
        var n = this.namespace;
        return this.each("end.transition", function() {
            var t;
            this[n].count < 2 && (t = this.parentNode) && t.removeChild(this)
        })
    }, Pl.ease = function(n) {
        var t = this.id,
            e = this.namespace;
        return arguments.length < 1 ? this.node()[e][t].ease : ("function" != typeof n && (n = ta.ease.apply(ta, arguments)), Y(this, function(r) {
            r[e][t].ease = n
        }))
    }, Pl.delay = function(n) {
        var t = this.id,
            e = this.namespace;
        return arguments.length < 1 ? this.node()[e][t].delay : Y(this, "function" == typeof n ? function(r, u, i) {
            r[e][t].delay = +n.call(r, r.__data__, u, i)
        } : (n = +n, function(r) {
            r[e][t].delay = n
        }))
    }, Pl.duration = function(n) {
        var t = this.id,
            e = this.namespace;
        return arguments.length < 1 ? this.node()[e][t].duration : Y(this, "function" == typeof n ? function(r, u, i) {
            r[e][t].duration = Math.max(1, n.call(r, r.__data__, u, i))
        } : (n = Math.max(1, n), function(r) {
            r[e][t].duration = n
        }))
    }, Pl.each = function(n, t) {
        var e = this.id,
            r = this.namespace;
        if (arguments.length < 2) {
            var u = Rl,
                i = Tl;
            try {
                Tl = e, Y(this, function(t, u, i) {
                    Rl = t[r][e], n.call(t, t.__data__, u, i)
                })
            } finally {
                Rl = u, Tl = i
            }
        } else Y(this, function(u) {
            var i = u[r][e];
            (i.event || (i.event = ta.dispatch("start", "end", "interrupt"))).on(n, t)
        });
        return this
    }, Pl.transition = function() {
        for (var n, t, e, r, u = this.id, i = ++Ul, o = this.namespace, a = [], c = 0, l = this.length; l > c; c++) {
            a.push(n = []);
            for (var t = this[c], s = 0, f = t.length; f > s; s++)(e = t[s]) && (r = e[o][u], $o(e, s, o, i, {
                time: r.time,
                ease: r.ease,
                delay: r.delay + r.duration,
                duration: r.duration
            })), n.push(e)
        }
        return Yo(a, o, i)
    }, ta.svg.axis = function() {
        function n(n) {
            n.each(function() {
                var n, l = ta.select(this),
                    s = this.__chart__ || e,
                    f = this.__chart__ = e.copy(),
                    h = null == c ? f.ticks ? f.ticks.apply(f, a) : f.domain() : c,
                    g = null == t ? f.tickFormat ? f.tickFormat.apply(f, a) : y : t,
                    p = l.selectAll(".tick").data(h, f),
                    v = p.enter().insert("g", ".domain").attr("class", "tick").style("opacity", Ca),
                    d = ta.transition(p.exit()).style("opacity", Ca).remove(),
                    m = ta.transition(p.order()).style("opacity", 1),
                    M = Math.max(u, 0) + o,
                    x = Ui(f),
                    b = l.selectAll(".domain").data([0]),
                    _ = (b.enter().append("path").attr("class", "domain"), ta.transition(b));
                v.append("line"), v.append("text");
                var w, S, k, E, A = v.select("line"),
                    N = m.select("line"),
                    C = p.select("text").text(g),
                    z = v.select("text"),
                    q = m.select("text"),
                    L = "top" === r || "left" === r ? -1 : 1;
                if ("bottom" === r || "top" === r ? (n = Bo, w = "x", k = "y", S = "x2", E = "y2", C.attr("dy", 0 > L ? "0em" : ".71em").style("text-anchor", "middle"), _.attr("d", "M" + x[0] + "," + L * i + "V0H" + x[1] + "V" + L * i)) : (n = Wo, w = "y", k = "x", S = "y2", E = "x2", C.attr("dy", ".32em").style("text-anchor", 0 > L ? "end" : "start"), _.attr("d", "M" + L * i + "," + x[0] + "H0V" + x[1] + "H" + L * i)), A.attr(E, L * u), z.attr(k, L * M), N.attr(S, 0).attr(E, L * u), q.attr(w, 0).attr(k, L * M), f.rangeBand) {
                    var T = f,
                        R = T.rangeBand() / 2;
                    s = f = function(n) {
                        return T(n) + R
                    }
                } else s.rangeBand ? s = f : d.call(n, f, s);
                v.call(n, s, f), m.call(n, f, f)
            })
        }
        var t, e = ta.scale.linear(),
            r = jl,
            u = 6,
            i = 6,
            o = 3,
            a = [10],
            c = null;
        return n.scale = function(t) {
            return arguments.length ? (e = t, n) : e
        }, n.orient = function(t) {
            return arguments.length ? (r = t in Fl ? t + "" : jl, n) : r
        }, n.ticks = function() {
            return arguments.length ? (a = arguments, n) : a
        }, n.tickValues = function(t) {
            return arguments.length ? (c = t, n) : c
        }, n.tickFormat = function(e) {
            return arguments.length ? (t = e, n) : t
        }, n.tickSize = function(t) {
            var e = arguments.length;
            return e ? (u = +t, i = +arguments[e - 1], n) : u
        }, n.innerTickSize = function(t) {
            return arguments.length ? (u = +t, n) : u
        }, n.outerTickSize = function(t) {
            return arguments.length ? (i = +t, n) : i
        }, n.tickPadding = function(t) {
            return arguments.length ? (o = +t, n) : o
        }, n.tickSubdivide = function() {
            return arguments.length && n
        }, n
    };
    var jl = "bottom",
        Fl = {
            top: 1,
            right: 1,
            bottom: 1,
            left: 1
        };
    ta.svg.brush = function() {
        function n(t) {
            t.each(function() {
                var t = ta.select(this).style("pointer-events", "all").style("-webkit-tap-highlight-color", "rgba(0,0,0,0)").on("mousedown.brush", i).on("touchstart.brush", i),
                    o = t.selectAll(".background").data([0]);
                o.enter().append("rect").attr("class", "background").style("visibility", "hidden").style("cursor", "crosshair"), t.selectAll(".extent").data([0]).enter().append("rect").attr("class", "extent").style("cursor", "move");
                var a = t.selectAll(".resize").data(v, y);
                a.exit().remove(), a.enter().append("g").attr("class", function(n) {
                    return "resize " + n
                }).style("cursor", function(n) {
                    return Hl[n]
                }).append("rect").attr("x", function(n) {
                    return /[ew]$/.test(n) ? -3 : null
                }).attr("y", function(n) {
                    return /^[ns]/.test(n) ? -3 : null
                }).attr("width", 6).attr("height", 6).style("visibility", "hidden"), a.style("display", n.empty() ? "none" : null);
                var c, f = ta.transition(t),
                    h = ta.transition(o);
                l && (c = Ui(l), h.attr("x", c[0]).attr("width", c[1] - c[0]), r(f)), s && (c = Ui(s), h.attr("y", c[0]).attr("height", c[1] - c[0]), u(f)), e(f)
            })
        }

        function e(n) {
            n.selectAll(".resize").attr("transform", function(n) {
                return "translate(" + f[+/e$/.test(n)] + "," + h[+/^s/.test(n)] + ")"
            })
        }

        function r(n) {
            n.select(".extent").attr("x", f[0]), n.selectAll(".extent,.n>rect,.s>rect").attr("width", f[1] - f[0])
        }

        function u(n) {
            n.select(".extent").attr("y", h[0]), n.selectAll(".extent,.e>rect,.w>rect").attr("height", h[1] - h[0])
        }

        function i() {
            function i() {
                32 == ta.event.keyCode && (C || (M = null, q[0] -= f[1], q[1] -= h[1], C = 2), S())
            }

            function v() {
                32 == ta.event.keyCode && 2 == C && (q[0] += f[1], q[1] += h[1], C = 0, S())
            }

            function d() {
                var n = ta.mouse(b),
                    t = !1;
                x && (n[0] += x[0], n[1] += x[1]), C || (ta.event.altKey ? (M || (M = [(f[0] + f[1]) / 2, (h[0] + h[1]) / 2]), q[0] = f[+(n[0] < M[0])], q[1] = h[+(n[1] < M[1])]) : M = null), A && m(n, l, 0) && (r(k), t = !0), N && m(n, s, 1) && (u(k), t = !0), t && (e(k), w({
                    type: "brush",
                    mode: C ? "move" : "resize"
                }))
            }

            function m(n, t, e) {
                var r, u, i = Ui(t),
                    c = i[0],
                    l = i[1],
                    s = q[e],
                    v = e ? h : f,
                    d = v[1] - v[0];
                return C && (c -= s, l -= d + s), r = (e ? p : g) ? Math.max(c, Math.min(l, n[e])) : n[e], C ? u = (r += s) + d : (M && (s = Math.max(c, Math.min(l, 2 * M[e] - r))), r > s ? (u = r, r = s) : u = s), v[0] != r || v[1] != u ? (e ? a = null : o = null, v[0] = r, v[1] = u, !0) : void 0
            }

            function y() {
                d(), k.style("pointer-events", "all").selectAll(".resize").style("display", n.empty() ? "none" : null), ta.select("body").style("cursor", null), L.on("mousemove.brush", null).on("mouseup.brush", null).on("touchmove.brush", null).on("touchend.brush", null).on("keydown.brush", null).on("keyup.brush", null), z(), w({
                    type: "brushend"
                })
            }
            var M, x, b = this,
                _ = ta.select(ta.event.target),
                w = c.of(b, arguments),
                k = ta.select(b),
                E = _.datum(),
                A = !/^(n|s)$/.test(E) && l,
                N = !/^(e|w)$/.test(E) && s,
                C = _.classed("extent"),
                z = W(b),
                q = ta.mouse(b),
                L = ta.select(t(b)).on("keydown.brush", i).on("keyup.brush", v);
            if (ta.event.changedTouches ? L.on("touchmove.brush", d).on("touchend.brush", y) : L.on("mousemove.brush", d).on("mouseup.brush", y), k.interrupt().selectAll("*").interrupt(), C) q[0] = f[0] - q[0], q[1] = h[0] - q[1];
            else if (E) {
                var T = +/w$/.test(E),
                    R = +/^n/.test(E);
                x = [f[1 - T] - q[0], h[1 - R] - q[1]], q[0] = f[T], q[1] = h[R]
            } else ta.event.altKey && (M = q.slice());
            k.style("pointer-events", "none").selectAll(".resize").style("display", null), ta.select("body").style("cursor", _.style("cursor")), w({
                type: "brushstart"
            }), d()
        }
        var o, a, c = E(n, "brushstart", "brush", "brushend"),
            l = null,
            s = null,
            f = [0, 0],
            h = [0, 0],
            g = !0,
            p = !0,
            v = Ol[0];
        return n.event = function(n) {
            n.each(function() {
                var n = c.of(this, arguments),
                    t = {
                        x: f,
                        y: h,
                        i: o,
                        j: a
                    },
                    e = this.__chart__ || t;
                this.__chart__ = t, Tl ? ta.select(this).transition().each("start.brush", function() {
                    o = e.i, a = e.j, f = e.x, h = e.y, n({
                        type: "brushstart"
                    })
                }).tween("brush:brush", function() {
                    var e = yu(f, t.x),
                        r = yu(h, t.y);
                    return o = a = null,
                        function(u) {
                            f = t.x = e(u), h = t.y = r(u), n({
                                type: "brush",
                                mode: "resize"
                            })
                        }
                }).each("end.brush", function() {
                    o = t.i, a = t.j, n({
                        type: "brush",
                        mode: "resize"
                    }), n({
                        type: "brushend"
                    })
                }) : (n({
                    type: "brushstart"
                }), n({
                    type: "brush",
                    mode: "resize"
                }), n({
                    type: "brushend"
                }))
            })
        }, n.x = function(t) {
            return arguments.length ? (l = t, v = Ol[!l << 1 | !s], n) : l
        }, n.y = function(t) {
            return arguments.length ? (s = t, v = Ol[!l << 1 | !s], n) : s
        }, n.clamp = function(t) {
            return arguments.length ? (l && s ? (g = !!t[0], p = !!t[1]) : l ? g = !!t : s && (p = !!t), n) : l && s ? [g, p] : l ? g : s ? p : null
        }, n.extent = function(t) {
            var e, r, u, i, c;
            return arguments.length ? (l && (e = t[0], r = t[1], s && (e = e[0], r = r[0]), o = [e, r], l.invert && (e = l(e), r = l(r)), e > r && (c = e, e = r, r = c), (e != f[0] || r != f[1]) && (f = [e, r])), s && (u = t[0], i = t[1], l && (u = u[1], i = i[1]), a = [u, i], s.invert && (u = s(u), i = s(i)), u > i && (c = u, u = i, i = c), (u != h[0] || i != h[1]) && (h = [u, i])), n) : (l && (o ? (e = o[0], r = o[1]) : (e = f[0], r = f[1], l.invert && (e = l.invert(e), r = l.invert(r)), e > r && (c = e, e = r, r = c))), s && (a ? (u = a[0], i = a[1]) : (u = h[0], i = h[1], s.invert && (u = s.invert(u), i = s.invert(i)), u > i && (c = u, u = i, i = c))), l && s ? [
                [e, u],
                [r, i]
            ] : l ? [e, r] : s && [u, i])
        }, n.clear = function() {
            return n.empty() || (f = [0, 0], h = [0, 0], o = a = null), n
        }, n.empty = function() {
            return !!l && f[0] == f[1] || !!s && h[0] == h[1]
        }, ta.rebind(n, c, "on")
    };
    var Hl = {
            n: "ns-resize",
            e: "ew-resize",
            s: "ns-resize",
            w: "ew-resize",
            nw: "nwse-resize",
            ne: "nesw-resize",
            se: "nwse-resize",
            sw: "nesw-resize"
        },
        Ol = [
            ["n", "e", "s", "w", "nw", "ne", "se", "sw"],
            ["e", "w"],
            ["n", "s"],
            []
        ],
        Il = ac.format = gc.timeFormat,
        Yl = Il.utc,
        Zl = Yl("%Y-%m-%dT%H:%M:%S.%LZ");
    Il.iso = Date.prototype.toISOString && +new Date("2000-01-01T00:00:00.000Z") ? Jo : Zl, Jo.parse = function(n) {
        var t = new Date(n);
        return isNaN(t) ? null : t
    }, Jo.toString = Zl.toString, ac.second = Ft(function(n) {
        return new cc(1e3 * Math.floor(n / 1e3))
    }, function(n, t) {
        n.setTime(n.getTime() + 1e3 * Math.floor(t))
    }, function(n) {
        return n.getSeconds()
    }), ac.seconds = ac.second.range, ac.seconds.utc = ac.second.utc.range, ac.minute = Ft(function(n) {
        return new cc(6e4 * Math.floor(n / 6e4))
    }, function(n, t) {
        n.setTime(n.getTime() + 6e4 * Math.floor(t))
    }, function(n) {
        return n.getMinutes()
    }), ac.minutes = ac.minute.range, ac.minutes.utc = ac.minute.utc.range, ac.hour = Ft(function(n) {
        var t = n.getTimezoneOffset() / 60;
        return new cc(36e5 * (Math.floor(n / 36e5 - t) + t))
    }, function(n, t) {
        n.setTime(n.getTime() + 36e5 * Math.floor(t))
    }, function(n) {
        return n.getHours()
    }), ac.hours = ac.hour.range, ac.hours.utc = ac.hour.utc.range, ac.month = Ft(function(n) {
        return n = ac.day(n), n.setDate(1), n
    }, function(n, t) {
        n.setMonth(n.getMonth() + t)
    }, function(n) {
        return n.getMonth()
    }), ac.months = ac.month.range, ac.months.utc = ac.month.utc.range;
    var Vl = [1e3, 5e3, 15e3, 3e4, 6e4, 3e5, 9e5, 18e5, 36e5, 108e5, 216e5, 432e5, 864e5, 1728e5, 6048e5, 2592e6, 7776e6, 31536e6],
        Xl = [
            [ac.second, 1],
            [ac.second, 5],
            [ac.second, 15],
            [ac.second, 30],
            [ac.minute, 1],
            [ac.minute, 5],
            [ac.minute, 15],
            [ac.minute, 30],
            [ac.hour, 1],
            [ac.hour, 3],
            [ac.hour, 6],
            [ac.hour, 12],
            [ac.day, 1],
            [ac.day, 2],
            [ac.week, 1],
            [ac.month, 1],
            [ac.month, 3],
            [ac.year, 1]
        ],
        $l = Il.multi([
            [".%L", function(n) {
                return n.getMilliseconds()
            }],
            [":%S", function(n) {
                return n.getSeconds()
            }],
            ["%I:%M", function(n) {
                return n.getMinutes()
            }],
            ["%I %p", function(n) {
                return n.getHours()
            }],
            ["%a %d", function(n) {
                return n.getDay() && 1 != n.getDate()
            }],
            ["%b %d", function(n) {
                return 1 != n.getDate()
            }],
            ["%B", function(n) {
                return n.getMonth()
            }],
            ["%Y", Ne]
        ]),
        Bl = {
            range: function(n, t, e) {
                return ta.range(Math.ceil(n / e) * e, +t, e).map(Ko)
            },
            floor: y,
            ceil: y
        };
    Xl.year = ac.year, ac.scale = function() {
        return Go(ta.scale.linear(), Xl, $l)
    };
    var Wl = Xl.map(function(n) {
            return [n[0].utc, n[1]]
        }),
        Jl = Yl.multi([
            [".%L", function(n) {
                return n.getUTCMilliseconds()
            }],
            [":%S", function(n) {
                return n.getUTCSeconds()
            }],
            ["%I:%M", function(n) {
                return n.getUTCMinutes()
            }],
            ["%I %p", function(n) {
                return n.getUTCHours()
            }],
            ["%a %d", function(n) {
                return n.getUTCDay() && 1 != n.getUTCDate()
            }],
            ["%b %d", function(n) {
                return 1 != n.getUTCDate()
            }],
            ["%B", function(n) {
                return n.getUTCMonth()
            }],
            ["%Y", Ne]
        ]);
    Wl.year = ac.year.utc, ac.scale.utc = function() {
        return Go(ta.scale.linear(), Wl, Jl)
    }, ta.text = At(function(n) {
        return n.responseText
    }), ta.json = function(n, t) {
        return Nt(n, "application/json", Qo, t)
    }, ta.html = function(n, t) {
        return Nt(n, "text/html", na, t)
    }, ta.xml = At(function(n) {
        return n.responseXML
    }), "function" == typeof define && define.amd ? define(ta) : "object" == typeof module && module.exports && (module.exports = ta), this.d3 = ta
}();
! function(a) {
    "use strict";

    function b(a) {
        this.owner = a
    }

    function c(a, b) {
        if (Object.create) b.prototype = Object.create(a.prototype);
        else {
            var c = function() {};
            c.prototype = a.prototype, b.prototype = new c
        }
        return b.prototype.constructor = b, b
    }

    function d(a) {
        var b = this.internal = new e(this);
        b.loadConfig(a), b.beforeInit(a), b.init(), b.afterInit(a),
            function c(a, b, d) {
                Object.keys(a).forEach(function(e) {
                    b[e] = a[e].bind(d), Object.keys(a[e]).length > 0 && c(a[e], b[e], d)
                })
            }(h, this, this)
    }

    function e(b) {
        var c = this;
        c.d3 = a.d3 ? a.d3 : "undefined" != typeof require ? require("d3") : void 0, c.api = b, c.config = c.getDefaultConfig(), c.data = {}, c.cache = {}, c.axes = {}
    }

    function f(a) {
        b.call(this, a)
    }

    function g(a, b) {
        function c(a, b) {
            a.attr("transform", function(a) {
                return "translate(" + Math.ceil(b(a) + u) + ", 0)"
            })
        }

        function d(a, b) {
            a.attr("transform", function(a) {
                return "translate(0," + Math.ceil(b(a)) + ")"
            })
        }

        function e(a) {
            var b = a[0],
                c = a[a.length - 1];
            return c > b ? [b, c] : [c, b]
        }

        function f(a) {
            var b, c, d = [];
            if (a.ticks) return a.ticks.apply(a, n);
            for (c = a.domain(), b = Math.ceil(c[0]); b < c[1]; b++) d.push(b);
            return d.length > 0 && d[0] > 0 && d.unshift(d[0] - (d[1] - d[0])), d
        }

        function g() {
            var a, c = p.copy();
            return b.isCategory && (a = p.domain(), c.domain([a[0], a[1] - 1])), c
        }

        function h(a) {
            var b = m ? m(a) : a;
            return "undefined" != typeof b ? b : ""
        }

        function i(a) {
            if (z) return z;
            var b = {
                h: 11.5,
                w: 5.5
            };
            return a.select("text").text(h).each(function(a) {
                var c = this.getBoundingClientRect(),
                    d = h(a),
                    e = c.height,
                    f = d ? c.width / d.length : void 0;
                e && f && (b.h = e, b.w = f)
            }).text(""), z = b, b
        }

        function j(c) {
            return b.withoutTransition ? c : a.transition(c)
        }

        function k(m) {
            m.each(function() {
                function m(a, c) {
                    function d(a, b) {
                        f = void 0;
                        for (var h = 1; h < b.length; h++)
                            if (" " === b.charAt(h) && (f = h), e = b.substr(0, h + 1), g = U.w * e.length, g > c) return d(a.concat(b.substr(0, f ? f : h)), b.slice(f ? f + 1 : h));
                        return a.concat(b)
                    }
                    var e, f, g, i = h(a),
                        j = [];
                    return "[object Array]" === Object.prototype.toString.call(i) ? i : ((!c || 0 >= c) && (c = X ? 95 : b.isCategory ? Math.ceil(F(G[1]) - F(G[0])) - 12 : 110), d(j, i + ""))
                }

                function n(a, b) {
                    var c = U.h;
                    return 0 === b && (c = "left" === q || "right" === q ? -((V[a.index] - 1) * (U.h / 2) - 3) : ".71em"), c
                }

                function v(a) {
                    var b = p(a) + (o ? 0 : u);
                    return L[0] < b && b < L[1] ? r : 0
                }

                function w(a) {
                    return a ? a > 0 ? "start" : "end" : "middle"
                }

                function x(a) {
                    return a ? "rotate(" + a + ")" : ""
                }

                function y(a) {
                    return a ? 8 * Math.sin(Math.PI * (a / 180)) : 0
                }

                function z(a) {
                    return a ? 11.5 - 2.5 * (a / 15) * (a > 0 ? 1 : -1) : W
                }
                var A, B, C, D = k.g = a.select(this),
                    E = this.__chart__ || p,
                    F = this.__chart__ = g(),
                    G = t ? t : f(F),
                    H = D.selectAll(".tick").data(G, F),
                    I = H.enter().insert("g", ".domain").attr("class", "tick").style("opacity", 1e-6),
                    J = H.exit().remove(),
                    K = j(H).style("opacity", 1),
                    L = p.rangeExtent ? p.rangeExtent() : e(p.range()),
                    M = D.selectAll(".domain").data([0]),
                    N = (M.enter().append("path").attr("class", "domain"), j(M));
                I.append("line"), I.append("text");
                var O = I.select("line"),
                    P = K.select("line"),
                    Q = I.select("text"),
                    R = K.select("text");
                b.isCategory ? (u = Math.ceil((F(1) - F(0)) / 2), B = o ? 0 : u, C = o ? u : 0) : u = B = 0;
                var S, T, U = i(D.select(".tick")),
                    V = [],
                    W = Math.max(r, 0) + s,
                    X = "left" === q || "right" === q;
                S = H.select("text"), T = S.selectAll("tspan").data(function(a, c) {
                    var d = b.tickMultiline ? m(a, b.tickWidth) : [].concat(h(a));
                    return V[c] = d.length, d.map(function(a) {
                        return {
                            index: c,
                            splitted: a
                        }
                    })
                }), T.enter().append("tspan"), T.exit().remove(), T.text(function(a) {
                    return a.splitted
                });
                var Y = b.tickTextRotate;
                switch (q) {
                    case "bottom":
                        A = c, O.attr("y2", r), Q.attr("y", W), P.attr("x1", B).attr("x2", B).attr("y2", v), R.attr("x", 0).attr("y", z(Y)).style("text-anchor", w(Y)).attr("transform", x(Y)), T.attr("x", 0).attr("dy", n).attr("dx", y(Y)), N.attr("d", "M" + L[0] + "," + l + "V0H" + L[1] + "V" + l);
                        break;
                    case "top":
                        A = c, O.attr("y2", -r), Q.attr("y", -W), P.attr("x2", 0).attr("y2", -r), R.attr("x", 0).attr("y", -W), S.style("text-anchor", "middle"), T.attr("x", 0).attr("dy", "0em"), N.attr("d", "M" + L[0] + "," + -l + "V0H" + L[1] + "V" + -l);
                        break;
                    case "left":
                        A = d, O.attr("x2", -r), Q.attr("x", -W), P.attr("x2", -r).attr("y1", C).attr("y2", C), R.attr("x", -W).attr("y", u), S.style("text-anchor", "end"), T.attr("x", -W).attr("dy", n), N.attr("d", "M" + -l + "," + L[0] + "H0V" + L[1] + "H" + -l);
                        break;
                    case "right":
                        A = d, O.attr("x2", r), Q.attr("x", W), P.attr("x2", r).attr("y2", 0), R.attr("x", W).attr("y", 0), S.style("text-anchor", "start"), T.attr("x", W).attr("dy", n), N.attr("d", "M" + l + "," + L[0] + "H0V" + L[1] + "H" + l)
                }
                if (F.rangeBand) {
                    var Z = F,
                        $ = Z.rangeBand() / 2;
                    E = F = function(a) {
                        return Z(a) + $
                    }
                } else E.rangeBand ? E = F : J.call(A, F);
                I.call(A, E), K.call(A, F)
            })
        }
        var l, m, n, o, p = a.scale.linear(),
            q = "bottom",
            r = 6,
            s = 3,
            t = null,
            u = 0,
            v = !0;
        return b = b || {}, l = b.withOuterTick ? 6 : 0, k.scale = function(a) {
            return arguments.length ? (p = a, k) : p
        }, k.orient = function(a) {
            return arguments.length ? (q = a in {
                top: 1,
                right: 1,
                bottom: 1,
                left: 1
            } ? a + "" : "bottom", k) : q
        }, k.tickFormat = function(a) {
            return arguments.length ? (m = a, k) : m
        }, k.tickCentered = function(a) {
            return arguments.length ? (o = a, k) : o
        }, k.tickOffset = function() {
            return u
        }, k.tickInterval = function() {
            var a, c;
            return b.isCategory ? a = 2 * u : (c = k.g.select("path.domain").node().getTotalLength() - 2 * l, a = c / k.g.selectAll("line").size()), 1 / 0 === a ? 0 : a
        }, k.ticks = function() {
            return arguments.length ? (n = arguments, k) : n
        }, k.tickCulling = function(a) {
            return arguments.length ? (v = a, k) : v
        }, k.tickValues = function(a) {
            if ("function" == typeof a) t = function() {
                return a(p.domain())
            };
            else {
                if (!arguments.length) return t;
                t = a
            }
            return k
        }, k
    }
    var h, i, j, k = {
        version: "0.4.11-rc3"
    };
    k.generate = function(a) {
        return new d(a)
    }, k.chart = {
        fn: d.prototype,
        internal: {
            fn: e.prototype,
            axis: {
                fn: f.prototype
            }
        }
    }, h = k.chart.fn, i = k.chart.internal.fn, j = k.chart.internal.axis.fn, i.beforeInit = function() {}, i.afterInit = function() {}, i.init = function() {
        var a = this,
            b = a.config;
        if (a.initParams(), b.data_url) a.convertUrlToData(b.data_url, b.data_mimeType, b.data_keys, a.initWithData);
        else if (b.data_json) a.initWithData(a.convertJsonToData(b.data_json, b.data_keys));
        else if (b.data_rows) a.initWithData(a.convertRowsToData(b.data_rows));
        else {
            if (!b.data_columns) throw Error("url or json or rows or columns is required.");
            a.initWithData(a.convertColumnsToData(b.data_columns))
        }
    }, i.initParams = function() {
        var a = this,
            b = a.d3,
            c = a.config;
        a.clipId = "c3-" + +new Date + "-clip", a.clipIdForXAxis = a.clipId + "-xaxis", a.clipIdForYAxis = a.clipId + "-yaxis", a.clipIdForGrid = a.clipId + "-grid", a.clipIdForSubchart = a.clipId + "-subchart", a.clipPath = a.getClipPath(a.clipId), a.clipPathForXAxis = a.getClipPath(a.clipIdForXAxis), a.clipPathForYAxis = a.getClipPath(a.clipIdForYAxis), a.clipPathForGrid = a.getClipPath(a.clipIdForGrid), a.clipPathForSubchart = a.getClipPath(a.clipIdForSubchart), a.dragStart = null, a.dragging = !1, a.flowing = !1, a.cancelClick = !1, a.mouseover = !1, a.transiting = !1, a.color = a.generateColor(), a.levelColor = a.generateLevelColor(), a.dataTimeFormat = c.data_xLocaltime ? b.time.format : b.time.format.utc, a.axisTimeFormat = c.axis_x_localtime ? b.time.format : b.time.format.utc, a.defaultAxisTimeFormat = a.axisTimeFormat.multi([
            [".%L", function(a) {
                return a.getMilliseconds()
            }],
            [":%S", function(a) {
                return a.getSeconds()
            }],
            ["%I:%M", function(a) {
                return a.getMinutes()
            }],
            ["%I %p", function(a) {
                return a.getHours()
            }],
            ["%-m/%-d", function(a) {
                return a.getDay() && 1 !== a.getDate()
            }],
            ["%-m/%-d", function(a) {
                return 1 !== a.getDate()
            }],
            ["%-m/%-d", function(a) {
                return a.getMonth()
            }],
            ["%Y/%-m/%-d", function() {
                return !0
            }]
        ]), a.hiddenTargetIds = [], a.hiddenLegendIds = [], a.focusedTargetIds = [], a.defocusedTargetIds = [], a.xOrient = c.axis_rotated ? "left" : "bottom", a.yOrient = c.axis_rotated ? c.axis_y_inner ? "top" : "bottom" : c.axis_y_inner ? "right" : "left", a.y2Orient = c.axis_rotated ? c.axis_y2_inner ? "bottom" : "top" : c.axis_y2_inner ? "left" : "right", a.subXOrient = c.axis_rotated ? "left" : "bottom", a.isLegendRight = "right" === c.legend_position, a.isLegendInset = "inset" === c.legend_position, a.isLegendTop = "top-left" === c.legend_inset_anchor || "top-right" === c.legend_inset_anchor, a.isLegendLeft = "top-left" === c.legend_inset_anchor || "bottom-left" === c.legend_inset_anchor, a.legendStep = 0, a.legendItemWidth = 0, a.legendItemHeight = 0, a.currentMaxTickWidths = {
            x: 0,
            y: 0,
            y2: 0
        }, a.rotated_padding_left = 30, a.rotated_padding_right = c.axis_rotated && !c.axis_x_show ? 0 : 30, a.rotated_padding_top = 5, a.withoutFadeIn = {}, a.intervalForObserveInserted = void 0, a.axes.subx = b.selectAll([])
    }, i.initChartElements = function() {
        this.initBar && this.initBar(), this.initLine && this.initLine(), this.initArc && this.initArc(), this.initGauge && this.initGauge(), this.initText && this.initText()
    }, i.initWithData = function(a) {
        var b, c, d = this,
            e = d.d3,
            g = d.config,
            h = !0;
        d.axis = new f(d), d.initPie && d.initPie(), d.initBrush && d.initBrush(), d.initZoom && d.initZoom(), d.selectChart = g.bindto ? "function" == typeof g.bindto.node ? g.bindto : e.select(g.bindto) : e.selectAll([]), d.selectChart.empty() && (d.selectChart = e.select(document.createElement("div")).style("opacity", 0), d.observeInserted(d.selectChart), h = !1), d.selectChart.html("").classed("c3", !0), d.data.xs = {}, d.data.targets = d.convertDataToTargets(a), g.data_filter && (d.data.targets = d.data.targets.filter(g.data_filter)), g.data_hide && d.addHiddenTargetIds(g.data_hide === !0 ? d.mapToIds(d.data.targets) : g.data_hide), g.legend_hide && d.addHiddenLegendIds(g.legend_hide === !0 ? d.mapToIds(d.data.targets) : g.legend_hide), d.hasType("gauge") && (g.legend_show = !1), d.updateSizes(), d.updateScales(), d.x.domain(e.extent(d.getXDomain(d.data.targets))), d.y.domain(d.getYDomain(d.data.targets, "y")), d.y2.domain(d.getYDomain(d.data.targets, "y2")), d.subX.domain(d.x.domain()), d.subY.domain(d.y.domain()), d.subY2.domain(d.y2.domain()), d.orgXDomain = d.x.domain(), d.brush && d.brush.scale(d.subX), g.zoom_enabled && d.zoom.scale(d.x), d.svg = d.selectChart.append("svg").style("overflow", "hidden").on("mouseenter", function() {
            return g.onmouseover.call(d)
        }).on("mouseleave", function() {
            return g.onmouseout.call(d)
        }), b = d.svg.append("defs"), d.clipChart = d.appendClip(b, d.clipId), d.clipXAxis = d.appendClip(b, d.clipIdForXAxis), d.clipYAxis = d.appendClip(b, d.clipIdForYAxis), d.clipGrid = d.appendClip(b, d.clipIdForGrid), d.clipSubchart = d.appendClip(b, d.clipIdForSubchart), d.updateSvgSize(), c = d.main = d.svg.append("g").attr("transform", d.getTranslate("main")), d.initSubchart && d.initSubchart(), d.initTooltip && d.initTooltip(), d.initLegend && d.initLegend(), d.initTitle && d.initTitle(), c.append("text").attr("class", l.text + " " + l.empty).attr("text-anchor", "middle").attr("dominant-baseline", "middle"), d.initRegion(), d.initGrid(), c.append("g").attr("clip-path", d.clipPath).attr("class", l.chart), g.grid_lines_front && d.initGridLines(), d.initEventRect(), d.initChartElements(), c.insert("rect", g.zoom_privileged ? null : "g." + l.regions).attr("class", l.zoomRect).attr("width", d.width).attr("height", d.height).style("opacity", 0).on("dblclick.zoom", null), g.axis_x_extent && d.brush.extent(d.getDefaultExtent()), d.axis.init(), d.updateTargets(d.data.targets), h && (d.updateDimension(), d.config.oninit.call(d), d.redraw({
            withTransition: !1,
            withTransform: !0,
            withUpdateXDomain: !0,
            withUpdateOrgXDomain: !0,
            withTransitionForAxis: !1
        })), d.bindResize(), d.api.element = d.selectChart.node()
    }, i.smoothLines = function(a, b) {
        var c = this;
        "grid" === b && a.each(function() {
            var a = c.d3.select(this),
                b = a.attr("x1"),
                d = a.attr("x2"),
                e = a.attr("y1"),
                f = a.attr("y2");
            a.attr({
                x1: Math.ceil(b),
                x2: Math.ceil(d),
                y1: Math.ceil(e),
                y2: Math.ceil(f)
            })
        })
    }, i.updateSizes = function() {
        var a = this,
            b = a.config,
            c = a.legend ? a.getLegendHeight() : 0,
            d = a.legend ? a.getLegendWidth() : 0,
            e = a.isLegendRight || a.isLegendInset ? 0 : c,
            f = a.hasArcType(),
            g = b.axis_rotated || f ? 0 : a.getHorizontalAxisHeight("x"),
            h = b.subchart_show && !f ? b.subchart_size_height + g : 0;
        a.currentWidth = a.getCurrentWidth(), a.currentHeight = a.getCurrentHeight(), a.margin = b.axis_rotated ? {
            top: a.getHorizontalAxisHeight("y2") + a.getCurrentPaddingTop(),
            right: f ? 0 : a.getCurrentPaddingRight(),
            bottom: a.getHorizontalAxisHeight("y") + e + a.getCurrentPaddingBottom(),
            left: h + (f ? 0 : a.getCurrentPaddingLeft())
        } : {
            top: 4 + a.getCurrentPaddingTop(),
            right: f ? 0 : a.getCurrentPaddingRight(),
            bottom: g + h + e + a.getCurrentPaddingBottom(),
            left: f ? 0 : a.getCurrentPaddingLeft()
        }, a.margin2 = b.axis_rotated ? {
            top: a.margin.top,
            right: 0 / 0,
            bottom: 20 + e,
            left: a.rotated_padding_left
        } : {
            top: a.currentHeight - h - e,
            right: 0 / 0,
            bottom: g + e,
            left: a.margin.left
        }, a.margin3 = {
            top: 0,
            right: 0 / 0,
            bottom: 0,
            left: 0
        }, a.updateSizeForLegend && a.updateSizeForLegend(c, d), a.width = a.currentWidth - a.margin.left - a.margin.right, a.height = a.currentHeight - a.margin.top - a.margin.bottom, a.width < 0 && (a.width = 0), a.height < 0 && (a.height = 0), a.width2 = b.axis_rotated ? a.margin.left - a.rotated_padding_left - a.rotated_padding_right : a.width, a.height2 = b.axis_rotated ? a.height : a.currentHeight - a.margin2.top - a.margin2.bottom, a.width2 < 0 && (a.width2 = 0), a.height2 < 0 && (a.height2 = 0), a.arcWidth = a.width - (a.isLegendRight ? d + 10 : 0), a.arcHeight = a.height - (a.isLegendRight ? 0 : 10), a.hasType("gauge") && (a.arcHeight += a.height - a.getGaugeLabelHeight()), a.updateRadius && a.updateRadius(), a.isLegendRight && f && (a.margin3.left = a.arcWidth / 2 + 1.1 * a.radiusExpanded)
    }, i.updateTargets = function(a) {
        var b = this;
        b.updateTargetsForText(a), b.updateTargetsForBar(a), b.updateTargetsForLine(a), b.hasArcType() && b.updateTargetsForArc && b.updateTargetsForArc(a), b.updateTargetsForSubchart && b.updateTargetsForSubchart(a), b.showTargets()
    }, i.showTargets = function() {
        var a = this;
        a.svg.selectAll("." + l.target).filter(function(b) {
            return a.isTargetToShow(b.id)
        }).transition().duration(a.config.transition_duration).style("opacity", 1)
    }, i.redraw = function(a, b) {
        var c, d, e, f, g, h, i, j, k, m, n, o, p, q, r, s, t, u, v, x, y, z, A, B, C, D, E, F, G, H = this,
            I = H.main,
            J = H.d3,
            K = H.config,
            L = H.getShapeIndices(H.isAreaType),
            M = H.getShapeIndices(H.isBarType),
            N = H.getShapeIndices(H.isLineType),
            O = H.hasArcType(),
            P = H.filterTargetsToShow(H.data.targets),
            Q = H.xv.bind(H);
        if (a = a || {}, c = w(a, "withY", !0), d = w(a, "withSubchart", !0), e = w(a, "withTransition", !0), h = w(a, "withTransform", !1), i = w(a, "withUpdateXDomain", !1), j = w(a, "withUpdateOrgXDomain", !1), k = w(a, "withTrimXDomain", !0), p = w(a, "withUpdateXAxis", i), m = w(a, "withLegend", !1), n = w(a, "withEventRect", !0), o = w(a, "withDimension", !0), f = w(a, "withTransitionForExit", e), g = w(a, "withTransitionForAxis", e), v = e ? K.transition_duration : 0, x = f ? v : 0, y = g ? v : 0, b = b || H.axis.generateTransitions(y), m && K.legend_show ? H.updateLegend(H.mapToIds(H.data.targets), a, b) : o && H.updateDimension(!0), H.isCategorized() && 0 === P.length && H.x.domain([0, H.axes.x.selectAll(".tick").size()]), P.length ? (H.updateXDomain(P, i, j, k), K.axis_x_tick_values || (B = H.axis.updateXAxisTickValues(P))) : (H.xAxis.tickValues([]), H.subXAxis.tickValues([])), K.zoom_rescale && !a.flow && (E = H.x.orgDomain()), H.y.domain(H.getYDomain(P, "y", E)), H.y2.domain(H.getYDomain(P, "y2", E)), !K.axis_y_tick_values && K.axis_y_tick_count && H.yAxis.tickValues(H.axis.generateTickValues(H.y.domain(), K.axis_y_tick_count)), !K.axis_y2_tick_values && K.axis_y2_tick_count && H.y2Axis.tickValues(H.axis.generateTickValues(H.y2.domain(), K.axis_y2_tick_count)), H.axis.redraw(b, O), H.axis.updateLabels(e), (i || p) && P.length)
            if (K.axis_x_tick_culling && B) {
                for (C = 1; C < B.length; C++)
                    if (B.length / C < K.axis_x_tick_culling_max) {
                        D = C;
                        break
                    }
                H.svg.selectAll("." + l.axisX + " .tick text").each(function(a) {
                    var b = B.indexOf(a);
                    b >= 0 && J.select(this).style("display", b % D ? "none" : "block")
                })
            } else H.svg.selectAll("." + l.axisX + " .tick text").style("display", "block");
        q = H.generateDrawArea ? H.generateDrawArea(L, !1) : void 0, r = H.generateDrawBar ? H.generateDrawBar(M) : void 0, s = H.generateDrawLine ? H.generateDrawLine(N, !1) : void 0, t = H.generateXYForText(L, M, N, !0), u = H.generateXYForText(L, M, N, !1), c && (H.subY.domain(H.getYDomain(P, "y")), H.subY2.domain(H.getYDomain(P, "y2"))), H.updateXgridFocus(), I.select("text." + l.text + "." + l.empty).attr("x", H.width / 2).attr("y", H.height / 2).text(K.data_empty_label_text).transition().style("opacity", P.length ? 0 : 1), H.updateGrid(v), H.updateRegion(v), H.updateBar(x), H.updateLine(x), H.updateArea(x), H.updateCircle(), H.hasDataLabel() && H.updateText(x), H.redrawTitle && H.redrawTitle(), H.redrawArc && H.redrawArc(v, x, h), H.redrawSubchart && H.redrawSubchart(d, b, v, x, L, M, N), I.selectAll("." + l.selectedCircles).filter(H.isBarType.bind(H)).selectAll("circle").remove(), K.interaction_enabled && !a.flow && n && (H.redrawEventRect(), H.updateZoom && H.updateZoom()), H.updateCircleY(), F = (H.config.axis_rotated ? H.circleY : H.circleX).bind(H), G = (H.config.axis_rotated ? H.circleX : H.circleY).bind(H), a.flow && (A = H.generateFlow({
            targets: P,
            flow: a.flow,
            duration: a.flow.duration,
            drawBar: r,
            drawLine: s,
            drawArea: q,
            cx: F,
            cy: G,
            xv: Q,
            xForText: t,
            yForText: u
        })), (v || A) && H.isTabVisible() ? J.transition().duration(v).each(function() {
            var b = [];
            [H.redrawBar(r, !0), H.redrawLine(s, !0), H.redrawArea(q, !0), H.redrawCircle(F, G, !0), H.redrawText(t, u, a.flow, !0), H.redrawRegion(!0), H.redrawGrid(!0)].forEach(function(a) {
                a.forEach(function(a) {
                    b.push(a)
                })
            }), z = H.generateWait(), b.forEach(function(a) {
                z.add(a)
            })
        }).call(z, function() {
            A && A(), K.onrendered && K.onrendered.call(H)
        }) : (H.redrawBar(r), H.redrawLine(s), H.redrawArea(q), H.redrawCircle(F, G), H.redrawText(t, u, a.flow), H.redrawRegion(), H.redrawGrid(), K.onrendered && K.onrendered.call(H)), H.mapToIds(H.data.targets).forEach(function(a) {
            H.withoutFadeIn[a] = !0
        })
    }, i.updateAndRedraw = function(a) {
        var b, c = this,
            d = c.config;
        a = a || {}, a.withTransition = w(a, "withTransition", !0), a.withTransform = w(a, "withTransform", !1), a.withLegend = w(a, "withLegend", !1), a.withUpdateXDomain = !0, a.withUpdateOrgXDomain = !0, a.withTransitionForExit = !1, a.withTransitionForTransform = w(a, "withTransitionForTransform", a.withTransition), c.updateSizes(), a.withLegend && d.legend_show || (b = c.axis.generateTransitions(a.withTransitionForAxis ? d.transition_duration : 0), c.updateScales(), c.updateSvgSize(), c.transformAll(a.withTransitionForTransform, b)), c.redraw(a, b)
    }, i.redrawWithoutRescale = function() {
        this.redraw({
            withY: !1,
            withSubchart: !1,
            withEventRect: !1,
            withTransitionForAxis: !1
        })
    }, i.isTimeSeries = function() {
        return "timeseries" === this.config.axis_x_type
    }, i.isCategorized = function() {
        return this.config.axis_x_type.indexOf("categor") >= 0
    }, i.isCustomX = function() {
        var a = this,
            b = a.config;
        return !a.isTimeSeries() && (b.data_x || v(b.data_xs))
    }, i.isTimeSeriesY = function() {
        return "timeseries" === this.config.axis_y_type
    }, i.getTranslate = function(a) {
        var b, c, d = this,
            e = d.config;
        return "main" === a ? (b = s(d.margin.left), c = s(d.margin.top)) : "context" === a ? (b = s(d.margin2.left), c = s(d.margin2.top)) : "legend" === a ? (b = d.margin3.left, c = d.margin3.top) : "x" === a ? (b = 0, c = e.axis_rotated ? 0 : d.height) : "y" === a ? (b = 0, c = e.axis_rotated ? d.height : 0) : "y2" === a ? (b = e.axis_rotated ? 0 : d.width, c = e.axis_rotated ? 1 : 0) : "subx" === a ? (b = 0, c = e.axis_rotated ? 0 : d.height2) : "arc" === a && (b = d.arcWidth / 2, c = d.arcHeight / 2), "translate(" + b + "," + c + ")"
    }, i.initialOpacity = function(a) {
        return null !== a.value && this.withoutFadeIn[a.id] ? 1 : 0
    }, i.initialOpacityForCircle = function(a) {
        return null !== a.value && this.withoutFadeIn[a.id] ? this.opacityForCircle(a) : 0
    }, i.opacityForCircle = function(a) {
        var b = this.config.point_show ? 1 : 0;
        return m(a.value) ? this.isScatterType(a) ? .5 : b : 0
    }, i.opacityForText = function() {
        return this.hasDataLabel() ? 1 : 0
    }, i.xx = function(a) {
        return a ? this.x(a.x) : null
    }, i.xv = function(a) {
        var b = this,
            c = a.value;
        return b.isTimeSeries() ? c = b.parseDate(a.value) : b.isCategorized() && "string" == typeof a.value && (c = b.config.axis_x_categories.indexOf(a.value)), Math.ceil(b.x(c))
    }, i.yv = function(a) {
        var b = this,
            c = a.axis && "y2" === a.axis ? b.y2 : b.y;
        return Math.ceil(c(a.value))
    }, i.subxx = function(a) {
        return a ? this.subX(a.x) : null
    }, i.transformMain = function(a, b) {
        var c, d, e, f = this;
        b && b.axisX ? c = b.axisX : (c = f.main.select("." + l.axisX), a && (c = c.transition())), b && b.axisY ? d = b.axisY : (d = f.main.select("." + l.axisY), a && (d = d.transition())), b && b.axisY2 ? e = b.axisY2 : (e = f.main.select("." + l.axisY2), a && (e = e.transition())), (a ? f.main.transition() : f.main).attr("transform", f.getTranslate("main")), c.attr("transform", f.getTranslate("x")), d.attr("transform", f.getTranslate("y")), e.attr("transform", f.getTranslate("y2")), f.main.select("." + l.chartArcs).attr("transform", f.getTranslate("arc"))
    }, i.transformAll = function(a, b) {
        var c = this;
        c.transformMain(a, b), c.config.subchart_show && c.transformContext(a, b), c.legend && c.transformLegend(a)
    }, i.updateSvgSize = function() {
        var a = this,
            b = a.svg.select(".c3-brush .background");
        a.svg.attr("width", a.currentWidth).attr("height", a.currentHeight), a.svg.selectAll(["#" + a.clipId, "#" + a.clipIdForGrid]).select("rect").attr("width", a.width).attr("height", a.height), a.svg.select("#" + a.clipIdForXAxis).select("rect").attr("x", a.getXAxisClipX.bind(a)).attr("y", a.getXAxisClipY.bind(a)).attr("width", a.getXAxisClipWidth.bind(a)).attr("height", a.getXAxisClipHeight.bind(a)), a.svg.select("#" + a.clipIdForYAxis).select("rect").attr("x", a.getYAxisClipX.bind(a)).attr("y", a.getYAxisClipY.bind(a)).attr("width", a.getYAxisClipWidth.bind(a)).attr("height", a.getYAxisClipHeight.bind(a)), a.svg.select("#" + a.clipIdForSubchart).select("rect").attr("width", a.width).attr("height", b.size() ? b.attr("height") : 0), a.svg.select("." + l.zoomRect).attr("width", a.width).attr("height", a.height), a.selectChart.style("max-height", a.currentHeight + "px")
    }, i.updateDimension = function(a) {
        var b = this;
        a || (b.config.axis_rotated ? (b.axes.x.call(b.xAxis), b.axes.subx.call(b.subXAxis)) : (b.axes.y.call(b.yAxis), b.axes.y2.call(b.y2Axis))), b.updateSizes(), b.updateScales(), b.updateSvgSize(), b.transformAll(!1)
    }, i.observeInserted = function(b) {
        var c, d = this;
        return "undefined" == typeof MutationObserver ? void a.console.error("MutationObserver not defined.") : (c = new MutationObserver(function(e) {
            e.forEach(function(e) {
                "childList" === e.type && e.previousSibling && (c.disconnect(), d.intervalForObserveInserted = a.setInterval(function() {
                    b.node().parentNode && (a.clearInterval(d.intervalForObserveInserted), d.updateDimension(), d.brush && d.brush.update(), d.config.oninit.call(d), d.redraw({
                        withTransform: !0,
                        withUpdateXDomain: !0,
                        withUpdateOrgXDomain: !0,
                        withTransition: !1,
                        withTransitionForTransform: !1,
                        withLegend: !0
                    }), b.transition().style("opacity", 1))
                }, 10))
            })
        }), void c.observe(b.node(), {
            attributes: !0,
            childList: !0,
            characterData: !0
        }))
    }, i.bindResize = function() {
        var b = this,
            c = b.config;
        if (b.resizeFunction = b.generateResize(), b.resizeFunction.add(function() {
                c.onresize.call(b)
            }), c.resize_auto && b.resizeFunction.add(function() {
                void 0 !== b.resizeTimeout && a.clearTimeout(b.resizeTimeout), b.resizeTimeout = a.setTimeout(function() {
                    delete b.resizeTimeout, b.api.flush()
                }, 100)
            }), b.resizeFunction.add(function() {
                c.onresized.call(b)
            }), a.attachEvent) a.attachEvent("onresize", b.resizeFunction);
        else if (a.addEventListener) a.addEventListener("resize", b.resizeFunction, !1);
        else {
            var d = a.onresize;
            d ? d.add && d.remove || (d = b.generateResize(), d.add(a.onresize)) : d = b.generateResize(), d.add(b.resizeFunction), a.onresize = d
        }
    }, i.generateResize = function() {
        function a() {
            b.forEach(function(a) {
                a()
            })
        }
        var b = [];
        return a.add = function(a) {
            b.push(a)
        }, a.remove = function(a) {
            for (var c = 0; c < b.length; c++)
                if (b[c] === a) {
                    b.splice(c, 1);
                    break
                }
        }, a
    }, i.endall = function(a, b) {
        var c = 0;
        a.each(function() {
            ++c
        }).each("end", function() {
            --c || b.apply(this, arguments)
        })
    }, i.generateWait = function() {
        var a = [],
            b = function(b, c) {
                var d = setInterval(function() {
                    var b = 0;
                    a.forEach(function(a) {
                        if (a.empty()) return void(b += 1);
                        try {
                            a.transition()
                        } catch (c) {
                            b += 1
                        }
                    }), b === a.length && (clearInterval(d), c && c())
                }, 10)
            };
        return b.add = function(b) {
            a.push(b)
        }, b
    }, i.parseDate = function(b) {
        var c, d = this;
        return b instanceof Date ? c = b : "string" == typeof b ? c = d.dataTimeFormat(d.config.data_xFormat).parse(b) : "number" != typeof b || isNaN(b) || (c = new Date(+b)), (!c || isNaN(+c)) && a.console.error("Failed to parse x '" + b + "' to Date object"), c
    }, i.isTabVisible = function() {
        var a;
        return "undefined" != typeof document.hidden ? a = "hidden" : "undefined" != typeof document.mozHidden ? a = "mozHidden" : "undefined" != typeof document.msHidden ? a = "msHidden" : "undefined" != typeof document.webkitHidden && (a = "webkitHidden"), document[a] ? !1 : !0
    }, i.getDefaultConfig = function() {
        var a = {
            bindto: "#chart",
            size_width: void 0,
            size_height: void 0,
            padding_left: void 0,
            padding_right: void 0,
            padding_top: void 0,
            padding_bottom: void 0,
            resize_auto: !0,
            zoom_enabled: !1,
            zoom_extent: void 0,
            zoom_privileged: !1,
            zoom_rescale: !1,
            zoom_onzoom: function() {},
            zoom_onzoomstart: function() {},
            zoom_onzoomend: function() {},
            zoom_x_min: void 0,
            zoom_x_max: void 0,
            interaction_enabled: !0,
            onmouseover: function() {},
            onmouseout: function() {},
            onresize: function() {},
            onresized: function() {},
            oninit: function() {},
            onrendered: function() {},
            transition_duration: 350,
            data_x: void 0,
            data_xs: {},
            data_xFormat: "%Y-%m-%d",
            data_xLocaltime: !0,
            data_xSort: !0,
            data_idConverter: function(a) {
                return a
            },
            data_names: {},
            data_classes: {},
            data_groups: [],
            data_axes: {},
            data_type: void 0,
            data_types: {},
            data_labels: {},
            data_order: "desc",
            data_regions: {},
            data_color: void 0,
            data_colors: {},
            data_hide: !1,
            data_filter: void 0,
            data_selection_enabled: !1,
            data_selection_grouped: !1,
            data_selection_isselectable: function() {
                return !0
            },
            data_selection_multiple: !0,
            data_selection_draggable: !1,
            data_onclick: function() {},
            data_onmouseover: function() {},
            data_onmouseout: function() {},
            data_onselected: function() {},
            data_onunselected: function() {},
            data_url: void 0,
            data_json: void 0,
            data_rows: void 0,
            data_columns: void 0,
            data_mimeType: void 0,
            data_keys: void 0,
            data_empty_label_text: "",
            subchart_show: !1,
            subchart_size_height: 60,
            subchart_axis_x_show: !0,
            subchart_onbrush: function() {},
            color_pattern: [],
            color_threshold: {},
            legend_show: !0,
            legend_hide: !1,
            legend_position: "bottom",
            legend_inset_anchor: "top-left",
            legend_inset_x: 10,
            legend_inset_y: 0,
            legend_inset_step: void 0,
            legend_item_onclick: void 0,
            legend_item_onmouseover: void 0,
            legend_item_onmouseout: void 0,
            legend_equally: !1,
            legend_padding: 0,
            legend_item_tile_width: 10,
            legend_item_tile_height: 10,
            axis_rotated: !1,
            axis_x_show: !0,
            axis_x_type: "indexed",
            axis_x_localtime: !0,
            axis_x_categories: [],
            axis_x_tick_centered: !1,
            axis_x_tick_format: void 0,
            axis_x_tick_culling: {},
            axis_x_tick_culling_max: 10,
            axis_x_tick_count: void 0,
            axis_x_tick_fit: !0,
            axis_x_tick_values: null,
            axis_x_tick_rotate: 0,
            axis_x_tick_outer: !0,
            axis_x_tick_multiline: !0,
            axis_x_tick_width: null,
            axis_x_max: void 0,
            axis_x_min: void 0,
            axis_x_padding: {},
            axis_x_height: void 0,
            axis_x_extent: void 0,
            axis_x_label: {},
            axis_y_show: !0,
            axis_y_type: void 0,
            axis_y_max: void 0,
            axis_y_min: void 0,
            axis_y_inverted: !1,
            axis_y_center: void 0,
            axis_y_inner: void 0,
            axis_y_label: {},
            axis_y_tick_format: void 0,
            axis_y_tick_outer: !0,
            axis_y_tick_values: null,
            axis_y_tick_count: void 0,
            axis_y_tick_time_value: void 0,
            axis_y_tick_time_interval: void 0,
            axis_y_padding: {},
            axis_y_default: void 0,
            axis_y2_show: !1,
            axis_y2_max: void 0,
            axis_y2_min: void 0,
            axis_y2_inverted: !1,
            axis_y2_center: void 0,
            axis_y2_inner: void 0,
            axis_y2_label: {},
            axis_y2_tick_format: void 0,
            axis_y2_tick_outer: !0,
            axis_y2_tick_values: null,
            axis_y2_tick_count: void 0,
            axis_y2_padding: {},
            axis_y2_default: void 0,
            grid_x_show: !1,
            grid_x_type: "tick",
            grid_x_lines: [],
            grid_y_show: !1,
            grid_y_lines: [],
            grid_y_ticks: 10,
            grid_focus_show: !0,
            grid_lines_front: !0,
            point_show: !0,
            point_r: 2.5,
            point_sensitivity: 10,
            point_focus_expand_enabled: !0,
            point_focus_expand_r: void 0,
            point_select_r: void 0,
            line_connectNull: !1,
            line_step_type: "step",
            bar_width: void 0,
            bar_width_ratio: .6,
            bar_width_max: void 0,
            bar_zerobased: !0,
            area_zerobased: !0,
            pie_label_show: !0,
            pie_label_format: void 0,
            pie_label_threshold: .05,
            pie_expand: {},
            pie_expand_duration: 50,
            gauge_label_show: !0,
            gauge_label_format: void 0,
            gauge_min: 0,
            gauge_max: 100,
            gauge_units: void 0,
            gauge_width: void 0,
            gauge_expand: {},
            gauge_expand_duration: 50,
            donut_label_show: !0,
            donut_label_format: void 0,
            donut_label_threshold: .05,
            donut_width: void 0,
            donut_title: "",
            donut_expand: {},
            donut_expand_duration: 50,
            spline_interpolation_type: "cardinal",
            regions: [],
            tooltip_show: !0,
            tooltip_grouped: !0,
            tooltip_format_title: void 0,
            tooltip_format_name: void 0,
            tooltip_format_value: void 0,
            tooltip_position: void 0,
            tooltip_contents: function(a, b, c, d) {
                return this.getTooltipContent ? this.getTooltipContent(a, b, c, d) : ""
            },
            tooltip_init_show: !1,
            tooltip_init_x: 0,
            tooltip_init_position: {
                top: "0px",
                left: "50px"
            },
            tooltip_onshow: function() {},
            tooltip_onhide: function() {},
            title_text: void 0,
            title_padding: {
                top: 0,
                right: 0,
                bottom: 0,
                left: 0
            },
            title_position: "top-center"
        };
        return Object.keys(this.additionalConfig).forEach(function(b) {
            a[b] = this.additionalConfig[b]
        }, this), a
    }, i.additionalConfig = {}, i.loadConfig = function(a) {
        function b() {
            var a = d.shift();
            return a && c && "object" == typeof c && a in c ? (c = c[a], b()) : a ? void 0 : c
        }
        var c, d, e, f = this.config;
        Object.keys(f).forEach(function(g) {
            c = a, d = g.split("_"), e = b(), q(e) && (f[g] = e)
        })
    }, i.getScale = function(a, b, c) {
        return (c ? this.d3.time.scale() : this.d3.scale.linear()).range([a, b])
    }, i.getX = function(a, b, c, d) {
        var e, f = this,
            g = f.getScale(a, b, f.isTimeSeries()),
            h = c ? g.domain(c) : g;
        f.isCategorized() ? (d = d || function() {
            return 0
        }, g = function(a, b) {
            var c = h(a) + d(a);
            return b ? c : Math.ceil(c)
        }) : g = function(a, b) {
            var c = h(a);
            return b ? c : Math.ceil(c)
        };
        for (e in h) g[e] = h[e];
        return g.orgDomain = function() {
            return h.domain()
        }, f.isCategorized() && (g.domain = function(a) {
            return arguments.length ? (h.domain(a), g) : (a = this.orgDomain(), [a[0], a[1] + 1])
        }), g
    }, i.getY = function(a, b, c) {
        var d = this.getScale(a, b, this.isTimeSeriesY());
        return c && d.domain(c), d
    }, i.getYScale = function(a) {
        return "y2" === this.axis.getId(a) ? this.y2 : this.y
    }, i.getSubYScale = function(a) {
        return "y2" === this.axis.getId(a) ? this.subY2 : this.subY
    }, i.updateScales = function() {
        var a = this,
            b = a.config,
            c = !a.x;
        a.xMin = b.axis_rotated ? 1 : 0, a.xMax = b.axis_rotated ? a.height : a.width, a.yMin = b.axis_rotated ? 0 : a.height, a.yMax = b.axis_rotated ? a.width : 1, a.subXMin = a.xMin, a.subXMax = a.xMax, a.subYMin = b.axis_rotated ? 0 : a.height2, a.subYMax = b.axis_rotated ? a.width2 : 1, a.x = a.getX(a.xMin, a.xMax, c ? void 0 : a.x.orgDomain(), function() {
            return a.xAxis.tickOffset()
        }), a.y = a.getY(a.yMin, a.yMax, c ? b.axis_y_default : a.y.domain()), a.y2 = a.getY(a.yMin, a.yMax, c ? b.axis_y2_default : a.y2.domain()), a.subX = a.getX(a.xMin, a.xMax, a.orgXDomain, function(b) {
            return b % 1 ? 0 : a.subXAxis.tickOffset()
        }), a.subY = a.getY(a.subYMin, a.subYMax, c ? b.axis_y_default : a.subY.domain()), a.subY2 = a.getY(a.subYMin, a.subYMax, c ? b.axis_y2_default : a.subY2.domain()), a.xAxisTickFormat = a.axis.getXAxisTickFormat(), a.xAxisTickValues = a.axis.getXAxisTickValues(), a.yAxisTickValues = a.axis.getYAxisTickValues(), a.y2AxisTickValues = a.axis.getY2AxisTickValues(), a.xAxis = a.axis.getXAxis(a.x, a.xOrient, a.xAxisTickFormat, a.xAxisTickValues, b.axis_x_tick_outer), a.subXAxis = a.axis.getXAxis(a.subX, a.subXOrient, a.xAxisTickFormat, a.xAxisTickValues, b.axis_x_tick_outer), a.yAxis = a.axis.getYAxis(a.y, a.yOrient, b.axis_y_tick_format, a.yAxisTickValues, b.axis_y_tick_outer), a.y2Axis = a.axis.getYAxis(a.y2, a.y2Orient, b.axis_y2_tick_format, a.y2AxisTickValues, b.axis_y2_tick_outer), c || (a.brush && a.brush.scale(a.subX), b.zoom_enabled && a.zoom.scale(a.x)), a.updateArc && a.updateArc()
    }, i.getYDomainMin = function(a) {
        var b, c, d, e, f, g, h = this,
            i = h.config,
            j = h.mapToIds(a),
            k = h.getValuesAsIdKeyed(a);
        if (i.data_groups.length > 0)
            for (g = h.hasNegativeValueInTargets(a), b = 0; b < i.data_groups.length; b++)
                if (e = i.data_groups[b].filter(function(a) {
                        return j.indexOf(a) >= 0
                    }), 0 !== e.length)
                    for (d = e[0], g && k[d] && k[d].forEach(function(a, b) {
                            k[d][b] = 0 > a ? a : 0
                        }), c = 1; c < e.length; c++) f = e[c], k[f] && k[f].forEach(function(a, b) {
                        h.axis.getId(f) !== h.axis.getId(d) || !k[d] || g && +a > 0 || (k[d][b] += +a)
                    });
        return h.d3.min(Object.keys(k).map(function(a) {
            return h.d3.min(k[a])
        }))
    }, i.getYDomainMax = function(a) {
        var b, c, d, e, f, g, h = this,
            i = h.config,
            j = h.mapToIds(a),
            k = h.getValuesAsIdKeyed(a);
        if (i.data_groups.length > 0)
            for (g = h.hasPositiveValueInTargets(a), b = 0; b < i.data_groups.length; b++)
                if (e = i.data_groups[b].filter(function(a) {
                        return j.indexOf(a) >= 0
                    }), 0 !== e.length)
                    for (d = e[0], g && k[d] && k[d].forEach(function(a, b) {
                            k[d][b] = a > 0 ? a : 0
                        }), c = 1; c < e.length; c++) f = e[c], k[f] && k[f].forEach(function(a, b) {
                        h.axis.getId(f) !== h.axis.getId(d) || !k[d] || g && 0 > +a || (k[d][b] += +a)
                    });
        return h.d3.max(Object.keys(k).map(function(a) {
            return h.d3.max(k[a])
        }))
    }, i.getYDomain = function(a, b, c) {
        var d, e, f, g, h, i, j, k, l, n, o, p = this,
            q = p.config,
            r = a.filter(function(a) {
                return p.axis.getId(a.id) === b
            }),
            s = c ? p.filterByXDomain(r, c) : r,
            u = "y2" === b ? q.axis_y2_min : q.axis_y_min,
            w = "y2" === b ? q.axis_y2_max : q.axis_y_max,
            x = p.getYDomainMin(s),
            y = p.getYDomainMax(s),
            z = "y2" === b ? q.axis_y2_center : q.axis_y_center,
            A = p.hasType("bar", s) && q.bar_zerobased || p.hasType("area", s) && q.area_zerobased,
            B = "y2" === b ? q.axis_y2_inverted : q.axis_y_inverted,
            C = p.hasDataLabel() && q.axis_rotated,
            D = p.hasDataLabel() && !q.axis_rotated;
        return x = m(u) ? u : m(w) ? w > x ? x : w - 10 : x, y = m(w) ? w : m(u) ? y > u ? y : u + 10 : y, 0 === s.length ? "y2" === b ? p.y2.domain() : p.y.domain() : (isNaN(x) && (x = 0), isNaN(y) && (y = x), x === y && (0 > x ? y = 0 : x = 0), n = x >= 0 && y >= 0, o = 0 >= x && 0 >= y, (m(u) && n || m(w) && o) && (A = !1), A && (n && (x = 0), o && (y = 0)), e = Math.abs(y - x), f = g = h = .1 * e, "undefined" != typeof z && (i = Math.max(Math.abs(x), Math.abs(y)), y = z + i, x = z - i), C ? (j = p.getDataLabelLength(x, y, "width"), k = t(p.y.range()), l = [j[0] / k, j[1] / k], g += e * (l[1] / (1 - l[0] - l[1])), h += e * (l[0] / (1 - l[0] - l[1]))) : D && (j = p.getDataLabelLength(x, y, "height"), g += p.axis.convertPixelsToAxisPadding(j[1], e), h += p.axis.convertPixelsToAxisPadding(j[0], e)), "y" === b && v(q.axis_y_padding) && (g = p.axis.getPadding(q.axis_y_padding, "top", g, e), h = p.axis.getPadding(q.axis_y_padding, "bottom", h, e)), "y2" === b && v(q.axis_y2_padding) && (g = p.axis.getPadding(q.axis_y2_padding, "top", g, e), h = p.axis.getPadding(q.axis_y2_padding, "bottom", h, e)), A && (n && (h = x), o && (g = -y)), d = [x - h, y + g], B ? d.reverse() : d)
    }, i.getXDomainMin = function(a) {
        var b = this,
            c = b.config;
        return q(c.axis_x_min) ? b.isTimeSeries() ? this.parseDate(c.axis_x_min) : c.axis_x_min : b.d3.min(a, function(a) {
            return b.d3.min(a.values, function(a) {
                return a.x
            })
        })
    }, i.getXDomainMax = function(a) {
        var b = this,
            c = b.config;
        return q(c.axis_x_max) ? b.isTimeSeries() ? this.parseDate(c.axis_x_max) : c.axis_x_max : b.d3.max(a, function(a) {
            return b.d3.max(a.values, function(a) {
                return a.x
            })
        })
    }, i.getXDomainPadding = function(a) {
        var b, c, d, e, f = this,
            g = f.config,
            h = a[1] - a[0];
        return f.isCategorized() ? c = 0 : f.hasType("bar") ? (b = f.getMaxDataCount(), c = b > 1 ? h / (b - 1) / 2 : .5) : c = .01 * h, "object" == typeof g.axis_x_padding && v(g.axis_x_padding) ? (d = m(g.axis_x_padding.left) ? g.axis_x_padding.left : c, e = m(g.axis_x_padding.right) ? g.axis_x_padding.right : c) : d = e = "number" == typeof g.axis_x_padding ? g.axis_x_padding : c, {
            left: d,
            right: e
        }
    }, i.getXDomain = function(a) {
        var b = this,
            c = [b.getXDomainMin(a), b.getXDomainMax(a)],
            d = c[0],
            e = c[1],
            f = b.getXDomainPadding(c),
            g = 0,
            h = 0;
        return d - e !== 0 || b.isCategorized() || (b.isTimeSeries() ? (d = new Date(.5 * d.getTime()), e = new Date(1.5 * e.getTime())) : (d = 0 === d ? 1 : .5 * d, e = 0 === e ? -1 : 1.5 * e)), (d || 0 === d) && (g = b.isTimeSeries() ? new Date(d.getTime() - f.left) : d - f.left), (e || 0 === e) && (h = b.isTimeSeries() ? new Date(e.getTime() + f.right) : e + f.right), [g, h]
    }, i.updateXDomain = function(a, b, c, d, e) {
        var f = this,
            g = f.config;
        return c && (f.x.domain(e ? e : f.d3.extent(f.getXDomain(a))), f.orgXDomain = f.x.domain(), g.zoom_enabled && f.zoom.scale(f.x).updateScaleExtent(), f.subX.domain(f.x.domain()), f.brush && f.brush.scale(f.subX)), b && (f.x.domain(e ? e : !f.brush || f.brush.empty() ? f.orgXDomain : f.brush.extent()), g.zoom_enabled && f.zoom.scale(f.x).updateScaleExtent()), d && f.x.domain(f.trimXDomain(f.x.orgDomain())), f.x.domain()
    }, i.trimXDomain = function(a) {
        var b = this.getZoomDomain(),
            c = b[0],
            d = b[1];
        return a[0] <= c && (a[1] = +a[1] + (c - a[0]), a[0] = c), d <= a[1] && (a[0] = +a[0] - (a[1] - d), a[1] = d), a
    }, i.isX = function(a) {
        var b = this,
            c = b.config;
        return c.data_x && a === c.data_x || v(c.data_xs) && x(c.data_xs, a)
    }, i.isNotX = function(a) {
        return !this.isX(a)
    }, i.getXKey = function(a) {
        var b = this,
            c = b.config;
        return c.data_x ? c.data_x : v(c.data_xs) ? c.data_xs[a] : null
    }, i.getXValuesOfXKey = function(a, b) {
        var c, d = this,
            e = b && v(b) ? d.mapToIds(b) : [];
        return e.forEach(function(b) {
            d.getXKey(b) === a && (c = d.data.xs[b])
        }), c
    }, i.getIndexByX = function(a) {
        var b = this,
            c = b.filterByX(b.data.targets, a);
        return c.length ? c[0].index : null
    }, i.getXValue = function(a, b) {
        var c = this;
        return a in c.data.xs && c.data.xs[a] && m(c.data.xs[a][b]) ? c.data.xs[a][b] : b
    }, i.getOtherTargetXs = function() {
        var a = this,
            b = Object.keys(a.data.xs);
        return b.length ? a.data.xs[b[0]] : null
    }, i.getOtherTargetX = function(a) {
        var b = this.getOtherTargetXs();
        return b && a < b.length ? b[a] : null
    }, i.addXs = function(a) {
        var b = this;
        Object.keys(a).forEach(function(c) {
            b.config.data_xs[c] = a[c]
        })
    }, i.hasMultipleX = function(a) {
        return this.d3.set(Object.keys(a).map(function(b) {
            return a[b]
        })).size() > 1
    }, i.isMultipleX = function() {
        return v(this.config.data_xs) || !this.config.data_xSort || this.hasType("scatter")
    }, i.addName = function(a) {
        var b, c = this;
        return a && (b = c.config.data_names[a.id], a.name = void 0 !== b ? b : a.id), a
    }, i.getValueOnIndex = function(a, b) {
        var c = a.filter(function(a) {
            return a.index === b
        });
        return c.length ? c[0] : null
    }, i.updateTargetX = function(a, b) {
        var c = this;
        a.forEach(function(a) {
            a.values.forEach(function(d, e) {
                d.x = c.generateTargetX(b[e], a.id, e)
            }), c.data.xs[a.id] = b
        })
    }, i.updateTargetXs = function(a, b) {
        var c = this;
        a.forEach(function(a) {
            b[a.id] && c.updateTargetX([a], b[a.id])
        })
    }, i.generateTargetX = function(a, b, c) {
        var d, e = this;
        return d = e.isTimeSeries() ? e.parseDate(a ? a : e.getXValue(b, c)) : e.isCustomX() && !e.isCategorized() ? m(a) ? +a : e.getXValue(b, c) : c
    }, i.cloneTarget = function(a) {
        return {
            id: a.id,
            id_org: a.id_org,
            values: a.values.map(function(a) {
                return {
                    x: a.x,
                    value: a.value,
                    id: a.id
                }
            })
        }
    }, i.updateXs = function() {
        var a = this;
        a.data.targets.length && (a.xs = [], a.data.targets[0].values.forEach(function(b) {
            a.xs[b.index] = b.x
        }))
    }, i.getPrevX = function(a) {
        var b = this.xs[a - 1];
        return "undefined" != typeof b ? b : null
    }, i.getNextX = function(a) {
        var b = this.xs[a + 1];
        return "undefined" != typeof b ? b : null
    }, i.getMaxDataCount = function() {
        var a = this;
        return a.d3.max(a.data.targets, function(a) {
            return a.values.length
        })
    }, i.getMaxDataCountTarget = function(a) {
        var b, c = a.length,
            d = 0;
        return c > 1 ? a.forEach(function(a) {
            a.values.length > d && (b = a, d = a.values.length)
        }) : b = c ? a[0] : null, b
    }, i.getEdgeX = function(a) {
        var b = this;
        return a.length ? [b.d3.min(a, function(a) {
            return a.values[0].x
        }), b.d3.max(a, function(a) {
            return a.values[a.values.length - 1].x
        })] : [0, 0]
    }, i.mapToIds = function(a) {
        return a.map(function(a) {
            return a.id
        })
    }, i.mapToTargetIds = function(a) {
        var b = this;
        return a ? [].concat(a) : b.mapToIds(b.data.targets)
    }, i.hasTarget = function(a, b) {
        var c, d = this.mapToIds(a);
        for (c = 0; c < d.length; c++)
            if (d[c] === b) return !0;
        return !1
    }, i.isTargetToShow = function(a) {
        return this.hiddenTargetIds.indexOf(a) < 0
    }, i.isLegendToShow = function(a) {
        return this.hiddenLegendIds.indexOf(a) < 0
    }, i.filterTargetsToShow = function(a) {
        var b = this;
        return a.filter(function(a) {
            return b.isTargetToShow(a.id)
        })
    }, i.mapTargetsToUniqueXs = function(a) {
        var b = this,
            c = b.d3.set(b.d3.merge(a.map(function(a) {
                return a.values.map(function(a) {
                    return +a.x
                })
            }))).values();
        return c = c.map(b.isTimeSeries() ? function(a) {
            return new Date(+a)
        } : function(a) {
            return +a
        }), c.sort(function(a, b) {
            return b > a ? -1 : a > b ? 1 : a >= b ? 0 : 0 / 0
        })
    }, i.addHiddenTargetIds = function(a) {
        this.hiddenTargetIds = this.hiddenTargetIds.concat(a)
    }, i.removeHiddenTargetIds = function(a) {
        this.hiddenTargetIds = this.hiddenTargetIds.filter(function(b) {
            return a.indexOf(b) < 0
        })
    }, i.addHiddenLegendIds = function(a) {
        this.hiddenLegendIds = this.hiddenLegendIds.concat(a)
    }, i.removeHiddenLegendIds = function(a) {
        this.hiddenLegendIds = this.hiddenLegendIds.filter(function(b) {
            return a.indexOf(b) < 0
        })
    }, i.getValuesAsIdKeyed = function(a) {
        var b = {};
        return a.forEach(function(a) {
            b[a.id] = [], a.values.forEach(function(c) {
                b[a.id].push(c.value)
            })
        }), b
    }, i.checkValueInTargets = function(a, b) {
        var c, d, e, f = Object.keys(a);
        for (c = 0; c < f.length; c++)
            for (e = a[f[c]].values, d = 0; d < e.length; d++)
                if (b(e[d].value)) return !0;
        return !1
    }, i.hasNegativeValueInTargets = function(a) {
        return this.checkValueInTargets(a, function(a) {
            return 0 > a
        })
    }, i.hasPositiveValueInTargets = function(a) {
        return this.checkValueInTargets(a, function(a) {
            return a > 0
        })
    }, i.isOrderDesc = function() {
        var a = this.config;
        return "string" == typeof a.data_order && "desc" === a.data_order.toLowerCase()
    }, i.isOrderAsc = function() {
        var a = this.config;
        return "string" == typeof a.data_order && "asc" === a.data_order.toLowerCase()
    }, i.orderTargets = function(a) {
        var b = this,
            c = b.config,
            d = b.isOrderAsc(),
            e = b.isOrderDesc();
        return d || e ? a.sort(function(a, b) {
            var c = function(a, b) {
                    return a + Math.abs(b.value)
                },
                e = a.values.reduce(c, 0),
                f = b.values.reduce(c, 0);
            return d ? f - e : e - f
        }) : n(c.data_order) && a.sort(c.data_order), a
    }, i.filterByX = function(a, b) {
        return this.d3.merge(a.map(function(a) {
            return a.values
        })).filter(function(a) {
            return a.x - b === 0
        })
    }, i.filterRemoveNull = function(a) {
        return a.filter(function(a) {
            return m(a.value)
        })
    }, i.filterByXDomain = function(a, b) {
        return a.map(function(a) {
            return {
                id: a.id,
                id_org: a.id_org,
                values: a.values.filter(function(a) {
                    return b[0] <= a.x && a.x <= b[1]
                })
            }
        })
    }, i.hasDataLabel = function() {
        var a = this.config;
        return "boolean" == typeof a.data_labels && a.data_labels ? !0 : "object" == typeof a.data_labels && v(a.data_labels) ? !0 : !1
    }, i.getDataLabelLength = function(a, b, c) {
        var d = this,
            e = [0, 0],
            f = 1.3;
        return d.selectChart.select("svg").selectAll(".dummy").data([a, b]).enter().append("text").text(function(a) {
            return d.dataLabelFormat(a.id)(a)
        }).each(function(a, b) {
            e[b] = this.getBoundingClientRect()[c] * f
        }).remove(), e
    }, i.isNoneArc = function(a) {
        return this.hasTarget(this.data.targets, a.id)
    }, i.isArc = function(a) {
        return "data" in a && this.hasTarget(this.data.targets, a.data.id)
    }, i.findSameXOfValues = function(a, b) {
        var c, d = a[b].x,
            e = [];
        for (c = b - 1; c >= 0 && d === a[c].x; c--) e.push(a[c]);
        for (c = b; c < a.length && d === a[c].x; c++) e.push(a[c]);
        return e
    }, i.findClosestFromTargets = function(a, b) {
        var c, d = this;
        return c = a.map(function(a) {
            return d.findClosest(a.values, b)
        }), d.findClosest(c, b)
    }, i.findClosest = function(a, b) {
        var c, d = this,
            e = d.config.point_sensitivity;
        return a.filter(function(a) {
            return a && d.isBarType(a.id)
        }).forEach(function(a) {
            var b = d.main.select("." + l.bars + d.getTargetSelectorSuffix(a.id) + " ." + l.bar + "-" + a.index).node();
            !c && d.isWithinBar(b) && (c = a)
        }), a.filter(function(a) {
            return a && !d.isBarType(a.id)
        }).forEach(function(a) {
            var f = d.dist(a, b);
            e > f && (e = f, c = a)
        }), c
    }, i.dist = function(a, b) {
        var c = this,
            d = c.config,
            e = d.axis_rotated ? 1 : 0,
            f = d.axis_rotated ? 0 : 1,
            g = c.circleY(a, a.index),
            h = c.x(a.x);
        return Math.sqrt(Math.pow(h - b[e], 2) + Math.pow(g - b[f], 2))
    }, i.convertValuesToStep = function(a) {
        var b, c = [].concat(a);
        if (!this.isCategorized()) return a;
        for (b = a.length + 1; b > 0; b--) c[b] = c[b - 1];
        return c[0] = {
            x: c[0].x - 1,
            value: c[0].value,
            id: c[0].id
        }, c[a.length + 1] = {
            x: c[a.length].x + 1,
            value: c[a.length].value,
            id: c[a.length].id
        }, c
    }, i.updateDataAttributes = function(a, b) {
        var c = this,
            d = c.config,
            e = d["data_" + a];
        return "undefined" == typeof b ? e : (Object.keys(b).forEach(function(a) {
            e[a] = b[a]
        }), c.redraw({
            withLegend: !0
        }), e)
    }, i.convertUrlToData = function(a, b, c, d) {
        var e = this,
            f = b ? b : "csv";
        e.d3.xhr(a, function(a, b) {
            var g;
            if (!b) throw new Error(a.responseURL + " " + a.status + " (" + a.statusText + ")");
            g = "json" === f ? e.convertJsonToData(JSON.parse(b.response), c) : "tsv" === f ? e.convertTsvToData(b.response) : e.convertCsvToData(b.response), d.call(e, g)
        })
    }, i.convertXsvToData = function(a, b) {
        var c, d = b.parseRows(a);
        return 1 === d.length ? (c = [{}], d[0].forEach(function(a) {
            c[0][a] = null
        })) : c = b.parse(a), c
    }, i.convertCsvToData = function(a) {
        return this.convertXsvToData(a, this.d3.csv)
    }, i.convertTsvToData = function(a) {
        return this.convertXsvToData(a, this.d3.tsv)
    }, i.convertJsonToData = function(a, b) {
        var c, d, e = this,
            f = [];
        return b ? (b.x ? (c = b.value.concat(b.x), e.config.data_x = b.x) : c = b.value, f.push(c), a.forEach(function(a) {
            var b = [];
            c.forEach(function(c) {
                var d = p(a[c]) ? null : a[c];
                b.push(d)
            }), f.push(b)
        }), d = e.convertRowsToData(f)) : (Object.keys(a).forEach(function(b) {
            f.push([b].concat(a[b]))
        }), d = e.convertColumnsToData(f)), d
    }, i.convertRowsToData = function(a) {
        var b, c, d = a[0],
            e = {},
            f = [];
        for (b = 1; b < a.length; b++) {
            for (e = {}, c = 0; c < a[b].length; c++) {
                if (p(a[b][c])) throw new Error("Source data is missing a component at (" + b + "," + c + ")!");
                e[d[c]] = a[b][c]
            }
            f.push(e)
        }
        return f
    }, i.convertColumnsToData = function(a) {
        var b, c, d, e = [];
        for (b = 0; b < a.length; b++)
            for (d = a[b][0], c = 1; c < a[b].length; c++) {
                if (p(e[c - 1]) && (e[c - 1] = {}), p(a[b][c])) throw new Error("Source data is missing a component at (" + b + "," + c + ")!");
                e[c - 1][d] = a[b][c]
            }
        return e
    }, i.convertDataToTargets = function(a, b) {
        var c, d = this,
            e = d.config,
            f = d.d3.keys(a[0]).filter(d.isNotX, d),
            g = d.d3.keys(a[0]).filter(d.isX, d);
        return f.forEach(function(c) {
            var f = d.getXKey(c);
            d.isCustomX() || d.isTimeSeries() ? g.indexOf(f) >= 0 ? d.data.xs[c] = (b && d.data.xs[c] ? d.data.xs[c] : []).concat(a.map(function(a) {
                return a[f]
            }).filter(m).map(function(a, b) {
                return d.generateTargetX(a, c, b)
            })) : e.data_x ? d.data.xs[c] = d.getOtherTargetXs() : v(e.data_xs) && (d.data.xs[c] = d.getXValuesOfXKey(f, d.data.targets)) : d.data.xs[c] = a.map(function(a, b) {
                return b
            })
        }), f.forEach(function(a) {
            if (!d.data.xs[a]) throw new Error('x is not defined for id = "' + a + '".')
        }), c = f.map(function(b, c) {
            var f = e.data_idConverter(b);
            return {
                id: f,
                id_org: b,
                values: a.map(function(a, g) {
                    var h = d.getXKey(b),
                        i = a[h],
                        j = d.generateTargetX(i, b, g),
                        k = null === a[b] || isNaN(a[b]) ? null : +a[b];
                    return d.isCustomX() && d.isCategorized() && 0 === c && i && (0 === g && (e.axis_x_categories = []), e.axis_x_categories.push(i)), (p(a[b]) || d.data.xs[b].length <= g) && (j = void 0), {
                        x: j,
                        value: k,
                        id: f
                    }
                }).filter(function(a) {
                    return q(a.x)
                })
            }
        }), c.forEach(function(a) {
            var b;
            e.data_xSort && (a.values = a.values.sort(function(a, b) {
                var c = a.x || 0 === a.x ? a.x : 1 / 0,
                    d = b.x || 0 === b.x ? b.x : 1 / 0;
                return c - d
            })), b = 0, a.values.forEach(function(a) {
                a.index = b++
            }), d.data.xs[a.id].sort(function(a, b) {
                return a - b
            })
        }), d.hasNegativeValue = d.hasNegativeValueInTargets(c), d.hasPositiveValue = d.hasPositiveValueInTargets(c), e.data_type && d.setTargetType(d.mapToIds(c).filter(function(a) {
            return !(a in e.data_types)
        }), e.data_type), c.forEach(function(a) {
            d.addCache(a.id_org, a)
        }), c
    }, i.load = function(a, b) {
        var c = this;
        a && (b.filter && (a = a.filter(b.filter)), (b.type || b.types) && a.forEach(function(a) {
            var d = b.types && b.types[a.id] ? b.types[a.id] : b.type;
            c.setTargetType(a.id, d)
        }), c.data.targets.forEach(function(b) {
            for (var c = 0; c < a.length; c++)
                if (b.id === a[c].id) {
                    b.values = a[c].values, a.splice(c, 1);
                    break
                }
        }), c.data.targets = c.data.targets.concat(a)), c.updateTargets(c.data.targets), c.redraw({
            withUpdateOrgXDomain: !0,
            withUpdateXDomain: !0,
            withLegend: !0
        }), b.done && b.done()
    }, i.loadFromArgs = function(a) {
        var b = this;
        a.data ? b.load(b.convertDataToTargets(a.data), a) : a.url ? b.convertUrlToData(a.url, a.mimeType, a.keys, function(c) {
            b.load(b.convertDataToTargets(c), a)
        }) : a.json ? b.load(b.convertDataToTargets(b.convertJsonToData(a.json, a.keys)), a) : a.rows ? b.load(b.convertDataToTargets(b.convertRowsToData(a.rows)), a) : a.columns ? b.load(b.convertDataToTargets(b.convertColumnsToData(a.columns)), a) : b.load(null, a)
    }, i.unload = function(a, b) {
        var c = this;
        return b || (b = function() {}), a = a.filter(function(a) {
            return c.hasTarget(c.data.targets, a)
        }), a && 0 !== a.length ? (c.svg.selectAll(a.map(function(a) {
            return c.selectorTarget(a)
        })).transition().style("opacity", 0).remove().call(c.endall, b), void a.forEach(function(a) {
            c.withoutFadeIn[a] = !1, c.legend && c.legend.selectAll("." + l.legendItem + c.getTargetSelectorSuffix(a)).remove(), c.data.targets = c.data.targets.filter(function(b) {
                return b.id !== a
            })
        })) : void b()
    }, i.categoryName = function(a) {
        var b = this.config;
        return a < b.axis_x_categories.length ? b.axis_x_categories[a] : a
    }, i.initEventRect = function() {
        var a = this;
        a.main.select("." + l.chart).append("g").attr("class", l.eventRects).style("fill-opacity", 0)
    }, i.redrawEventRect = function() {
        var a, b, c = this,
            d = c.config,
            e = c.isMultipleX(),
            f = c.main.select("." + l.eventRects).style("cursor", d.zoom_enabled ? d.axis_rotated ? "ns-resize" : "ew-resize" : null).classed(l.eventRectsMultiple, e).classed(l.eventRectsSingle, !e);
        f.selectAll("." + l.eventRect).remove(), c.eventRect = f.selectAll("." + l.eventRect), e ? (a = c.eventRect.data([0]), c.generateEventRectsForMultipleXs(a.enter()), c.updateEventRect(a)) : (b = c.getMaxDataCountTarget(c.data.targets), f.datum(b ? b.values : []), c.eventRect = f.selectAll("." + l.eventRect), a = c.eventRect.data(function(a) {
            return a
        }), c.generateEventRectsForSingleX(a.enter()), c.updateEventRect(a), a.exit().remove())
    }, i.updateEventRect = function(a) {
        var b, c, d, e, f, g, h = this,
            i = h.config;
        a = a || h.eventRect.data(function(a) {
            return a
        }), h.isMultipleX() ? (b = 0, c = 0, d = h.width, e = h.height) : (!h.isCustomX() && !h.isTimeSeries() || h.isCategorized() ? (f = h.getEventRectWidth(), g = function(a) {
            return h.x(a.x) - f / 2
        }) : (h.updateXs(), f = function(a) {
            var b = h.getPrevX(a.index),
                c = h.getNextX(a.index);
            return null === b && null === c ? i.axis_rotated ? h.height : h.width : (null === b && (b = h.x.domain()[0]), null === c && (c = h.x.domain()[1]), Math.max(0, (h.x(c) - h.x(b)) / 2))
        }, g = function(a) {
            var b = h.getPrevX(a.index),
                c = h.getNextX(a.index),
                d = h.data.xs[a.id][a.index];
            return null === b && null === c ? 0 : (null === b && (b = h.x.domain()[0]), (h.x(d) + h.x(b)) / 2)
        }), b = i.axis_rotated ? 0 : g, c = i.axis_rotated ? g : 0, d = i.axis_rotated ? h.width : f, e = i.axis_rotated ? f : h.height), a.attr("class", h.classEvent.bind(h)).attr("x", b).attr("y", c).attr("width", d).attr("height", e)
    }, i.generateEventRectsForSingleX = function(a) {
        var b = this,
            c = b.d3,
            d = b.config;
        a.append("rect").attr("class", b.classEvent.bind(b)).style("cursor", d.data_selection_enabled && d.data_selection_grouped ? "pointer" : null).on("mouseover", function(a) {
            var c = a.index;
            b.dragging || b.flowing || b.hasArcType() || (d.point_focus_expand_enabled && b.expandCircles(c, null, !0), b.expandBars(c, null, !0), b.main.selectAll("." + l.shape + "-" + c).each(function(a) {
                d.data_onmouseover.call(b.api, a)
            }))
        }).on("mouseout", function(a) {
            var c = a.index;
            b.config && (b.hasArcType() || (b.hideXGridFocus(), b.hideTooltip(), b.unexpandCircles(), b.unexpandBars(), b.main.selectAll("." + l.shape + "-" + c).each(function(a) {
                d.data_onmouseout.call(b.api, a)
            })))
        }).on("mousemove", function(a) {
            var e, f = a.index,
                g = b.svg.select("." + l.eventRect + "-" + f);
            b.dragging || b.flowing || b.hasArcType() || (b.isStepType(a) && "step-after" === b.config.line_step_type && c.mouse(this)[0] < b.x(b.getXValue(a.id, f)) && (f -= 1), e = b.filterTargetsToShow(b.data.targets).map(function(a) {
                return b.addName(b.getValueOnIndex(a.values, f))
            }), d.tooltip_grouped && (b.showTooltip(e, this), b.showXGridFocus(e)), (!d.tooltip_grouped || d.data_selection_enabled && !d.data_selection_grouped) && b.main.selectAll("." + l.shape + "-" + f).each(function() {
                c.select(this).classed(l.EXPANDED, !0), d.data_selection_enabled && g.style("cursor", d.data_selection_grouped ? "pointer" : null), d.tooltip_grouped || (b.hideXGridFocus(), b.hideTooltip(), d.data_selection_grouped || (b.unexpandCircles(f), b.unexpandBars(f)))
            }).filter(function(a) {
                return b.isWithinShape(this, a)
            }).each(function(a) {
                d.data_selection_enabled && (d.data_selection_grouped || d.data_selection_isselectable(a)) && g.style("cursor", "pointer"), d.tooltip_grouped || (b.showTooltip([a], this), b.showXGridFocus([a]), d.point_focus_expand_enabled && b.expandCircles(f, a.id, !0), b.expandBars(f, a.id, !0))
            }))
        }).on("click", function(a) {
            var e = a.index;
            if (!b.hasArcType() && b.toggleShape) {
                if (b.cancelClick) return void(b.cancelClick = !1);
                b.isStepType(a) && "step-after" === d.line_step_type && c.mouse(this)[0] < b.x(b.getXValue(a.id, e)) && (e -= 1), b.main.selectAll("." + l.shape + "-" + e).each(function(a) {
                    (d.data_selection_grouped || b.isWithinShape(this, a)) && (b.toggleShape(this, a, e), b.config.data_onclick.call(b.api, a, this))
                })
            }
        }).call(d.data_selection_draggable && b.drag ? c.behavior.drag().origin(Object).on("drag", function() {
            b.drag(c.mouse(this))
        }).on("dragstart", function() {
            b.dragstart(c.mouse(this))
        }).on("dragend", function() {
            b.dragend()
        }) : function() {})
    }, i.generateEventRectsForMultipleXs = function(a) {
        function b() {
            c.svg.select("." + l.eventRect).style("cursor", null), c.hideXGridFocus(), c.hideTooltip(), c.unexpandCircles(), c.unexpandBars()
        }
        var c = this,
            d = c.d3,
            e = c.config;
        a.append("rect").attr("x", 0).attr("y", 0).attr("width", c.width).attr("height", c.height).attr("class", l.eventRect).on("mouseout", function() {
            c.config && (c.hasArcType() || b())
        }).on("mousemove", function() {
            var a, f, g, h, i = c.filterTargetsToShow(c.data.targets);
            if (!c.dragging && !c.hasArcType(i)) {
                if (a = d.mouse(this), f = c.findClosestFromTargets(i, a), !c.mouseover || f && f.id === c.mouseover.id || (e.data_onmouseout.call(c.api, c.mouseover), c.mouseover = void 0), !f) return void b();
                g = c.isScatterType(f) || !e.tooltip_grouped ? [f] : c.filterByX(i, f.x), h = g.map(function(a) {
                    return c.addName(a)
                }), c.showTooltip(h, this), e.point_focus_expand_enabled && c.expandCircles(f.index, f.id, !0), c.expandBars(f.index, f.id, !0), c.showXGridFocus(h), (c.isBarType(f.id) || c.dist(f, a) < e.point_sensitivity) && (c.svg.select("." + l.eventRect).style("cursor", "pointer"), c.mouseover || (e.data_onmouseover.call(c.api, f), c.mouseover = f))
            }
        }).on("click", function() {
            var a, b, f = c.filterTargetsToShow(c.data.targets);
            c.hasArcType(f) || (a = d.mouse(this), b = c.findClosestFromTargets(f, a), b && (c.isBarType(b.id) || c.dist(b, a) < e.point_sensitivity) && c.main.selectAll("." + l.shapes + c.getTargetSelectorSuffix(b.id)).selectAll("." + l.shape + "-" + b.index).each(function() {
                (e.data_selection_grouped || c.isWithinShape(this, b)) && (c.toggleShape(this, b, b.index), c.config.data_onclick.call(c.api, b, this))
            }))
        }).call(e.data_selection_draggable && c.drag ? d.behavior.drag().origin(Object).on("drag", function() {
            c.drag(d.mouse(this))
        }).on("dragstart", function() {
            c.dragstart(d.mouse(this))
        }).on("dragend", function() {
            c.dragend()
        }) : function() {})
    }, i.dispatchEvent = function(b, c, d) {
        var e = this,
            f = "." + l.eventRect + (e.isMultipleX() ? "" : "-" + c),
            g = e.main.select(f).node(),
            h = g.getBoundingClientRect(),
            i = h.left + (d ? d[0] : 0),
            j = h.top + (d ? d[1] : 0),
            k = document.createEvent("MouseEvents");
        k.initMouseEvent(b, !0, !0, a, 0, i, j, i, j, !1, !1, !1, !1, 0, null), g.dispatchEvent(k)
    }, i.getCurrentWidth = function() {
        var a = this,
            b = a.config;
        return b.size_width ? b.size_width : a.getParentWidth()
    }, i.getCurrentHeight = function() {
        var a = this,
            b = a.config,
            c = b.size_height ? b.size_height : a.getParentHeight();
        return c > 0 ? c : 320 / (a.hasType("gauge") ? 2 : 1)
    }, i.getCurrentPaddingTop = function() {
        var a = this,
            b = a.config,
            c = m(b.padding_top) ? b.padding_top : 0;
        return a.title && a.title.node() && (c += a.getTitlePadding()), c
    }, i.getCurrentPaddingBottom = function() {
        var a = this.config;
        return m(a.padding_bottom) ? a.padding_bottom : 0
    }, i.getCurrentPaddingLeft = function(a) {
        var b = this,
            c = b.config;
        return m(c.padding_left) ? c.padding_left : c.axis_rotated ? c.axis_x_show ? Math.max(r(b.getAxisWidthByAxisId("x", a)), 40) : 1 : !c.axis_y_show || c.axis_y_inner ? b.axis.getYAxisLabelPosition().isOuter ? 30 : 1 : r(b.getAxisWidthByAxisId("y", a))
    }, i.getCurrentPaddingRight = function() {
        var a = this,
            b = a.config,
            c = 10,
            d = a.isLegendRight ? a.getLegendWidth() + 20 : 0;
        return m(b.padding_right) ? b.padding_right + 1 : b.axis_rotated ? c + d : !b.axis_y2_show || b.axis_y2_inner ? 2 + d + (a.axis.getY2AxisLabelPosition().isOuter ? 20 : 0) : r(a.getAxisWidthByAxisId("y2")) + d
    }, i.getParentRectValue = function(a) {
        for (var b, c = this.selectChart.node(); c && "BODY" !== c.tagName;) {
            try {
                b = c.getBoundingClientRect()[a]
            } catch (d) {
                "width" === a && (b = c.offsetWidth)
            }
            if (b) break;
            c = c.parentNode
        }
        return b
    }, i.getParentWidth = function() {
        return this.getParentRectValue("width")
    }, i.getParentHeight = function() {
        var a = this.selectChart.style("height");
        return a.indexOf("px") > 0 ? +a.replace("px", "") : 0
    }, i.getSvgLeft = function(a) {
        var b = this,
            c = b.config,
            d = c.axis_rotated || !c.axis_rotated && !c.axis_y_inner,
            e = c.axis_rotated ? l.axisX : l.axisY,
            f = b.main.select("." + e).node(),
            g = f && d ? f.getBoundingClientRect() : {
                right: 0
            },
            h = b.selectChart.node().getBoundingClientRect(),
            i = b.hasArcType(),
            j = g.right - h.left - (i ? 0 : b.getCurrentPaddingLeft(a));
        return j > 0 ? j : 0
    }, i.getAxisWidthByAxisId = function(a, b) {
        var c = this,
            d = c.axis.getLabelPositionById(a);
        return c.axis.getMaxTickWidth(a, b) + (d.isInner ? 20 : 40)
    }, i.getHorizontalAxisHeight = function(a) {
        var b = this,
            c = b.config,
            d = 30;
        return "x" !== a || c.axis_x_show ? "x" === a && c.axis_x_height ? c.axis_x_height : "y" !== a || c.axis_y_show ? "y2" !== a || c.axis_y2_show ? ("x" === a && !c.axis_rotated && c.axis_x_tick_rotate && (d = 30 + b.axis.getMaxTickWidth(a) * Math.cos(Math.PI * (90 - c.axis_x_tick_rotate) / 180)), d + (b.axis.getLabelPositionById(a).isInner ? 0 : 10) + ("y2" === a ? -10 : 0)) : b.rotated_padding_top : !c.legend_show || b.isLegendRight || b.isLegendInset ? 1 : 10 : 8
    }, i.getEventRectWidth = function() {
        return Math.max(0, this.xAxis.tickInterval())
    }, i.getShapeIndices = function(a) {
        var b, c, d = this,
            e = d.config,
            f = {},
            g = 0;
        return d.filterTargetsToShow(d.data.targets.filter(a, d)).forEach(function(a) {
            for (b = 0; b < e.data_groups.length; b++)
                if (!(e.data_groups[b].indexOf(a.id) < 0))
                    for (c = 0; c < e.data_groups[b].length; c++)
                        if (e.data_groups[b][c] in f) {
                            f[a.id] = f[e.data_groups[b][c]];
                            break
                        }
            p(f[a.id]) && (f[a.id] = g++)
        }), f.__max__ = g - 1, f
    }, i.getShapeX = function(a, b, c, d) {
        var e = this,
            f = d ? e.subX : e.x;
        return function(d) {
            var e = d.id in c ? c[d.id] : 0;
            return d.x || 0 === d.x ? f(d.x) - a * (b / 2 - e) : 0
        }
    }, i.getShapeY = function(a) {
        var b = this;
        return function(c) {
            var d = a ? b.getSubYScale(c.id) : b.getYScale(c.id);
            return d(c.value)
        }
    }, i.getShapeOffset = function(a, b, c) {
        var d = this,
            e = d.orderTargets(d.filterTargetsToShow(d.data.targets.filter(a, d))),
            f = e.map(function(a) {
                return a.id
            });
        return function(a, g) {
            var h = c ? d.getSubYScale(a.id) : d.getYScale(a.id),
                i = h(0),
                j = i;
            return e.forEach(function(c) {
                var e = d.isStepType(a) ? d.convertValuesToStep(c.values) : c.values;
                c.id !== a.id && b[c.id] === b[a.id] && f.indexOf(c.id) < f.indexOf(a.id) && (("undefined" == typeof e[g] || e[g].x !== a.x) && (g = -1, e.forEach(function(b, c) {
                    b.x === a.x && (g = c)
                })), g in e && e[g].value * a.value >= 0 && (j += h(e[g].value) - i))
            }), j
        }
    }, i.isWithinShape = function(a, b) {
        var c, d = this,
            e = d.d3.select(a);
        return d.isTargetToShow(b.id) ? "circle" === a.nodeName ? c = d.isStepType(b) ? d.isWithinStep(a, d.getYScale(b.id)(b.value)) : d.isWithinCircle(a, 1.5 * d.pointSelectR(b)) : "path" === a.nodeName && (c = e.classed(l.bar) ? d.isWithinBar(a) : !0) : c = !1, c
    }, i.getInterpolate = function(a) {
        var b = this,
            c = b.isInterpolationType(b.config.spline_interpolation_type) ? b.config.spline_interpolation_type : "cardinal";
        return b.isSplineType(a) ? c : b.isStepType(a) ? b.config.line_step_type : "linear"
    }, i.initLine = function() {
        var a = this;
        a.main.select("." + l.chart).append("g").attr("class", l.chartLines)
    }, i.updateTargetsForLine = function(a) {
        var b, c, d = this,
            e = d.config,
            f = d.classChartLine.bind(d),
            g = d.classLines.bind(d),
            h = d.classAreas.bind(d),
            i = d.classCircles.bind(d),
            j = d.classFocus.bind(d);
        b = d.main.select("." + l.chartLines).selectAll("." + l.chartLine).data(a).attr("class", function(a) {
            return f(a) + j(a)
        }), c = b.enter().append("g").attr("class", f).style("opacity", 0).style("pointer-events", "none"), c.append("g").attr("class", g), c.append("g").attr("class", h), c.append("g").attr("class", function(a) {
            return d.generateClass(l.selectedCircles, a.id)
        }), c.append("g").attr("class", i).style("cursor", function(a) {
            return e.data_selection_isselectable(a) ? "pointer" : null
        }), a.forEach(function(a) {
            d.main.selectAll("." + l.selectedCircles + d.getTargetSelectorSuffix(a.id)).selectAll("." + l.selectedCircle).each(function(b) {
                b.value = a.values[b.index].value
            })
        })
    }, i.updateLine = function(a) {
        var b = this;
        b.mainLine = b.main.selectAll("." + l.lines).selectAll("." + l.line).data(b.lineData.bind(b)), b.mainLine.enter().append("path").attr("class", b.classLine.bind(b)).style("stroke", b.color), b.mainLine.style("opacity", b.initialOpacity.bind(b)).style("shape-rendering", function(a) {
            return b.isStepType(a) ? "crispEdges" : ""
        }).attr("transform", null), b.mainLine.exit().transition().duration(a).style("opacity", 0).remove()
    }, i.redrawLine = function(a, b) {
        return [(b ? this.mainLine.transition() : this.mainLine).attr("d", a).style("stroke", this.color).style("opacity", 1)]
    }, i.generateDrawLine = function(a, b) {
        var c = this,
            d = c.config,
            e = c.d3.svg.line(),
            f = c.generateGetLinePoints(a, b),
            g = b ? c.getSubYScale : c.getYScale,
            h = function(a) {
                return (b ? c.subxx : c.xx).call(c, a)
            },
            i = function(a, b) {
                return d.data_groups.length > 0 ? f(a, b)[0][1] : g.call(c, a.id)(a.value)
            };
        return e = d.axis_rotated ? e.x(i).y(h) : e.x(h).y(i), d.line_connectNull || (e = e.defined(function(a) {
                return null != a.value
            })),
            function(a) {
                var f, h = d.line_connectNull ? c.filterRemoveNull(a.values) : a.values,
                    i = b ? c.x : c.subX,
                    j = g.call(c, a.id),
                    k = 0,
                    l = 0;
                return c.isLineType(a) ? d.data_regions[a.id] ? f = c.lineWithRegions(h, i, j, d.data_regions[a.id]) : (c.isStepType(a) && (h = c.convertValuesToStep(h)), f = e.interpolate(c.getInterpolate(a))(h)) : (h[0] && (k = i(h[0].x), l = j(h[0].value)), f = d.axis_rotated ? "M " + l + " " + k : "M " + k + " " + l), f ? f : "M 0 0"
            }
    }, i.generateGetLinePoints = function(a, b) {
        var c = this,
            d = c.config,
            e = a.__max__ + 1,
            f = c.getShapeX(0, e, a, !!b),
            g = c.getShapeY(!!b),
            h = c.getShapeOffset(c.isLineType, a, !!b),
            i = b ? c.getSubYScale : c.getYScale;
        return function(a, b) {
            var e = i.call(c, a.id)(0),
                j = h(a, b) || e,
                k = f(a),
                l = g(a);
            return d.axis_rotated && (0 < a.value && e > l || a.value < 0 && l > e) && (l = e), [
                [k, l - (e - j)],
                [k, l - (e - j)],
                [k, l - (e - j)],
                [k, l - (e - j)]
            ]
        }
    }, i.lineWithRegions = function(a, b, c, d) {
        function e(a, b) {
            var c;
            for (c = 0; c < b.length; c++)
                if (b[c].start < a && a <= b[c].end) return !0;
            return !1
        }

        function f(a) {
            return "M" + a[0][0] + " " + a[0][1] + " " + a[1][0] + " " + a[1][1]
        }
        var g, h, i, j, k, l, m, n, o, r, s, t, u = this,
            v = u.config,
            w = -1,
            x = "M",
            y = u.isCategorized() ? .5 : 0,
            z = [];
        if (q(d))
            for (g = 0; g < d.length; g++) z[g] = {}, z[g].start = p(d[g].start) ? a[0].x : u.isTimeSeries() ? u.parseDate(d[g].start) : d[g].start, z[g].end = p(d[g].end) ? a[a.length - 1].x : u.isTimeSeries() ? u.parseDate(d[g].end) : d[g].end;
        for (s = v.axis_rotated ? function(a) {
                return c(a.value)
            } : function(a) {
                return b(a.x)
            }, t = v.axis_rotated ? function(a) {
                return b(a.x)
            } : function(a) {
                return c(a.value)
            }, i = u.isTimeSeries() ? function(a, d, e, g) {
                var h, i = a.x.getTime(),
                    j = d.x - a.x,
                    l = new Date(i + j * e),
                    m = new Date(i + j * (e + g));
                return h = v.axis_rotated ? [
                    [c(k(e)), b(l)],
                    [c(k(e + g)), b(m)]
                ] : [
                    [b(l), c(k(e))],
                    [b(m), c(k(e + g))]
                ], f(h)
            } : function(a, d, e, g) {
                var h;
                return h = v.axis_rotated ? [
                    [c(k(e), !0), b(j(e))],
                    [c(k(e + g), !0), b(j(e + g))]
                ] : [
                    [b(j(e), !0), c(k(e))],
                    [b(j(e + g), !0), c(k(e + g))]
                ], f(h)
            }, g = 0; g < a.length; g++) {
            if (p(z) || !e(a[g].x, z)) x += " " + s(a[g]) + " " + t(a[g]);
            else
                for (j = u.getScale(a[g - 1].x + y, a[g].x + y, u.isTimeSeries()), k = u.getScale(a[g - 1].value, a[g].value), l = b(a[g].x) - b(a[g - 1].x), m = c(a[g].value) - c(a[g - 1].value), n = Math.sqrt(Math.pow(l, 2) + Math.pow(m, 2)), o = 2 / n, r = 2 * o, h = o; 1 >= h; h += r) x += i(a[g - 1], a[g], h, o);
            w = a[g].x
        }
        return x
    }, i.updateArea = function(a) {
        var b = this,
            c = b.d3;
        b.mainArea = b.main.selectAll("." + l.areas).selectAll("." + l.area).data(b.lineData.bind(b)), b.mainArea.enter().append("path").attr("class", b.classArea.bind(b)).style("fill", b.color).style("opacity", function() {
            return b.orgAreaOpacity = +c.select(this).style("opacity"), 0
        }), b.mainArea.style("opacity", b.orgAreaOpacity), b.mainArea.exit().transition().duration(a).style("opacity", 0).remove()
    }, i.redrawArea = function(a, b) {
        return [(b ? this.mainArea.transition() : this.mainArea).attr("d", a).style("fill", this.color).style("opacity", this.orgAreaOpacity)]
    }, i.generateDrawArea = function(a, b) {
        var c = this,
            d = c.config,
            e = c.d3.svg.area(),
            f = c.generateGetAreaPoints(a, b),
            g = b ? c.getSubYScale : c.getYScale,
            h = function(a) {
                return (b ? c.subxx : c.xx).call(c, a)
            },
            i = function(a, b) {
                return d.data_groups.length > 0 ? f(a, b)[0][1] : g.call(c, a.id)(c.getAreaBaseValue(a.id))
            },
            j = function(a, b) {
                return d.data_groups.length > 0 ? f(a, b)[1][1] : g.call(c, a.id)(a.value)
            };
        return e = d.axis_rotated ? e.x0(i).x1(j).y(h) : e.x(h).y0(i).y1(j), d.line_connectNull || (e = e.defined(function(a) {
                return null !== a.value
            })),
            function(a) {
                var b, f = d.line_connectNull ? c.filterRemoveNull(a.values) : a.values,
                    g = 0,
                    h = 0;
                return c.isAreaType(a) ? (c.isStepType(a) && (f = c.convertValuesToStep(f)), b = e.interpolate(c.getInterpolate(a))(f)) : (f[0] && (g = c.x(f[0].x), h = c.getYScale(a.id)(f[0].value)), b = d.axis_rotated ? "M " + h + " " + g : "M " + g + " " + h), b ? b : "M 0 0"
            }
    }, i.getAreaBaseValue = function() {
        return 0
    }, i.generateGetAreaPoints = function(a, b) {
        var c = this,
            d = c.config,
            e = a.__max__ + 1,
            f = c.getShapeX(0, e, a, !!b),
            g = c.getShapeY(!!b),
            h = c.getShapeOffset(c.isAreaType, a, !!b),
            i = b ? c.getSubYScale : c.getYScale;
        return function(a, b) {
            var e = i.call(c, a.id)(0),
                j = h(a, b) || e,
                k = f(a),
                l = g(a);
            return d.axis_rotated && (0 < a.value && e > l || a.value < 0 && l > e) && (l = e), [
                [k, j],
                [k, l - (e - j)],
                [k, l - (e - j)],
                [k, j]
            ]
        }
    }, i.updateCircle = function() {
        var a = this;
        a.mainCircle = a.main.selectAll("." + l.circles).selectAll("." + l.circle).data(a.lineOrScatterData.bind(a)), a.mainCircle.enter().append("circle").attr("class", a.classCircle.bind(a)).attr("r", a.pointR.bind(a)).style("fill", a.color), a.mainCircle.style("opacity", a.initialOpacityForCircle.bind(a)), a.mainCircle.exit().remove()
    }, i.redrawCircle = function(a, b, c) {
        var d = this.main.selectAll("." + l.selectedCircle);
        return [(c ? this.mainCircle.transition() : this.mainCircle).style("opacity", this.opacityForCircle.bind(this)).style("fill", this.color).attr("cx", a).attr("cy", b), (c ? d.transition() : d).attr("cx", a).attr("cy", b)]
    }, i.circleX = function(a) {
        return a.x || 0 === a.x ? this.x(a.x) : null
    }, i.updateCircleY = function() {
        var a, b, c = this;
        c.config.data_groups.length > 0 ? (a = c.getShapeIndices(c.isLineType), b = c.generateGetLinePoints(a), c.circleY = function(a, c) {
            return b(a, c)[0][1]
        }) : c.circleY = function(a) {
            return c.getYScale(a.id)(a.value)
        }
    }, i.getCircles = function(a, b) {
        var c = this;
        return (b ? c.main.selectAll("." + l.circles + c.getTargetSelectorSuffix(b)) : c.main).selectAll("." + l.circle + (m(a) ? "-" + a : ""))
    }, i.expandCircles = function(a, b, c) {
        var d = this,
            e = d.pointExpandedR.bind(d);
        c && d.unexpandCircles(), d.getCircles(a, b).classed(l.EXPANDED, !0).attr("r", e)
    }, i.unexpandCircles = function(a) {
        var b = this,
            c = b.pointR.bind(b);
        b.getCircles(a).filter(function() {
            return b.d3.select(this).classed(l.EXPANDED)
        }).classed(l.EXPANDED, !1).attr("r", c)
    }, i.pointR = function(a) {
        var b = this,
            c = b.config;
        return b.isStepType(a) ? 0 : n(c.point_r) ? c.point_r(a) : c.point_r
    }, i.pointExpandedR = function(a) {
        var b = this,
            c = b.config;
        return c.point_focus_expand_enabled ? c.point_focus_expand_r ? c.point_focus_expand_r : 1.75 * b.pointR(a) : b.pointR(a)
    }, i.pointSelectR = function(a) {
        var b = this,
            c = b.config;
        return c.point_select_r ? c.point_select_r : 4 * b.pointR(a)
    }, i.isWithinCircle = function(a, b) {
        var c = this.d3,
            d = c.mouse(a),
            e = c.select(a),
            f = +e.attr("cx"),
            g = +e.attr("cy");
        return Math.sqrt(Math.pow(f - d[0], 2) + Math.pow(g - d[1], 2)) < b
    }, i.isWithinStep = function(a, b) {
        return Math.abs(b - this.d3.mouse(a)[1]) < 30
    }, i.initBar = function() {
        var a = this;
        a.main.select("." + l.chart).append("g").attr("class", l.chartBars)
    }, i.updateTargetsForBar = function(a) {
        var b, c, d = this,
            e = d.config,
            f = d.classChartBar.bind(d),
            g = d.classBars.bind(d),
            h = d.classFocus.bind(d);
        b = d.main.select("." + l.chartBars).selectAll("." + l.chartBar).data(a).attr("class", function(a) {
            return f(a) + h(a)
        }), c = b.enter().append("g").attr("class", f).style("opacity", 0).style("pointer-events", "none"), c.append("g").attr("class", g).style("cursor", function(a) {
            return e.data_selection_isselectable(a) ? "pointer" : null
        })
    }, i.updateBar = function(a) {
        var b = this,
            c = b.barData.bind(b),
            d = b.classBar.bind(b),
            e = b.initialOpacity.bind(b),
            f = function(a) {
                return b.color(a.id)
            };
        b.mainBar = b.main.selectAll("." + l.bars).selectAll("." + l.bar).data(c), b.mainBar.enter().append("path").attr("class", d).style("stroke", f).style("fill", f), b.mainBar.style("opacity", e), b.mainBar.exit().transition().duration(a).style("opacity", 0).remove()
    }, i.redrawBar = function(a, b) {
        return [(b ? this.mainBar.transition() : this.mainBar).attr("d", a).style("fill", this.color).style("opacity", 1)]
    }, i.getBarW = function(a, b) {
        var c = this,
            d = c.config,
            e = "number" == typeof d.bar_width ? d.bar_width : b ? a.tickInterval() * d.bar_width_ratio / b : 0;
        return d.bar_width_max && e > d.bar_width_max ? d.bar_width_max : e
    }, i.getBars = function(a, b) {
        var c = this;
        return (b ? c.main.selectAll("." + l.bars + c.getTargetSelectorSuffix(b)) : c.main).selectAll("." + l.bar + (m(a) ? "-" + a : ""))
    }, i.expandBars = function(a, b, c) {
        var d = this;
        c && d.unexpandBars(), d.getBars(a, b).classed(l.EXPANDED, !0)
    }, i.unexpandBars = function(a) {
        var b = this;
        b.getBars(a).classed(l.EXPANDED, !1)
    }, i.generateDrawBar = function(a, b) {
        var c = this,
            d = c.config,
            e = c.generateGetBarPoints(a, b);
        return function(a, b) {
            var c = e(a, b),
                f = d.axis_rotated ? 1 : 0,
                g = d.axis_rotated ? 0 : 1,
                h = "M " + c[0][f] + "," + c[0][g] + " L" + c[1][f] + "," + c[1][g] + " L" + c[2][f] + "," + c[2][g] + " L" + c[3][f] + "," + c[3][g] + " z";
            return h
        }
    }, i.generateGetBarPoints = function(a, b) {
        var c = this,
            d = b ? c.subXAxis : c.xAxis,
            e = a.__max__ + 1,
            f = c.getBarW(d, e),
            g = c.getShapeX(f, e, a, !!b),
            h = c.getShapeY(!!b),
            i = c.getShapeOffset(c.isBarType, a, !!b),
            j = b ? c.getSubYScale : c.getYScale;
        return function(a, b) {
            var d = j.call(c, a.id)(0),
                e = i(a, b) || d,
                k = g(a),
                l = h(a);
            return c.config.axis_rotated && (0 < a.value && d > l || a.value < 0 && l > d) && (l = d), [
                [k, e],
                [k, l - (d - e)],
                [k + f, l - (d - e)],
                [k + f, e]
            ]
        }
    }, i.isWithinBar = function(a) {
        var b = this.d3.mouse(a),
            c = a.getBoundingClientRect(),
            d = a.pathSegList.getItem(0),
            e = a.pathSegList.getItem(1),
            f = Math.min(d.x, e.x),
            g = Math.min(d.y, e.y),
            h = c.width,
            i = c.height,
            j = 2,
            k = f - j,
            l = f + h + j,
            m = g + i + j,
            n = g - j;
        return k < b[0] && b[0] < l && n < b[1] && b[1] < m
    }, i.initText = function() {
        var a = this;
        a.main.select("." + l.chart).append("g").attr("class", l.chartTexts), a.mainText = a.d3.selectAll([])
    }, i.updateTargetsForText = function(a) {
        var b, c, d = this,
            e = d.classChartText.bind(d),
            f = d.classTexts.bind(d),
            g = d.classFocus.bind(d);
        b = d.main.select("." + l.chartTexts).selectAll("." + l.chartText).data(a).attr("class", function(a) {
            return e(a) + g(a)
        }), c = b.enter().append("g").attr("class", e).style("opacity", 0).style("pointer-events", "none"), c.append("g").attr("class", f)
    }, i.updateText = function(a) {
        var b = this,
            c = b.config,
            d = b.barOrLineData.bind(b),
            e = b.classText.bind(b);
        b.mainText = b.main.selectAll("." + l.texts).selectAll("." + l.text).data(d), b.mainText.enter().append("text").attr("class", e).attr("text-anchor", function(a) {
            return c.axis_rotated ? a.value < 0 ? "end" : "start" : "middle"
        }).style("stroke", "none").style("fill", function(a) {
            return b.color(a)
        }).style("fill-opacity", 0), b.mainText.text(function(a, c, d) {
            return b.dataLabelFormat(a.id)(a.value, a.id, c, d)
        }), b.mainText.exit().transition().duration(a).style("fill-opacity", 0).remove()
    }, i.redrawText = function(a, b, c, d) {
        return [(d ? this.mainText.transition() : this.mainText).attr("x", a).attr("y", b).style("fill", this.color).style("fill-opacity", c ? 0 : this.opacityForText.bind(this))]
    }, i.getTextRect = function(a, b, c) {
        var d, e = this.d3.select("body").append("div").classed("c3", !0),
            f = e.append("svg").style("visibility", "hidden").style("position", "fixed").style("top", 0).style("left", 0),
            g = this.d3.select(c).style("font");
        return f.selectAll(".dummy").data([a]).enter().append("text").classed(b ? b : "", !0).style("font", g).text(a).each(function() {
            d = this.getBoundingClientRect()
        }), e.remove(), d
    }, i.generateXYForText = function(a, b, c, d) {
        var e = this,
            f = e.generateGetAreaPoints(a, !1),
            g = e.generateGetBarPoints(b, !1),
            h = e.generateGetLinePoints(c, !1),
            i = d ? e.getXForText : e.getYForText;
        return function(a, b) {
            var c = e.isAreaType(a) ? f : e.isBarType(a) ? g : h;
            return i.call(e, c(a, b), a, this)
        }
    }, i.getXForText = function(a, b, c) {
        var d, e, f = this,
            g = c.getBoundingClientRect();
        return f.config.axis_rotated ? (e = f.isBarType(b) ? 4 : 6, d = a[2][1] + e * (b.value < 0 ? -1 : 1)) : d = f.hasType("bar") ? (a[2][0] + a[0][0]) / 2 : a[0][0], null === b.value && (d > f.width ? d = f.width - g.width : 0 > d && (d = 4)), d
    }, i.getYForText = function(a, b, c) {
        var d, e = this,
            f = c.getBoundingClientRect();
        return e.config.axis_rotated ? d = (a[0][0] + a[2][0] + .6 * f.height) / 2 : (d = a[2][1], b.value < 0 || 0 === b.value && !e.hasPositiveValue ? (d += f.height, e.isBarType(b) && e.isSafari() ? d -= 3 : !e.isBarType(b) && e.isChrome() && (d += 3)) : d += e.isBarType(b) ? -3 : -6), null !== b.value || e.config.axis_rotated || (d < f.height ? d = f.height : d > this.height && (d = this.height - 4)), d
    }, i.setTargetType = function(a, b) {
        var c = this,
            d = c.config;
        c.mapToTargetIds(a).forEach(function(a) {
            c.withoutFadeIn[a] = b === d.data_types[a], d.data_types[a] = b
        }), a || (d.data_type = b)
    }, i.hasType = function(a, b) {
        var c = this,
            d = c.config.data_types,
            e = !1;
        return b = b || c.data.targets, b && b.length ? b.forEach(function(b) {
            var c = d[b.id];
            (c && c.indexOf(a) >= 0 || !c && "line" === a) && (e = !0)
        }) : Object.keys(d).length ? Object.keys(d).forEach(function(b) {
            d[b] === a && (e = !0)
        }) : e = c.config.data_type === a, e
    }, i.hasArcType = function(a) {
        return this.hasType("pie", a) || this.hasType("donut", a) || this.hasType("gauge", a)
    }, i.isLineType = function(a) {
        var b = this.config,
            c = o(a) ? a : a.id;
        return !b.data_types[c] || ["line", "spline", "area", "area-spline", "step", "area-step"].indexOf(b.data_types[c]) >= 0
    }, i.isStepType = function(a) {
        var b = o(a) ? a : a.id;
        return ["step", "area-step"].indexOf(this.config.data_types[b]) >= 0
    }, i.isSplineType = function(a) {
        var b = o(a) ? a : a.id;
        return ["spline", "area-spline"].indexOf(this.config.data_types[b]) >= 0
    }, i.isAreaType = function(a) {
        var b = o(a) ? a : a.id;
        return ["area", "area-spline", "area-step"].indexOf(this.config.data_types[b]) >= 0
    }, i.isBarType = function(a) {
        var b = o(a) ? a : a.id;
        return "bar" === this.config.data_types[b]
    }, i.isScatterType = function(a) {
        var b = o(a) ? a : a.id;
        return "scatter" === this.config.data_types[b]
    }, i.isPieType = function(a) {
        var b = o(a) ? a : a.id;
        return "pie" === this.config.data_types[b]
    }, i.isGaugeType = function(a) {
        var b = o(a) ? a : a.id;
        return "gauge" === this.config.data_types[b]
    }, i.isDonutType = function(a) {
        var b = o(a) ? a : a.id;
        return "donut" === this.config.data_types[b]
    }, i.isArcType = function(a) {
        return this.isPieType(a) || this.isDonutType(a) || this.isGaugeType(a)
    }, i.lineData = function(a) {
        return this.isLineType(a) ? [a] : []
    }, i.arcData = function(a) {
        return this.isArcType(a.data) ? [a] : []
    }, i.barData = function(a) {
        return this.isBarType(a) ? a.values : []
    }, i.lineOrScatterData = function(a) {
        return this.isLineType(a) || this.isScatterType(a) ? a.values : []
    }, i.barOrLineData = function(a) {
        return this.isBarType(a) || this.isLineType(a) ? a.values : []
    }, i.isInterpolationType = function(a) {
        return ["linear", "linear-closed", "basis", "basis-open", "basis-closed", "bundle", "cardinal", "cardinal-open", "cardinal-closed", "monotone"].indexOf(a) >= 0
    }, i.initGrid = function() {
        var a = this,
            b = a.config,
            c = a.d3;
        a.grid = a.main.append("g").attr("clip-path", a.clipPathForGrid).attr("class", l.grid), b.grid_x_show && a.grid.append("g").attr("class", l.xgrids), b.grid_y_show && a.grid.append("g").attr("class", l.ygrids), b.grid_focus_show && a.grid.append("g").attr("class", l.xgridFocus).append("line").attr("class", l.xgridFocus), a.xgrid = c.selectAll([]), b.grid_lines_front || a.initGridLines()
    }, i.initGridLines = function() {
        var a = this,
            b = a.d3;
        a.gridLines = a.main.append("g").attr("clip-path", a.clipPathForGrid).attr("class", l.grid + " " + l.gridLines), a.gridLines.append("g").attr("class", l.xgridLines), a.gridLines.append("g").attr("class", l.ygridLines), a.xgridLines = b.selectAll([])
    }, i.updateXGrid = function(a) {
        var b = this,
            c = b.config,
            d = b.d3,
            e = b.generateGridData(c.grid_x_type, b.x),
            f = b.isCategorized() ? b.xAxis.tickOffset() : 0;
        b.xgridAttr = c.axis_rotated ? {
            x1: 0,
            x2: b.width,
            y1: function(a) {
                return b.x(a) - f
            },
            y2: function(a) {
                return b.x(a) - f
            }
        } : {
            x1: function(a) {
                return b.x(a) + f
            },
            x2: function(a) {
                return b.x(a) + f
            },
            y1: 0,
            y2: b.height
        }, b.xgrid = b.main.select("." + l.xgrids).selectAll("." + l.xgrid).data(e), b.xgrid.enter().append("line").attr("class", l.xgrid), a || b.xgrid.attr(b.xgridAttr).style("opacity", function() {
            return +d.select(this).attr(c.axis_rotated ? "y1" : "x1") === (c.axis_rotated ? b.height : 0) ? 0 : 1
        }), b.xgrid.exit().remove()
    }, i.updateYGrid = function() {
        var a = this,
            b = a.config,
            c = a.yAxis.tickValues() || a.y.ticks(b.grid_y_ticks);
        a.ygrid = a.main.select("." + l.ygrids).selectAll("." + l.ygrid).data(c), a.ygrid.enter().append("line").attr("class", l.ygrid), a.ygrid.attr("x1", b.axis_rotated ? a.y : 0).attr("x2", b.axis_rotated ? a.y : a.width).attr("y1", b.axis_rotated ? 0 : a.y).attr("y2", b.axis_rotated ? a.height : a.y), a.ygrid.exit().remove(), a.smoothLines(a.ygrid, "grid")
    }, i.gridTextAnchor = function(a) {
        return a.position ? a.position : "end"
    }, i.gridTextDx = function(a) {
        return "start" === a.position ? 4 : "middle" === a.position ? 0 : -4
    }, i.xGridTextX = function(a) {
        return "start" === a.position ? -this.height : "middle" === a.position ? -this.height / 2 : 0
    }, i.yGridTextX = function(a) {
        return "start" === a.position ? 0 : "middle" === a.position ? this.width / 2 : this.width
    }, i.updateGrid = function(a) {
        var b, c, d, e = this,
            f = e.main,
            g = e.config;
        e.grid.style("visibility", e.hasArcType() ? "hidden" : "visible"), f.select("line." + l.xgridFocus).style("visibility", "hidden"), g.grid_x_show && e.updateXGrid(), e.xgridLines = f.select("." + l.xgridLines).selectAll("." + l.xgridLine).data(g.grid_x_lines), b = e.xgridLines.enter().append("g").attr("class", function(a) {
            return l.xgridLine + (a["class"] ? " " + a["class"] : "")
        }), b.append("line").style("opacity", 0), b.append("text").attr("text-anchor", e.gridTextAnchor).attr("transform", g.axis_rotated ? "" : "rotate(-90)").attr("dx", e.gridTextDx).attr("dy", -5).style("opacity", 0), e.xgridLines.exit().transition().duration(a).style("opacity", 0).remove(), g.grid_y_show && e.updateYGrid(), e.ygridLines = f.select("." + l.ygridLines).selectAll("." + l.ygridLine).data(g.grid_y_lines), c = e.ygridLines.enter().append("g").attr("class", function(a) {
            return l.ygridLine + (a["class"] ? " " + a["class"] : "")
        }), c.append("line").style("opacity", 0), c.append("text").attr("text-anchor", e.gridTextAnchor).attr("transform", g.axis_rotated ? "rotate(-90)" : "").attr("dx", e.gridTextDx).attr("dy", -5).style("opacity", 0), d = e.yv.bind(e), e.ygridLines.select("line").transition().duration(a).attr("x1", g.axis_rotated ? d : 0).attr("x2", g.axis_rotated ? d : e.width).attr("y1", g.axis_rotated ? 0 : d).attr("y2", g.axis_rotated ? e.height : d).style("opacity", 1), e.ygridLines.select("text").transition().duration(a).attr("x", g.axis_rotated ? e.xGridTextX.bind(e) : e.yGridTextX.bind(e)).attr("y", d).text(function(a) {
            return a.text
        }).style("opacity", 1), e.ygridLines.exit().transition().duration(a).style("opacity", 0).remove()
    }, i.redrawGrid = function(a) {
        var b = this,
            c = b.config,
            d = b.xv.bind(b),
            e = b.xgridLines.select("line"),
            f = b.xgridLines.select("text");
        return [(a ? e.transition() : e).attr("x1", c.axis_rotated ? 0 : d).attr("x2", c.axis_rotated ? b.width : d).attr("y1", c.axis_rotated ? d : 0).attr("y2", c.axis_rotated ? d : b.height).style("opacity", 1), (a ? f.transition() : f).attr("x", c.axis_rotated ? b.yGridTextX.bind(b) : b.xGridTextX.bind(b)).attr("y", d).text(function(a) {
            return a.text
        }).style("opacity", 1)]
    }, i.showXGridFocus = function(a) {
        var b = this,
            c = b.config,
            d = a.filter(function(a) {
                return a && m(a.value)
            }),
            e = b.main.selectAll("line." + l.xgridFocus),
            f = b.xx.bind(b);
        c.tooltip_show && (b.hasType("scatter") || b.hasArcType() || (e.style("visibility", "visible").data([d[0]]).attr(c.axis_rotated ? "y1" : "x1", f).attr(c.axis_rotated ? "y2" : "x2", f), b.smoothLines(e, "grid")))
    }, i.hideXGridFocus = function() {
        this.main.select("line." + l.xgridFocus).style("visibility", "hidden")
    }, i.updateXgridFocus = function() {
        var a = this,
            b = a.config;
        a.main.select("line." + l.xgridFocus).attr("x1", b.axis_rotated ? 0 : -10).attr("x2", b.axis_rotated ? a.width : -10).attr("y1", b.axis_rotated ? -10 : 0).attr("y2", b.axis_rotated ? -10 : a.height)
    }, i.generateGridData = function(a, b) {
        var c, d, e, f, g = this,
            h = [],
            i = g.main.select("." + l.axisX).selectAll(".tick").size();
        if ("year" === a)
            for (c = g.getXDomain(), d = c[0].getFullYear(), e = c[1].getFullYear(), f = d; e >= f; f++) h.push(new Date(f + "-01-01 00:00:00"));
        else h = b.ticks(10), h.length > i && (h = h.filter(function(a) {
            return ("" + a).indexOf(".") < 0
        }));
        return h
    }, i.getGridFilterToRemove = function(a) {
        return a ? function(b) {
            var c = !1;
            return [].concat(a).forEach(function(a) {
                ("value" in a && b.value === a.value || "class" in a && b["class"] === a["class"]) && (c = !0)
            }), c
        } : function() {
            return !0
        }
    }, i.removeGridLines = function(a, b) {
        var c = this,
            d = c.config,
            e = c.getGridFilterToRemove(a),
            f = function(a) {
                return !e(a)
            },
            g = b ? l.xgridLines : l.ygridLines,
            h = b ? l.xgridLine : l.ygridLine;
        c.main.select("." + g).selectAll("." + h).filter(e).transition().duration(d.transition_duration).style("opacity", 0).remove(), b ? d.grid_x_lines = d.grid_x_lines.filter(f) : d.grid_y_lines = d.grid_y_lines.filter(f)
    }, i.initTooltip = function() {
        var a, b = this,
            c = b.config;
        if (b.tooltip = b.selectChart.style("position", "relative").append("div").attr("class", l.tooltipContainer).style("position", "absolute").style("pointer-events", "none").style("display", "none"), c.tooltip_init_show) {
            if (b.isTimeSeries() && o(c.tooltip_init_x)) {
                for (c.tooltip_init_x = b.parseDate(c.tooltip_init_x), a = 0; a < b.data.targets[0].values.length && b.data.targets[0].values[a].x - c.tooltip_init_x !== 0; a++);
                c.tooltip_init_x = a
            }
            b.tooltip.html(c.tooltip_contents.call(b, b.data.targets.map(function(a) {
                return b.addName(a.values[c.tooltip_init_x])
            }), b.axis.getXAxisTickFormat(), b.getYFormat(b.hasArcType()), b.color)), b.tooltip.style("top", c.tooltip_init_position.top).style("left", c.tooltip_init_position.left).style("display", "block")
        }
    }, i.getTooltipContent = function(a, b, c, d) {
        var e, f, g, h, i, j, k = this,
            l = k.config,
            m = l.tooltip_format_title || b,
            n = l.tooltip_format_name || function(a) {
                return a
            },
            o = l.tooltip_format_value || c;
        for (f = 0; f < a.length; f++)
            if (a[f] && (a[f].value || 0 === a[f].value) && (e || (g = m ? m(a[f].x) : a[f].x, e = "<table class='" + k.CLASS.tooltip + "'>" + (g || 0 === g ? "<tr><th colspan='2'>" + g + "</th></tr>" : "")), h = o(a[f].value, a[f].ratio, a[f].id, a[f].index), void 0 !== h)) {
                if (null === a[f].name) continue;
                i = n(a[f].name, a[f].ratio, a[f].id, a[f].index), j = k.levelColor ? k.levelColor(a[f].value) : d(a[f].id), e += "<tr class='" + k.CLASS.tooltipName + "-" + k.getTargetSelectorSuffix(a[f].id) + "'>", e += "<td class='name'><span style='background-color:" + j + "'></span>" + i + "</td>", e += "<td class='value'>" + h + "</td>", e += "</tr>"
            }
        return e + "</table>"
    }, i.tooltipPosition = function(a, b, c, d) {
        var e, f, g, h, i, j = this,
            k = j.config,
            l = j.d3,
            m = j.hasArcType(),
            n = l.mouse(d);
        return m ? (f = (j.width - (j.isLegendRight ? j.getLegendWidth() : 0)) / 2 + n[0], h = j.height / 2 + n[1] + 20) : (e = j.getSvgLeft(!0), k.axis_rotated ? (f = e + n[0] + 100, g = f + b, i = j.currentWidth - j.getCurrentPaddingRight(), h = j.x(a[0].x) + 20) : (f = e + j.getCurrentPaddingLeft(!0) + j.x(a[0].x) + 20, g = f + b, i = e + j.currentWidth - j.getCurrentPaddingRight(), h = n[1] + 15), g > i && (f -= g - i + 20), h + c > j.currentHeight && (h -= c + 30)), 0 > h && (h = 0), {
            top: h,
            left: f
        }
    }, i.showTooltip = function(a, b) {
        var c, d, e, f = this,
            g = f.config,
            h = f.hasArcType(),
            j = a.filter(function(a) {
                return a && m(a.value)
            }),
            k = g.tooltip_position || i.tooltipPosition;
        0 !== j.length && g.tooltip_show && (f.tooltip.html(g.tooltip_contents.call(f, a, f.axis.getXAxisTickFormat(), f.getYFormat(h), f.color)).style("display", "block"), c = f.tooltip.property("offsetWidth"), d = f.tooltip.property("offsetHeight"), e = k.call(this, j, c, d, b), f.tooltip.style("top", e.top + "px").style("left", e.left + "px"))
    }, i.hideTooltip = function() {
        this.tooltip.style("display", "none")
    }, i.initLegend = function() {
        var a = this;
        return a.legendItemTextBox = {}, a.legendHasRendered = !1, a.legend = a.svg.append("g").attr("transform", a.getTranslate("legend")), a.config.legend_show ? void a.updateLegendWithDefaults() : (a.legend.style("visibility", "hidden"), void(a.hiddenLegendIds = a.mapToIds(a.data.targets)))
    }, i.updateLegendWithDefaults = function() {
        var a = this;
        a.updateLegend(a.mapToIds(a.data.targets), {
            withTransform: !1,
            withTransitionForTransform: !1,
            withTransition: !1
        })
    }, i.updateSizeForLegend = function(a, b) {
        var c = this,
            d = c.config,
            e = {
                top: c.isLegendTop ? c.getCurrentPaddingTop() + d.legend_inset_y + 5.5 : c.currentHeight - a - c.getCurrentPaddingBottom() - d.legend_inset_y,
                left: c.isLegendLeft ? c.getCurrentPaddingLeft() + d.legend_inset_x + .5 : c.currentWidth - b - c.getCurrentPaddingRight() - d.legend_inset_x + .5
            };
        c.margin3 = {
            top: c.isLegendRight ? 0 : c.isLegendInset ? e.top : c.currentHeight - a,
            right: 0 / 0,
            bottom: 0,
            left: c.isLegendRight ? c.currentWidth - b : c.isLegendInset ? e.left : 0
        }
    }, i.transformLegend = function(a) {
        var b = this;
        (a ? b.legend.transition() : b.legend).attr("transform", b.getTranslate("legend"))
    }, i.updateLegendStep = function(a) {
        this.legendStep = a
    }, i.updateLegendItemWidth = function(a) {
        this.legendItemWidth = a
    }, i.updateLegendItemHeight = function(a) {
        this.legendItemHeight = a
    }, i.getLegendWidth = function() {
        var a = this;
        return a.config.legend_show ? a.isLegendRight || a.isLegendInset ? a.legendItemWidth * (a.legendStep + 1) : a.currentWidth : 0
    }, i.getLegendHeight = function() {
        var a = this,
            b = 0;
        return a.config.legend_show && (b = a.isLegendRight ? a.currentHeight : Math.max(20, a.legendItemHeight) * (a.legendStep + 1)), b
    }, i.opacityForLegend = function(a) {
        return a.classed(l.legendItemHidden) ? null : 1
    }, i.opacityForUnfocusedLegend = function(a) {
        return a.classed(l.legendItemHidden) ? null : .3
    }, i.toggleFocusLegend = function(a, b) {
        var c = this;
        a = c.mapToTargetIds(a), c.legend.selectAll("." + l.legendItem).filter(function(b) {
            return a.indexOf(b) >= 0
        }).classed(l.legendItemFocused, b).transition().duration(100).style("opacity", function() {
            var a = b ? c.opacityForLegend : c.opacityForUnfocusedLegend;
            return a.call(c, c.d3.select(this))
        })
    }, i.revertLegend = function() {
        var a = this,
            b = a.d3;
        a.legend.selectAll("." + l.legendItem).classed(l.legendItemFocused, !1).transition().duration(100).style("opacity", function() {
            return a.opacityForLegend(b.select(this))
        })
    }, i.showLegend = function(a) {
        var b = this,
            c = b.config;
        c.legend_show || (c.legend_show = !0, b.legend.style("visibility", "visible"), b.legendHasRendered || b.updateLegendWithDefaults()), b.removeHiddenLegendIds(a), b.legend.selectAll(b.selectorLegends(a)).style("visibility", "visible").transition().style("opacity", function() {
            return b.opacityForLegend(b.d3.select(this))
        })
    }, i.hideLegend = function(a) {
        var b = this,
            c = b.config;
        c.legend_show && u(a) && (c.legend_show = !1, b.legend.style("visibility", "hidden")), b.addHiddenLegendIds(a), b.legend.selectAll(b.selectorLegends(a)).style("opacity", 0).style("visibility", "hidden")
    }, i.clearLegendItemTextBoxCache = function() {
        this.legendItemTextBox = {}
    }, i.updateLegend = function(a, b, c) {
        function d(a, b) {
            return y.legendItemTextBox[b] || (y.legendItemTextBox[b] = y.getTextRect(a.textContent, l.legendItem, a)), y.legendItemTextBox[b]
        }

        function e(b, c, e) {
            function f(a, b) {
                b || (g = (o - G - n) / 2, E > g && (g = (o - n) / 2, G = 0, M++)), L[a] = M, K[M] = y.isLegendInset ? 10 : g, H[a] = G, G += n
            }
            var g, h, i = 0 === e,
                j = e === a.length - 1,
                k = d(b, c),
                l = k.width + F + (!j || y.isLegendRight || y.isLegendInset ? B : 0) + z.legend_padding,
                m = k.height + A,
                n = y.isLegendRight || y.isLegendInset ? m : l,
                o = y.isLegendRight || y.isLegendInset ? y.getLegendHeight() : y.getLegendWidth();
            return i && (G = 0, M = 0, C = 0, D = 0), z.legend_show && !y.isLegendToShow(c) ? void(I[c] = J[c] = L[c] = H[c] = 0) : (I[c] = l, J[c] = m, (!C || l >= C) && (C = l), (!D || m >= D) && (D = m), h = y.isLegendRight || y.isLegendInset ? D : C, void(z.legend_equally ? (Object.keys(I).forEach(function(a) {
                I[a] = C
            }), Object.keys(J).forEach(function(a) {
                J[a] = D
            }), g = (o - h * a.length) / 2, E > g ? (G = 0, M = 0, a.forEach(function(a) {
                f(a)
            })) : f(c, !0)) : f(c)))
        }
        var f, g, h, i, j, k, m, n, o, p, r, s, t, u, v, x, y = this,
            z = y.config,
            A = 4,
            B = 10,
            C = 0,
            D = 0,
            E = 10,
            F = z.legend_item_tile_width + 5,
            G = 0,
            H = {},
            I = {},
            J = {},
            K = [0],
            L = {},
            M = 0;
        a = a.filter(function(a) {
            return !q(z.data_names[a]) || null !== z.data_names[a]
        }), b = b || {}, r = w(b, "withTransition", !0), s = w(b, "withTransitionForTransform", !0), y.isLegendInset && (M = z.legend_inset_step ? z.legend_inset_step : a.length, y.updateLegendStep(M)), y.isLegendRight ? (f = function(a) {
            return C * L[a]
        }, i = function(a) {
            return K[L[a]] + H[a]
        }) : y.isLegendInset ? (f = function(a) {
            return C * L[a] + 10
        }, i = function(a) {
            return K[L[a]] + H[a]
        }) : (f = function(a) {
            return K[L[a]] + H[a]
        }, i = function(a) {
            return D * L[a]
        }), g = function(a, b) {
            return f(a, b) + 4 + z.legend_item_tile_width
        }, j = function(a, b) {
            return i(a, b) + 9
        }, h = function(a, b) {
            return f(a, b)
        }, k = function(a, b) {
            return i(a, b) - 5
        }, m = function(a, b) {
            return f(a, b) - 2
        }, n = function(a, b) {
            return f(a, b) - 2 + z.legend_item_tile_width
        }, o = function(a, b) {
            return i(a, b) + 4
        }, p = y.legend.selectAll("." + l.legendItem).data(a).enter().append("g").attr("class", function(a) {
            return y.generateClass(l.legendItem, a)
        }).style("visibility", function(a) {
            return y.isLegendToShow(a) ? "visible" : "hidden"
        }).style("cursor", "pointer").on("click", function(a) {
            z.legend_item_onclick ? z.legend_item_onclick.call(y, a) : y.d3.event.altKey ? (y.api.hide(), y.api.show(a)) : (y.api.toggle(a), y.isTargetToShow(a) ? y.api.focus(a) : y.api.revert())
        }).on("mouseover", function(a) {
            z.legend_item_onmouseover ? z.legend_item_onmouseover.call(y, a) : (y.d3.select(this).classed(l.legendItemFocused, !0), !y.transiting && y.isTargetToShow(a) && y.api.focus(a))
        }).on("mouseout", function(a) {
            z.legend_item_onmouseout ? z.legend_item_onmouseout.call(y, a) : (y.d3.select(this).classed(l.legendItemFocused, !1), y.api.revert())
        }), p.append("text").text(function(a) {
            return q(z.data_names[a]) ? z.data_names[a] : a
        }).each(function(a, b) {
            e(this, a, b)
        }).style("pointer-events", "none").attr("x", y.isLegendRight || y.isLegendInset ? g : -200).attr("y", y.isLegendRight || y.isLegendInset ? -200 : j), p.append("rect").attr("class", l.legendItemEvent).style("fill-opacity", 0).attr("x", y.isLegendRight || y.isLegendInset ? h : -200).attr("y", y.isLegendRight || y.isLegendInset ? -200 : k), p.append("line").attr("class", l.legendItemTile).style("stroke", y.color).style("pointer-events", "none").attr("x1", y.isLegendRight || y.isLegendInset ? m : -200).attr("y1", y.isLegendRight || y.isLegendInset ? -200 : o).attr("x2", y.isLegendRight || y.isLegendInset ? n : -200).attr("y2", y.isLegendRight || y.isLegendInset ? -200 : o).attr("stroke-width", z.legend_item_tile_height), x = y.legend.select("." + l.legendBackground + " rect"), y.isLegendInset && C > 0 && 0 === x.size() && (x = y.legend.insert("g", "." + l.legendItem).attr("class", l.legendBackground).append("rect")), t = y.legend.selectAll("text").data(a).text(function(a) {
            return q(z.data_names[a]) ? z.data_names[a] : a
        }).each(function(a, b) {
            e(this, a, b)
        }), (r ? t.transition() : t).attr("x", g).attr("y", j), u = y.legend.selectAll("rect." + l.legendItemEvent).data(a), (r ? u.transition() : u).attr("width", function(a) {
            return I[a]
        }).attr("height", function(a) {
            return J[a]
        }).attr("x", h).attr("y", k), v = y.legend.selectAll("line." + l.legendItemTile).data(a), (r ? v.transition() : v).style("stroke", y.color).attr("x1", m).attr("y1", o).attr("x2", n).attr("y2", o), x && (r ? x.transition() : x).attr("height", y.getLegendHeight() - 12).attr("width", C * (M + 1) + 10), y.legend.selectAll("." + l.legendItem).classed(l.legendItemHidden, function(a) {
            return !y.isTargetToShow(a)
        }), y.updateLegendItemWidth(C), y.updateLegendItemHeight(D), y.updateLegendStep(M), y.updateSizes(), y.updateScales(), y.updateSvgSize(), y.transformAll(s, c), y.legendHasRendered = !0
    }, i.initTitle = function() {
        var a = this;
        a.title = a.svg.append("text").text(a.config.title_text).attr("class", a.CLASS.title)
    }, i.redrawTitle = function() {
        var a = this;
        a.title.attr("x", a.xForTitle.bind(a)).attr("y", a.yForTitle.bind(a))
    }, i.xForTitle = function() {
        var a, b = this,
            c = b.config,
            d = c.title_position || "left";
        return a = d.indexOf("right") >= 0 ? b.currentWidth - b.getTextRect(b.title.node().textContent, b.CLASS.title, b.title.node()).width - c.title_padding.right : d.indexOf("center") >= 0 ? (b.currentWidth - b.getTextRect(b.title.node().textContent, b.CLASS.title, b.title.node()).width) / 2 : c.title_padding.left
    }, i.yForTitle = function() {
        var a = this;
        return a.config.title_padding.top + a.getTextRect(a.title.node().textContent, a.CLASS.title, a.title.node()).height
    }, i.getTitlePadding = function() {
        var a = this;
        return a.yForTitle() + a.config.title_padding.bottom
    }, c(b, f), f.prototype.init = function() {
        var a = this.owner,
            b = a.config,
            c = a.main;
        a.axes.x = c.append("g").attr("class", l.axis + " " + l.axisX).attr("clip-path", a.clipPathForXAxis).attr("transform", a.getTranslate("x")).style("visibility", b.axis_x_show ? "visible" : "hidden"), a.axes.x.append("text").attr("class", l.axisXLabel).attr("transform", b.axis_rotated ? "rotate(-90)" : "").style("text-anchor", this.textAnchorForXAxisLabel.bind(this)), a.axes.y = c.append("g").attr("class", l.axis + " " + l.axisY).attr("clip-path", b.axis_y_inner ? "" : a.clipPathForYAxis).attr("transform", a.getTranslate("y")).style("visibility", b.axis_y_show ? "visible" : "hidden"), a.axes.y.append("text").attr("class", l.axisYLabel).attr("transform", b.axis_rotated ? "" : "rotate(-90)").style("text-anchor", this.textAnchorForYAxisLabel.bind(this)), a.axes.y2 = c.append("g").attr("class", l.axis + " " + l.axisY2).attr("transform", a.getTranslate("y2")).style("visibility", b.axis_y2_show ? "visible" : "hidden"), a.axes.y2.append("text").attr("class", l.axisY2Label).attr("transform", b.axis_rotated ? "" : "rotate(-90)").style("text-anchor", this.textAnchorForY2AxisLabel.bind(this))
    }, f.prototype.getXAxis = function(a, b, c, d, e, f, h) {
        var i = this.owner,
            j = i.config,
            k = {
                isCategory: i.isCategorized(),
                withOuterTick: e,
                tickMultiline: j.axis_x_tick_multiline,
                tickWidth: j.axis_x_tick_width,
                tickTextRotate: h ? 0 : j.axis_x_tick_rotate,
                withoutTransition: f
            },
            l = g(i.d3, k).scale(a).orient(b);
        return i.isTimeSeries() && d && "function" != typeof d && (d = d.map(function(a) {
            return i.parseDate(a)
        })), l.tickFormat(c).tickValues(d), i.isCategorized() && (l.tickCentered(j.axis_x_tick_centered), u(j.axis_x_tick_culling) && (j.axis_x_tick_culling = !1)), l
    }, f.prototype.updateXAxisTickValues = function(a, b) {
        var c, d = this.owner,
            e = d.config;
        return (e.axis_x_tick_fit || e.axis_x_tick_count) && (c = this.generateTickValues(d.mapTargetsToUniqueXs(a), e.axis_x_tick_count, d.isTimeSeries())), b ? b.tickValues(c) : (d.xAxis.tickValues(c), d.subXAxis.tickValues(c)), c
    }, f.prototype.getYAxis = function(a, b, c, d, e, f) {
        var h = {
                withOuterTick: e,
                withoutTransition: f
            },
            i = this.owner,
            j = i.d3,
            k = i.config,
            l = g(j, h).scale(a).orient(b).tickFormat(c);
        return i.isTimeSeriesY() ? l.ticks(j.time[k.axis_y_tick_time_value], k.axis_y_tick_time_interval) : l.tickValues(d), l
    }, f.prototype.getId = function(a) {
        var b = this.owner.config;
        return a in b.data_axes ? b.data_axes[a] : "y"
    }, f.prototype.getXAxisTickFormat = function() {
        var a = this.owner,
            b = a.config,
            c = a.isTimeSeries() ? a.defaultAxisTimeFormat : a.isCategorized() ? a.categoryName : function(a) {
                return 0 > a ? a.toFixed(0) : a
            };
        return b.axis_x_tick_format && (n(b.axis_x_tick_format) ? c = b.axis_x_tick_format : a.isTimeSeries() && (c = function(c) {
            return c ? a.axisTimeFormat(b.axis_x_tick_format)(c) : ""
        })), n(c) ? function(b) {
            return c.call(a, b)
        } : c
    }, f.prototype.getTickValues = function(a, b) {
        return a ? a : b ? b.tickValues() : void 0
    }, f.prototype.getXAxisTickValues = function() {
        return this.getTickValues(this.owner.config.axis_x_tick_values, this.owner.xAxis)
    }, f.prototype.getYAxisTickValues = function() {
        return this.getTickValues(this.owner.config.axis_y_tick_values, this.owner.yAxis)
    }, f.prototype.getY2AxisTickValues = function() {
        return this.getTickValues(this.owner.config.axis_y2_tick_values, this.owner.y2Axis)
    }, f.prototype.getLabelOptionByAxisId = function(a) {
        var b, c = this.owner,
            d = c.config;
        return "y" === a ? b = d.axis_y_label : "y2" === a ? b = d.axis_y2_label : "x" === a && (b = d.axis_x_label), b
    }, f.prototype.getLabelText = function(a) {
        var b = this.getLabelOptionByAxisId(a);
        return o(b) ? b : b ? b.text : null
    }, f.prototype.setLabelText = function(a, b) {
        var c = this.owner,
            d = c.config,
            e = this.getLabelOptionByAxisId(a);
        o(e) ? "y" === a ? d.axis_y_label = b : "y2" === a ? d.axis_y2_label = b : "x" === a && (d.axis_x_label = b) : e && (e.text = b)
    }, f.prototype.getLabelPosition = function(a, b) {
        var c = this.getLabelOptionByAxisId(a),
            d = c && "object" == typeof c && c.position ? c.position : b;
        return {
            isInner: d.indexOf("inner") >= 0,
            isOuter: d.indexOf("outer") >= 0,
            isLeft: d.indexOf("left") >= 0,
            isCenter: d.indexOf("center") >= 0,
            isRight: d.indexOf("right") >= 0,
            isTop: d.indexOf("top") >= 0,
            isMiddle: d.indexOf("middle") >= 0,
            isBottom: d.indexOf("bottom") >= 0
        }
    }, f.prototype.getXAxisLabelPosition = function() {
        return this.getLabelPosition("x", this.owner.config.axis_rotated ? "inner-top" : "inner-right")
    }, f.prototype.getYAxisLabelPosition = function() {
        return this.getLabelPosition("y", this.owner.config.axis_rotated ? "inner-right" : "inner-top")
    }, f.prototype.getY2AxisLabelPosition = function() {
        return this.getLabelPosition("y2", this.owner.config.axis_rotated ? "inner-right" : "inner-top")
    }, f.prototype.getLabelPositionById = function(a) {
        return "y2" === a ? this.getY2AxisLabelPosition() : "y" === a ? this.getYAxisLabelPosition() : this.getXAxisLabelPosition()
    }, f.prototype.textForXAxisLabel = function() {
        return this.getLabelText("x")
    }, f.prototype.textForYAxisLabel = function() {
        return this.getLabelText("y")
    }, f.prototype.textForY2AxisLabel = function() {
        return this.getLabelText("y2")
    }, f.prototype.xForAxisLabel = function(a, b) {
        var c = this.owner;
        return a ? b.isLeft ? 0 : b.isCenter ? c.width / 2 : c.width : b.isBottom ? -c.height : b.isMiddle ? -c.height / 2 : 0
    }, f.prototype.dxForAxisLabel = function(a, b) {
        return a ? b.isLeft ? "0.5em" : b.isRight ? "-0.5em" : "0" : b.isTop ? "-0.5em" : b.isBottom ? "0.5em" : "0"
    }, f.prototype.textAnchorForAxisLabel = function(a, b) {
        return a ? b.isLeft ? "start" : b.isCenter ? "middle" : "end" : b.isBottom ? "start" : b.isMiddle ? "middle" : "end"
    }, f.prototype.xForXAxisLabel = function() {
        return this.xForAxisLabel(!this.owner.config.axis_rotated, this.getXAxisLabelPosition())
    }, f.prototype.xForYAxisLabel = function() {
        return this.xForAxisLabel(this.owner.config.axis_rotated, this.getYAxisLabelPosition())
    }, f.prototype.xForY2AxisLabel = function() {
        return this.xForAxisLabel(this.owner.config.axis_rotated, this.getY2AxisLabelPosition())
    }, f.prototype.dxForXAxisLabel = function() {
        return this.dxForAxisLabel(!this.owner.config.axis_rotated, this.getXAxisLabelPosition())
    }, f.prototype.dxForYAxisLabel = function() {
        return this.dxForAxisLabel(this.owner.config.axis_rotated, this.getYAxisLabelPosition())
    }, f.prototype.dxForY2AxisLabel = function() {
        return this.dxForAxisLabel(this.owner.config.axis_rotated, this.getY2AxisLabelPosition())
    }, f.prototype.dyForXAxisLabel = function() {
        var a = this.owner,
            b = a.config,
            c = this.getXAxisLabelPosition();
        return b.axis_rotated ? c.isInner ? "1.2em" : -25 - this.getMaxTickWidth("x") : c.isInner ? "-0.5em" : b.axis_x_height ? b.axis_x_height - 10 : "3em"
    }, f.prototype.dyForYAxisLabel = function() {
        var a = this.owner,
            b = this.getYAxisLabelPosition();
        return a.config.axis_rotated ? b.isInner ? "-0.5em" : "3em" : b.isInner ? "1.2em" : -10 - (a.config.axis_y_inner ? 0 : this.getMaxTickWidth("y") + 10)
    }, f.prototype.dyForY2AxisLabel = function() {
        var a = this.owner,
            b = this.getY2AxisLabelPosition();
        return a.config.axis_rotated ? b.isInner ? "1.2em" : "-2.2em" : b.isInner ? "-0.5em" : 15 + (a.config.axis_y2_inner ? 0 : this.getMaxTickWidth("y2") + 15)
    }, f.prototype.textAnchorForXAxisLabel = function() {
        var a = this.owner;
        return this.textAnchorForAxisLabel(!a.config.axis_rotated, this.getXAxisLabelPosition())
    }, f.prototype.textAnchorForYAxisLabel = function() {
        var a = this.owner;
        return this.textAnchorForAxisLabel(a.config.axis_rotated, this.getYAxisLabelPosition())
    }, f.prototype.textAnchorForY2AxisLabel = function() {
        var a = this.owner;
        return this.textAnchorForAxisLabel(a.config.axis_rotated, this.getY2AxisLabelPosition())
    }, f.prototype.getMaxTickWidth = function(a, b) {
        var c, d, e, f, g, h = this.owner,
            i = h.config,
            j = 0;
        return b && h.currentMaxTickWidths[a] ? h.currentMaxTickWidths[a] : (h.svg && (c = h.filterTargetsToShow(h.data.targets), "y" === a ? (d = h.y.copy().domain(h.getYDomain(c, "y")), e = this.getYAxis(d, h.yOrient, i.axis_y_tick_format, h.yAxisTickValues, !1, !0)) : "y2" === a ? (d = h.y2.copy().domain(h.getYDomain(c, "y2")), e = this.getYAxis(d, h.y2Orient, i.axis_y2_tick_format, h.y2AxisTickValues, !1, !0)) : (d = h.x.copy().domain(h.getXDomain(c)), e = this.getXAxis(d, h.xOrient, h.xAxisTickFormat, h.xAxisTickValues, !1, !0, !0), this.updateXAxisTickValues(c, e)), f = h.d3.select("body").append("div").classed("c3", !0), g = f.append("svg").style("visibility", "hidden").style("position", "fixed").style("top", 0).style("left", 0), g.append("g").call(e).each(function() {
            h.d3.select(this).selectAll("text").each(function() {
                var a = this.getBoundingClientRect();
                j < a.width && (j = a.width)
            }), f.remove()
        })), h.currentMaxTickWidths[a] = 0 >= j ? h.currentMaxTickWidths[a] : j, h.currentMaxTickWidths[a])
    }, f.prototype.updateLabels = function(a) {
        var b = this.owner,
            c = b.main.select("." + l.axisX + " ." + l.axisXLabel),
            d = b.main.select("." + l.axisY + " ." + l.axisYLabel),
            e = b.main.select("." + l.axisY2 + " ." + l.axisY2Label);
        (a ? c.transition() : c).attr("x", this.xForXAxisLabel.bind(this)).attr("dx", this.dxForXAxisLabel.bind(this)).attr("dy", this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this)), (a ? d.transition() : d).attr("x", this.xForYAxisLabel.bind(this)).attr("dx", this.dxForYAxisLabel.bind(this)).attr("dy", this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this)), (a ? e.transition() : e).attr("x", this.xForY2AxisLabel.bind(this)).attr("dx", this.dxForY2AxisLabel.bind(this)).attr("dy", this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))
    }, f.prototype.getPadding = function(a, b, c, d) {
        var e = "number" == typeof a ? a : a[b];
        return m(e) ? "ratio" === a.unit ? a[b] * d : this.convertPixelsToAxisPadding(e, d) : c
    }, f.prototype.convertPixelsToAxisPadding = function(a, b) {
        var c = this.owner,
            d = c.config.axis_rotated ? c.width : c.height;
        return b * (a / d)
    }, f.prototype.generateTickValues = function(a, b, c) {
        var d, e, f, g, h, i, j, k = a;
        if (b)
            if (d = n(b) ? b() : b, 1 === d) k = [a[0]];
            else if (2 === d) k = [a[0], a[a.length - 1]];
        else if (d > 2) {
            for (g = d - 2, e = a[0], f = a[a.length - 1], h = (f - e) / (g + 1), k = [e], i = 0; g > i; i++) j = +e + h * (i + 1), k.push(c ? new Date(j) : j);
            k.push(f)
        }
        return c || (k = k.sort(function(a, b) {
            return a - b
        })), k
    }, f.prototype.generateTransitions = function(a) {
        var b = this.owner,
            c = b.axes;
        return {
            axisX: a ? c.x.transition().duration(a) : c.x,
            axisY: a ? c.y.transition().duration(a) : c.y,
            axisY2: a ? c.y2.transition().duration(a) : c.y2,
            axisSubX: a ? c.subx.transition().duration(a) : c.subx
        }
    }, f.prototype.redraw = function(a, b) {
        var c = this.owner;
        c.axes.x.style("opacity", b ? 0 : 1), c.axes.y.style("opacity", b ? 0 : 1), c.axes.y2.style("opacity", b ? 0 : 1), c.axes.subx.style("opacity", b ? 0 : 1), a.axisX.call(c.xAxis), a.axisY.call(c.yAxis), a.axisY2.call(c.y2Axis), a.axisSubX.call(c.subXAxis)
    }, i.getClipPath = function(b) {
        var c = a.navigator.appVersion.toLowerCase().indexOf("msie 9.") >= 0;
        return "url(" + (c ? "" : document.URL.split("#")[0]) + "#" + b + ")"
    }, i.appendClip = function(a, b) {
        return a.append("clipPath").attr("id", b).append("rect")
    }, i.getAxisClipX = function(a) {
        var b = Math.max(30, this.margin.left);
        return a ? -(1 + b) : -(b - 1)
    }, i.getAxisClipY = function(a) {
        return a ? -20 : -this.margin.top
    }, i.getXAxisClipX = function() {
        var a = this;
        return a.getAxisClipX(!a.config.axis_rotated)
    }, i.getXAxisClipY = function() {
        var a = this;
        return a.getAxisClipY(!a.config.axis_rotated)
    }, i.getYAxisClipX = function() {
        var a = this;
        return a.config.axis_y_inner ? -1 : a.getAxisClipX(a.config.axis_rotated)
    }, i.getYAxisClipY = function() {
        var a = this;
        return a.getAxisClipY(a.config.axis_rotated)
    }, i.getAxisClipWidth = function(a) {
        var b = this,
            c = Math.max(30, b.margin.left),
            d = Math.max(30, b.margin.right);
        return a ? b.width + 2 + c + d : b.margin.left + 20
    }, i.getAxisClipHeight = function(a) {
        return (a ? this.margin.bottom : this.margin.top + this.height) + 20
    }, i.getXAxisClipWidth = function() {
        var a = this;
        return a.getAxisClipWidth(!a.config.axis_rotated)
    }, i.getXAxisClipHeight = function() {
        var a = this;
        return a.getAxisClipHeight(!a.config.axis_rotated)
    }, i.getYAxisClipWidth = function() {
        var a = this;
        return a.getAxisClipWidth(a.config.axis_rotated) + (a.config.axis_y_inner ? 20 : 0)
    }, i.getYAxisClipHeight = function() {
        var a = this;
        return a.getAxisClipHeight(a.config.axis_rotated)
    }, i.initPie = function() {
        var a = this,
            b = a.d3,
            c = a.config;
        a.pie = b.layout.pie().value(function(a) {
            return a.values.reduce(function(a, b) {
                return a + b.value
            }, 0)
        }), c.data_order || a.pie.sort(null)
    }, i.updateRadius = function() {
        var a = this,
            b = a.config,
            c = b.gauge_width || b.donut_width;
        a.radiusExpanded = Math.min(a.arcWidth, a.arcHeight) / 2, a.radius = .95 * a.radiusExpanded, a.innerRadiusRatio = c ? (a.radius - c) / a.radius : .6, a.innerRadius = a.hasType("donut") || a.hasType("gauge") ? a.radius * a.innerRadiusRatio : 0
    }, i.updateArc = function() {
        var a = this;
        a.svgArc = a.getSvgArc(), a.svgArcExpanded = a.getSvgArcExpanded(), a.svgArcExpandedSub = a.getSvgArcExpanded(.98)
    }, i.updateAngle = function(a) {
        var b, c, d = this,
            e = d.config,
            f = !1,
            g = 0,
            h = e.gauge_min,
            i = e.gauge_max;
        return d.pie(d.filterTargetsToShow(d.data.targets)).forEach(function(b) {
            f || b.data.id !== a.data.id || (f = !0, a = b, a.index = g), g++
        }), isNaN(a.startAngle) && (a.startAngle = 0), isNaN(a.endAngle) && (a.endAngle = a.startAngle), d.isGaugeType(a.data) && (b = Math.PI / (i - h), c = a.value < h ? 0 : a.value < i ? a.value - h : i - h, a.startAngle = -1 * (Math.PI / 2), a.endAngle = a.startAngle + b * c), f ? a : null
    }, i.getSvgArc = function() {
        var a = this,
            b = a.d3.svg.arc().outerRadius(a.radius).innerRadius(a.innerRadius),
            c = function(c, d) {
                var e;
                return d ? b(c) : (e = a.updateAngle(c), e ? b(e) : "M 0 0")
            };
        return c.centroid = b.centroid, c
    }, i.getSvgArcExpanded = function(a) {
        var b = this,
            c = b.d3.svg.arc().outerRadius(b.radiusExpanded * (a ? a : 1)).innerRadius(b.innerRadius);
        return function(a) {
            var d = b.updateAngle(a);
            return d ? c(d) : "M 0 0"
        }
    }, i.getArc = function(a, b, c) {
        return c || this.isArcType(a.data) ? this.svgArc(a, b) : "M 0 0"
    }, i.transformForArcLabel = function(a) {
        var b, c, d, e, f, g = this,
            h = g.updateAngle(a),
            i = "";
        return h && !g.hasType("gauge") && (b = this.svgArc.centroid(h), c = isNaN(b[0]) ? 0 : b[0], d = isNaN(b[1]) ? 0 : b[1], e = Math.sqrt(c * c + d * d), f = g.radius && e ? (36 / g.radius > .375 ? 1.175 - 36 / g.radius : .8) * g.radius / e : 0, i = "translate(" + c * f + "," + d * f + ")"), i
    }, i.getArcRatio = function(a) {
        var b = this,
            c = b.hasType("gauge") ? Math.PI : 2 * Math.PI;
        return a ? (a.endAngle - a.startAngle) / c : null
    }, i.convertToArcData = function(a) {
        return this.addName({
            id: a.data.id,
            value: a.value,
            ratio: this.getArcRatio(a),
            index: a.index
        })
    }, i.textForArcLabel = function(a) {
        var b, c, d, e, f, g = this;
        return g.shouldShowArcLabel() ? (b = g.updateAngle(a), c = b ? b.value : null, d = g.getArcRatio(b), e = a.data.id, g.hasType("gauge") || g.meetsArcLabelThreshold(d) ? (f = g.getArcLabelFormat(), f ? f(c, d, e) : g.defaultArcValueFormat(c, d)) : "") : ""
    }, i.expandArc = function(b) {
        var c, d = this;
        return d.transiting ? void(c = a.setInterval(function() {
            d.transiting || (a.clearInterval(c), d.legend.selectAll(".c3-legend-item-focused").size() > 0 && d.expandArc(b))
        }, 10)) : (b = d.mapToTargetIds(b), void d.svg.selectAll(d.selectorTargets(b, "." + l.chartArc)).each(function(a) {
            d.shouldExpand(a.data.id) && d.d3.select(this).selectAll("path").transition().duration(d.expandDuration(a.data.id)).attr("d", d.svgArcExpanded).transition().duration(2 * d.expandDuration(a.data.id)).attr("d", d.svgArcExpandedSub).each(function(a) {
                d.isDonutType(a.data)
            })
        }))
    }, i.unexpandArc = function(a) {
        var b = this;
        b.transiting || (a = b.mapToTargetIds(a), b.svg.selectAll(b.selectorTargets(a, "." + l.chartArc)).selectAll("path").transition().duration(function(a) {
            return b.expandDuration(a.data.id)
        }).attr("d", b.svgArc), b.svg.selectAll("." + l.arc).style("opacity", 1))
    }, i.expandDuration = function(a) {
        var b = this,
            c = b.config;
        return b.isDonutType(a) ? c.donut_expand_duration : b.isGaugeType(a) ? c.gauge_expand_duration : b.isPieType(a) ? c.pie_expand_duration : 50
    }, i.shouldExpand = function(a) {
        var b = this,
            c = b.config;
        return b.isDonutType(a) && c.donut_expand || b.isGaugeType(a) && c.gauge_expand || b.isPieType(a) && c.pie_expand
    }, i.shouldShowArcLabel = function() {
        var a = this,
            b = a.config,
            c = !0;
        return a.hasType("donut") ? c = b.donut_label_show : a.hasType("pie") && (c = b.pie_label_show), c
    }, i.meetsArcLabelThreshold = function(a) {
        var b = this,
            c = b.config,
            d = b.hasType("donut") ? c.donut_label_threshold : c.pie_label_threshold;
        return a >= d
    }, i.getArcLabelFormat = function() {
        var a = this,
            b = a.config,
            c = b.pie_label_format;
        return a.hasType("gauge") ? c = b.gauge_label_format : a.hasType("donut") && (c = b.donut_label_format), c
    }, i.getArcTitle = function() {
        var a = this;
        return a.hasType("donut") ? a.config.donut_title : ""
    }, i.updateTargetsForArc = function(a) {
        var b, c, d = this,
            e = d.main,
            f = d.classChartArc.bind(d),
            g = d.classArcs.bind(d),
            h = d.classFocus.bind(d);
        b = e.select("." + l.chartArcs).selectAll("." + l.chartArc).data(d.pie(a)).attr("class", function(a) {
            return f(a) + h(a.data)
        }), c = b.enter().append("g").attr("class", f), c.append("g").attr("class", g), c.append("text").attr("dy", d.hasType("gauge") ? "-.1em" : ".35em").style("opacity", 0).style("text-anchor", "middle").style("pointer-events", "none")
    }, i.initArc = function() {
        var a = this;
        a.arcs = a.main.select("." + l.chart).append("g").attr("class", l.chartArcs).attr("transform", a.getTranslate("arc")), a.arcs.append("text").attr("class", l.chartArcsTitle).style("text-anchor", "middle").text(a.getArcTitle())
    }, i.redrawArc = function(a, b, c) {
        var d, e = this,
            f = e.d3,
            g = e.config,
            h = e.main;
        d = h.selectAll("." + l.arcs).selectAll("." + l.arc).data(e.arcData.bind(e)), d.enter().append("path").attr("class", e.classArc.bind(e)).style("fill", function(a) {
            return e.color(a.data)
        }).style("cursor", function(a) {
            return g.interaction_enabled && g.data_selection_isselectable(a) ? "pointer" : null
        }).style("opacity", 0).each(function(a) {
            e.isGaugeType(a.data) && (a.startAngle = a.endAngle = -1 * (Math.PI / 2)), this._current = a
        }), d.attr("transform", function(a) {
            return !e.isGaugeType(a.data) && c ? "scale(0)" : ""
        }).style("opacity", function(a) {
            return a === this._current ? 0 : 1
        }).on("mouseover", g.interaction_enabled ? function(a) {
            var b, c;
            e.transiting || (b = e.updateAngle(a), b && (c = e.convertToArcData(b), e.expandArc(b.data.id), e.api.focus(b.data.id), e.toggleFocusLegend(b.data.id, !0), e.config.data_onmouseover(c, this)))
        } : null).on("mousemove", g.interaction_enabled ? function(a) {
            var b, c, d = e.updateAngle(a);
            d && (b = e.convertToArcData(d), c = [b], e.showTooltip(c, this))
        } : null).on("mouseout", g.interaction_enabled ? function(a) {
            var b, c;
            e.transiting || (b = e.updateAngle(a), b && (c = e.convertToArcData(b), e.unexpandArc(b.data.id), e.api.revert(), e.revertLegend(), e.hideTooltip(), e.config.data_onmouseout(c, this)))
        } : null).on("click", g.interaction_enabled ? function(a, b) {
            var c, d = e.updateAngle(a);
            d && (c = e.convertToArcData(d), e.toggleShape && e.toggleShape(this, c, b), e.config.data_onclick.call(e.api, c, this))
        } : null).each(function() {
            e.transiting = !0
        }).transition().duration(a).attrTween("d", function(a) {
            var b, c = e.updateAngle(a);
            return c ? (isNaN(this._current.startAngle) && (this._current.startAngle = 0), isNaN(this._current.endAngle) && (this._current.endAngle = this._current.startAngle), b = f.interpolate(this._current, c), this._current = b(0), function(c) {
                var d = b(c);
                return d.data = a.data, e.getArc(d, !0)
            }) : function() {
                return "M 0 0"
            }
        }).attr("transform", c ? "scale(1)" : "").style("fill", function(a) {
            return e.levelColor ? e.levelColor(a.data.values[0].value) : e.color(a.data.id)
        }).style("opacity", 1).call(e.endall, function() {
            e.transiting = !1
        }), d.exit().transition().duration(b).style("opacity", 0).remove(), h.selectAll("." + l.chartArc).select("text").style("opacity", 0).attr("class", function(a) {
            return e.isGaugeType(a.data) ? l.gaugeValue : ""
        }).text(e.textForArcLabel.bind(e)).attr("transform", e.transformForArcLabel.bind(e)).style("font-size", function(a) {
            return e.isGaugeType(a.data) ? Math.round(e.radius / 5) + "px" : ""
        }).transition().duration(a).style("opacity", function(a) {
            return e.isTargetToShow(a.data.id) && e.isArcType(a.data) ? 1 : 0
        }), h.select("." + l.chartArcsTitle).style("opacity", e.hasType("donut") || e.hasType("gauge") ? 1 : 0), e.hasType("gauge") && (e.arcs.select("." + l.chartArcsBackground).attr("d", function() {
            var a = {
                data: [{
                    value: g.gauge_max
                }],
                startAngle: -1 * (Math.PI / 2),
                endAngle: Math.PI / 2
            };
            return e.getArc(a, !0, !0)
        }), e.arcs.select("." + l.chartArcsGaugeUnit).attr("dy", ".75em").text(g.gauge_label_show ? g.gauge_units : ""), e.arcs.select("." + l.chartArcsGaugeMin).attr("dx", -1 * (e.innerRadius + (e.radius - e.innerRadius) / 2) + "px").attr("dy", "1.2em").text(g.gauge_label_show ? g.gauge_min : ""), e.arcs.select("." + l.chartArcsGaugeMax).attr("dx", e.innerRadius + (e.radius - e.innerRadius) / 2 + "px").attr("dy", "1.2em").text(g.gauge_label_show ? g.gauge_max : ""))
    }, i.initGauge = function() {
        var a = this.arcs;
        this.hasType("gauge") && (a.append("path").attr("class", l.chartArcsBackground), a.append("text").attr("class", l.chartArcsGaugeUnit).style("text-anchor", "middle").style("pointer-events", "none"), a.append("text").attr("class", l.chartArcsGaugeMin).style("text-anchor", "middle").style("pointer-events", "none"), a.append("text").attr("class", l.chartArcsGaugeMax).style("text-anchor", "middle").style("pointer-events", "none"))
    }, i.getGaugeLabelHeight = function() {
        return this.config.gauge_label_show ? 20 : 0
    }, i.initRegion = function() {
        var a = this;
        a.region = a.main.append("g").attr("clip-path", a.clipPath).attr("class", l.regions)
    }, i.updateRegion = function(a) {
        var b = this,
            c = b.config;
        b.region.style("visibility", b.hasArcType() ? "hidden" : "visible"), b.mainRegion = b.main.select("." + l.regions).selectAll("." + l.region).data(c.regions), b.mainRegion.enter().append("g").attr("class", b.classRegion.bind(b)).append("rect").style("fill-opacity", 0), b.mainRegion.exit().transition().duration(a).style("opacity", 0).remove()
    }, i.redrawRegion = function(a) {
        var b = this,
            c = b.mainRegion.selectAll("rect"),
            d = b.regionX.bind(b),
            e = b.regionY.bind(b),
            f = b.regionWidth.bind(b),
            g = b.regionHeight.bind(b);
        return [(a ? c.transition() : c).attr("x", d).attr("y", e).attr("width", f).attr("height", g).style("fill-opacity", function(a) {
            return m(a.opacity) ? a.opacity : .1
        })]
    }, i.regionX = function(a) {
        var b, c = this,
            d = c.config,
            e = "y" === a.axis ? c.y : c.y2;
        return b = "y" === a.axis || "y2" === a.axis ? d.axis_rotated && "start" in a ? e(a.start) : 0 : d.axis_rotated ? 0 : "start" in a ? c.x(c.isTimeSeries() ? c.parseDate(a.start) : a.start) : 0
    }, i.regionY = function(a) {
        var b, c = this,
            d = c.config,
            e = "y" === a.axis ? c.y : c.y2;
        return b = "y" === a.axis || "y2" === a.axis ? d.axis_rotated ? 0 : "end" in a ? e(a.end) : 0 : d.axis_rotated && "start" in a ? c.x(c.isTimeSeries() ? c.parseDate(a.start) : a.start) : 0
    }, i.regionWidth = function(a) {
        var b, c = this,
            d = c.config,
            e = c.regionX(a),
            f = "y" === a.axis ? c.y : c.y2;
        return b = "y" === a.axis || "y2" === a.axis ? d.axis_rotated && "end" in a ? f(a.end) : c.width : d.axis_rotated ? c.width : "end" in a ? c.x(c.isTimeSeries() ? c.parseDate(a.end) : a.end) : c.width, e > b ? 0 : b - e
    }, i.regionHeight = function(a) {
        var b, c = this,
            d = c.config,
            e = this.regionY(a),
            f = "y" === a.axis ? c.y : c.y2;
        return b = "y" === a.axis || "y2" === a.axis ? d.axis_rotated ? c.height : "start" in a ? f(a.start) : c.height : d.axis_rotated && "end" in a ? c.x(c.isTimeSeries() ? c.parseDate(a.end) : a.end) : c.height, e > b ? 0 : b - e
    }, i.isRegionOnX = function(a) {
        return !a.axis || "x" === a.axis
    }, i.drag = function(a) {
        var b, c, d, e, f, g, h, i, j = this,
            k = j.config,
            m = j.main,
            n = j.d3;
        j.hasArcType() || k.data_selection_enabled && (!k.zoom_enabled || j.zoom.altDomain) && k.data_selection_multiple && (b = j.dragStart[0], c = j.dragStart[1], d = a[0], e = a[1], f = Math.min(b, d), g = Math.max(b, d), h = k.data_selection_grouped ? j.margin.top : Math.min(c, e), i = k.data_selection_grouped ? j.height : Math.max(c, e), m.select("." + l.dragarea).attr("x", f).attr("y", h).attr("width", g - f).attr("height", i - h), m.selectAll("." + l.shapes).selectAll("." + l.shape).filter(function(a) {
            return k.data_selection_isselectable(a)
        }).each(function(a, b) {
            var c, d, e, k, m, o, p = n.select(this),
                q = p.classed(l.SELECTED),
                r = p.classed(l.INCLUDED),
                s = !1;
            if (p.classed(l.circle)) c = 1 * p.attr("cx"), d = 1 * p.attr("cy"), m = j.togglePoint, s = c > f && g > c && d > h && i > d;
            else {
                if (!p.classed(l.bar)) return;
                o = y(this), c = o.x, d = o.y, e = o.width, k = o.height, m = j.togglePath, s = !(c > g || f > c + e || d > i || h > d + k)
            }
            s ^ r && (p.classed(l.INCLUDED, !r), p.classed(l.SELECTED, !q), m.call(j, !q, p, a, b))
        }))
    }, i.dragstart = function(a) {
        var b = this,
            c = b.config;
        b.hasArcType() || c.data_selection_enabled && (b.dragStart = a, b.main.select("." + l.chart).append("rect").attr("class", l.dragarea).style("opacity", .1), b.dragging = !0)
    }, i.dragend = function() {
        var a = this,
            b = a.config;
        a.hasArcType() || b.data_selection_enabled && (a.main.select("." + l.dragarea).transition().duration(100).style("opacity", 0).remove(), a.main.selectAll("." + l.shape).classed(l.INCLUDED, !1), a.dragging = !1)
    }, i.selectPoint = function(a, b, c) {
        var d = this,
            e = d.config,
            f = (e.axis_rotated ? d.circleY : d.circleX).bind(d),
            g = (e.axis_rotated ? d.circleX : d.circleY).bind(d),
            h = d.pointSelectR.bind(d);
        e.data_onselected.call(d.api, b, a.node()), d.main.select("." + l.selectedCircles + d.getTargetSelectorSuffix(b.id)).selectAll("." + l.selectedCircle + "-" + c).data([b]).enter().append("circle").attr("class", function() {
            return d.generateClass(l.selectedCircle, c)
        }).attr("cx", f).attr("cy", g).attr("stroke", function() {
            return d.color(b)
        }).attr("r", function(a) {
            return 1.4 * d.pointSelectR(a)
        }).transition().duration(100).attr("r", h)
    }, i.unselectPoint = function(a, b, c) {
        var d = this;
        d.config.data_onunselected.call(d.api, b, a.node()), d.main.select("." + l.selectedCircles + d.getTargetSelectorSuffix(b.id)).selectAll("." + l.selectedCircle + "-" + c).transition().duration(100).attr("r", 0).remove()
    }, i.togglePoint = function(a, b, c, d) {
        a ? this.selectPoint(b, c, d) : this.unselectPoint(b, c, d)
    }, i.selectPath = function(a, b) {
        var c = this;
        c.config.data_onselected.call(c, b, a.node()), a.transition().duration(100).style("fill", function() {
            return c.d3.rgb(c.color(b)).brighter(.75)
        })
    }, i.unselectPath = function(a, b) {
        var c = this;
        c.config.data_onunselected.call(c, b, a.node()), a.transition().duration(100).style("fill", function() {
            return c.color(b)
        })
    }, i.togglePath = function(a, b, c, d) {
        a ? this.selectPath(b, c, d) : this.unselectPath(b, c, d)
    }, i.getToggle = function(a, b) {
        var c, d = this;
        return "circle" === a.nodeName ? c = d.isStepType(b) ? function() {} : d.togglePoint : "path" === a.nodeName && (c = d.togglePath), c
    }, i.toggleShape = function(a, b, c) {
        var d = this,
            e = d.d3,
            f = d.config,
            g = e.select(a),
            h = g.classed(l.SELECTED),
            i = d.getToggle(a, b).bind(d);
        f.data_selection_enabled && f.data_selection_isselectable(b) && (f.data_selection_multiple || d.main.selectAll("." + l.shapes + (f.data_selection_grouped ? d.getTargetSelectorSuffix(b.id) : "")).selectAll("." + l.shape).each(function(a, b) {
            var c = e.select(this);
            c.classed(l.SELECTED) && i(!1, c.classed(l.SELECTED, !1), a, b)
        }), g.classed(l.SELECTED, !h), i(!h, g, b, c))
    }, i.initBrush = function() {
        var a = this,
            b = a.d3;
        a.brush = b.svg.brush().on("brush", function() {
            a.redrawForBrush()
        }), a.brush.update = function() {
            return a.context && a.context.select("." + l.brush).call(this), this
        }, a.brush.scale = function(b) {
            return a.config.axis_rotated ? this.y(b) : this.x(b)
        }
    }, i.initSubchart = function() {
        var a = this,
            b = a.config,
            c = a.context = a.svg.append("g").attr("transform", a.getTranslate("context")),
            d = b.subchart_show ? "visible" : "hidden";
        c.style("visibility", d), c.append("g").attr("clip-path", a.clipPathForSubchart).attr("class", l.chart), c.select("." + l.chart).append("g").attr("class", l.chartBars), c.select("." + l.chart).append("g").attr("class", l.chartLines), c.append("g").attr("clip-path", a.clipPath).attr("class", l.brush).call(a.brush), a.axes.subx = c.append("g").attr("class", l.axisX).attr("transform", a.getTranslate("subx")).attr("clip-path", b.axis_rotated ? "" : a.clipPathForXAxis).style("visibility", b.subchart_axis_x_show ? d : "hidden")
    }, i.updateTargetsForSubchart = function(a) {
        var b, c, d, e, f = this,
            g = f.context,
            h = f.config,
            i = f.classChartBar.bind(f),
            j = f.classBars.bind(f),
            k = f.classChartLine.bind(f),
            m = f.classLines.bind(f),
            n = f.classAreas.bind(f);
        h.subchart_show && (e = g.select("." + l.chartBars).selectAll("." + l.chartBar).data(a).attr("class", i), d = e.enter().append("g").style("opacity", 0).attr("class", i), d.append("g").attr("class", j), c = g.select("." + l.chartLines).selectAll("." + l.chartLine).data(a).attr("class", k), b = c.enter().append("g").style("opacity", 0).attr("class", k), b.append("g").attr("class", m), b.append("g").attr("class", n), g.selectAll("." + l.brush + " rect").attr(h.axis_rotated ? "width" : "height", h.axis_rotated ? f.width2 : f.height2))
    }, i.updateBarForSubchart = function(a) {
        var b = this;
        b.contextBar = b.context.selectAll("." + l.bars).selectAll("." + l.bar).data(b.barData.bind(b)), b.contextBar.enter().append("path").attr("class", b.classBar.bind(b)).style("stroke", "none").style("fill", b.color), b.contextBar.style("opacity", b.initialOpacity.bind(b)), b.contextBar.exit().transition().duration(a).style("opacity", 0).remove()
    }, i.redrawBarForSubchart = function(a, b, c) {
        (b ? this.contextBar.transition().duration(c) : this.contextBar).attr("d", a).style("opacity", 1)
    }, i.updateLineForSubchart = function(a) {
        var b = this;
        b.contextLine = b.context.selectAll("." + l.lines).selectAll("." + l.line).data(b.lineData.bind(b)), b.contextLine.enter().append("path").attr("class", b.classLine.bind(b)).style("stroke", b.color), b.contextLine.style("opacity", b.initialOpacity.bind(b)), b.contextLine.exit().transition().duration(a).style("opacity", 0).remove()
    }, i.redrawLineForSubchart = function(a, b, c) {
        (b ? this.contextLine.transition().duration(c) : this.contextLine).attr("d", a).style("opacity", 1)
    }, i.updateAreaForSubchart = function(a) {
        var b = this,
            c = b.d3;
        b.contextArea = b.context.selectAll("." + l.areas).selectAll("." + l.area).data(b.lineData.bind(b)), b.contextArea.enter().append("path").attr("class", b.classArea.bind(b)).style("fill", b.color).style("opacity", function() {
            return b.orgAreaOpacity = +c.select(this).style("opacity"), 0
        }), b.contextArea.style("opacity", 0), b.contextArea.exit().transition().duration(a).style("opacity", 0).remove()
    }, i.redrawAreaForSubchart = function(a, b, c) {
        (b ? this.contextArea.transition().duration(c) : this.contextArea).attr("d", a).style("fill", this.color).style("opacity", this.orgAreaOpacity)
    }, i.redrawSubchart = function(a, b, c, d, e, f, g) {
        var h, i, j, k = this,
            l = k.d3,
            m = k.config;
        k.context.style("visibility", m.subchart_show ? "visible" : "hidden"), m.subchart_show && (l.event && "zoom" === l.event.type && k.brush.extent(k.x.orgDomain()).update(), a && (k.brush.empty() || k.brush.extent(k.x.orgDomain()).update(), h = k.generateDrawArea(e, !0), i = k.generateDrawBar(f, !0), j = k.generateDrawLine(g, !0), k.updateBarForSubchart(c), k.updateLineForSubchart(c), k.updateAreaForSubchart(c), k.redrawBarForSubchart(i, c, c), k.redrawLineForSubchart(j, c, c), k.redrawAreaForSubchart(h, c, c)))
    }, i.redrawForBrush = function() {
        var a = this,
            b = a.x;
        a.redraw({
            withTransition: !1,
            withY: a.config.zoom_rescale,
            withSubchart: !1,
            withUpdateXDomain: !0,
            withDimension: !1
        }), a.config.subchart_onbrush.call(a.api, b.orgDomain())
    }, i.transformContext = function(a, b) {
        var c, d = this;
        b && b.axisSubX ? c = b.axisSubX : (c = d.context.select("." + l.axisX), a && (c = c.transition())), d.context.attr("transform", d.getTranslate("context")), c.attr("transform", d.getTranslate("subx"))
    }, i.getDefaultExtent = function() {
        var a = this,
            b = a.config,
            c = n(b.axis_x_extent) ? b.axis_x_extent(a.getXDomain(a.data.targets)) : b.axis_x_extent;
        return a.isTimeSeries() && (c = [a.parseDate(c[0]), a.parseDate(c[1])]), c
    }, i.initZoom = function() {
        var a, b = this,
            c = b.d3,
            d = b.config;
        b.zoom = c.behavior.zoom().on("zoomstart", function() {
            a = c.event.sourceEvent, b.zoom.altDomain = c.event.sourceEvent.altKey ? b.x.orgDomain() : null, d.zoom_onzoomstart.call(b.api, c.event.sourceEvent)
        }).on("zoom", function() {
            b.redrawForZoom.call(b)
        }).on("zoomend", function() {
            var e = c.event.sourceEvent;
            e && a.clientX === e.clientX && a.clientY === e.clientY || (b.redrawEventRect(), b.updateZoom(), d.zoom_onzoomend.call(b.api, b.x.orgDomain()))
        }), b.zoom.scale = function(a) {
            return d.axis_rotated ? this.y(a) : this.x(a)
        }, b.zoom.orgScaleExtent = function() {
            var a = d.zoom_extent ? d.zoom_extent : [1, 10];
            return [a[0], Math.max(b.getMaxDataCount() / a[1], a[1])]
        }, b.zoom.updateScaleExtent = function() {
            var a = t(b.x.orgDomain()) / t(b.getZoomDomain()),
                c = this.orgScaleExtent();
            return this.scaleExtent([c[0] * a, c[1] * a]), this
        }
    }, i.getZoomDomain = function() {
        var a = this,
            b = a.config,
            c = a.d3,
            d = c.min([a.orgXDomain[0], b.zoom_x_min]),
            e = c.max([a.orgXDomain[1], b.zoom_x_max]);
        return [d, e]
    }, i.updateZoom = function() {
        var a = this,
            b = a.config.zoom_enabled ? a.zoom : function() {};
        a.main.select("." + l.zoomRect).call(b).on("dblclick.zoom", null), a.main.selectAll("." + l.eventRect).call(b).on("dblclick.zoom", null)
    }, i.redrawForZoom = function() {
        var a = this,
            b = a.d3,
            c = a.config,
            d = a.zoom,
            e = a.x;
        if (c.zoom_enabled && 0 !== a.filterTargetsToShow(a.data.targets).length) {
            if ("mousemove" === b.event.sourceEvent.type && d.altDomain) return e.domain(d.altDomain), void d.scale(e).updateScaleExtent();
            a.isCategorized() && e.orgDomain()[0] === a.orgXDomain[0] && e.domain([a.orgXDomain[0] - 1e-10, e.orgDomain()[1]]), a.redraw({
                withTransition: !1,
                withY: c.zoom_rescale,
                withSubchart: !1,
                withEventRect: !1,
                withDimension: !1
            }), "mousemove" === b.event.sourceEvent.type && (a.cancelClick = !0), c.zoom_onzoom.call(a.api, e.orgDomain())
        }
    }, i.generateColor = function() {
        var a = this,
            b = a.config,
            c = a.d3,
            d = b.data_colors,
            e = v(b.color_pattern) ? b.color_pattern : c.scale.category10().range(),
            f = b.data_color,
            g = [];
        return function(a) {
            var b, c = a.id || a.data && a.data.id || a;
            return d[c] instanceof Function ? b = d[c](a) : d[c] ? b = d[c] : (g.indexOf(c) < 0 && g.push(c), b = e[g.indexOf(c) % e.length], d[c] = b), f instanceof Function ? f(b, a) : b
        }
    }, i.generateLevelColor = function() {
        var a = this,
            b = a.config,
            c = b.color_pattern,
            d = b.color_threshold,
            e = "value" === d.unit,
            f = d.values && d.values.length ? d.values : [],
            g = d.max || 100;
        return v(b.color_threshold) ? function(a) {
            var b, d, h = c[c.length - 1];
            for (b = 0; b < f.length; b++)
                if (d = e ? a : 100 * a / g, d < f[b]) {
                    h = c[b];
                    break
                }
            return h
        } : null
    }, i.getYFormat = function(a) {
        var b = this,
            c = a && !b.hasType("gauge") ? b.defaultArcValueFormat : b.yFormat,
            d = a && !b.hasType("gauge") ? b.defaultArcValueFormat : b.y2Format;
        return function(a, e, f) {
            var g = "y2" === b.axis.getId(f) ? d : c;
            return g.call(b, a, e)
        }
    }, i.yFormat = function(a) {
        var b = this,
            c = b.config,
            d = c.axis_y_tick_format ? c.axis_y_tick_format : b.defaultValueFormat;
        return d(a)
    }, i.y2Format = function(a) {
        var b = this,
            c = b.config,
            d = c.axis_y2_tick_format ? c.axis_y2_tick_format : b.defaultValueFormat;
        return d(a)
    }, i.defaultValueFormat = function(a) {
        return m(a) ? +a : ""
    }, i.defaultArcValueFormat = function(a, b) {
        return (100 * b).toFixed(1) + "%"
    }, i.dataLabelFormat = function(a) {
        var b, c = this,
            d = c.config.data_labels,
            e = function(a) {
                return m(a) ? +a : ""
            };
        return b = "function" == typeof d.format ? d.format : "object" == typeof d.format ? d.format[a] ? d.format[a] === !0 ? e : d.format[a] : function() {
            return ""
        } : e
    }, i.hasCaches = function(a) {
        for (var b = 0; b < a.length; b++)
            if (!(a[b] in this.cache)) return !1;
        return !0
    }, i.addCache = function(a, b) {
        this.cache[a] = this.cloneTarget(b)
    }, i.getCaches = function(a) {
        var b, c = [];
        for (b = 0; b < a.length; b++) a[b] in this.cache && c.push(this.cloneTarget(this.cache[a[b]]));
        return c
    };
    var l = i.CLASS = {
        target: "c3-target",
        chart: "c3-chart",
        chartLine: "c3-chart-line",
        chartLines: "c3-chart-lines",
        chartBar: "c3-chart-bar",
        chartBars: "c3-chart-bars",
        chartText: "c3-chart-text",
        chartTexts: "c3-chart-texts",
        chartArc: "c3-chart-arc",
        chartArcs: "c3-chart-arcs",
        chartArcsTitle: "c3-chart-arcs-title",
        chartArcsBackground: "c3-chart-arcs-background",
        chartArcsGaugeUnit: "c3-chart-arcs-gauge-unit",
        chartArcsGaugeMax: "c3-chart-arcs-gauge-max",
        chartArcsGaugeMin: "c3-chart-arcs-gauge-min",
        selectedCircle: "c3-selected-circle",
        selectedCircles: "c3-selected-circles",
        eventRect: "c3-event-rect",
        eventRects: "c3-event-rects",
        eventRectsSingle: "c3-event-rects-single",
        eventRectsMultiple: "c3-event-rects-multiple",
        zoomRect: "c3-zoom-rect",
        brush: "c3-brush",
        focused: "c3-focused",
        defocused: "c3-defocused",
        region: "c3-region",
        regions: "c3-regions",
        title: "c3-title",
        tooltipContainer: "c3-tooltip-container",
        tooltip: "c3-tooltip",
        tooltipName: "c3-tooltip-name",
        shape: "c3-shape",
        shapes: "c3-shapes",
        line: "c3-line",
        lines: "c3-lines",
        bar: "c3-bar",
        bars: "c3-bars",
        circle: "c3-circle",
        circles: "c3-circles",
        arc: "c3-arc",
        arcs: "c3-arcs",
        area: "c3-area",
        areas: "c3-areas",
        empty: "c3-empty",
        text: "c3-text",
        texts: "c3-texts",
        gaugeValue: "c3-gauge-value",
        grid: "c3-grid",
        gridLines: "c3-grid-lines",
        xgrid: "c3-xgrid",
        xgrids: "c3-xgrids",
        xgridLine: "c3-xgrid-line",
        xgridLines: "c3-xgrid-lines",
        xgridFocus: "c3-xgrid-focus",
        ygrid: "c3-ygrid",
        ygrids: "c3-ygrids",
        ygridLine: "c3-ygrid-line",
        ygridLines: "c3-ygrid-lines",
        axis: "c3-axis",
        axisX: "c3-axis-x",
        axisXLabel: "c3-axis-x-label",
        axisY: "c3-axis-y",
        axisYLabel: "c3-axis-y-label",
        axisY2: "c3-axis-y2",
        axisY2Label: "c3-axis-y2-label",
        legendBackground: "c3-legend-background",
        legendItem: "c3-legend-item",
        legendItemEvent: "c3-legend-item-event",
        legendItemTile: "c3-legend-item-tile",
        legendItemHidden: "c3-legend-item-hidden",
        legendItemFocused: "c3-legend-item-focused",
        dragarea: "c3-dragarea",
        EXPANDED: "_expanded_",
        SELECTED: "_selected_",
        INCLUDED: "_included_"
    };
    i.generateClass = function(a, b) {
        return " " + a + " " + a + this.getTargetSelectorSuffix(b)
    }, i.classText = function(a) {
        return this.generateClass(l.text, a.index)
    }, i.classTexts = function(a) {
        return this.generateClass(l.texts, a.id)
    }, i.classShape = function(a) {
        return this.generateClass(l.shape, a.index)
    }, i.classShapes = function(a) {
        return this.generateClass(l.shapes, a.id)
    }, i.classLine = function(a) {
        return this.classShape(a) + this.generateClass(l.line, a.id)
    }, i.classLines = function(a) {
        return this.classShapes(a) + this.generateClass(l.lines, a.id)
    }, i.classCircle = function(a) {
        return this.classShape(a) + this.generateClass(l.circle, a.index)
    }, i.classCircles = function(a) {
        return this.classShapes(a) + this.generateClass(l.circles, a.id)
    }, i.classBar = function(a) {
        return this.classShape(a) + this.generateClass(l.bar, a.index)
    }, i.classBars = function(a) {
        return this.classShapes(a) + this.generateClass(l.bars, a.id)
    }, i.classArc = function(a) {
        return this.classShape(a.data) + this.generateClass(l.arc, a.data.id)
    }, i.classArcs = function(a) {
        return this.classShapes(a.data) + this.generateClass(l.arcs, a.data.id)
    }, i.classArea = function(a) {
        return this.classShape(a) + this.generateClass(l.area, a.id)
    }, i.classAreas = function(a) {
        return this.classShapes(a) + this.generateClass(l.areas, a.id)
    }, i.classRegion = function(a, b) {
        return this.generateClass(l.region, b) + " " + ("class" in a ? a["class"] : "")
    }, i.classEvent = function(a) {
        return this.generateClass(l.eventRect, a.index)
    }, i.classTarget = function(a) {
        var b = this,
            c = b.config.data_classes[a],
            d = "";
        return c && (d = " " + l.target + "-" + c), b.generateClass(l.target, a) + d
    }, i.classFocus = function(a) {
        return this.classFocused(a) + this.classDefocused(a)
    }, i.classFocused = function(a) {
        return " " + (this.focusedTargetIds.indexOf(a.id) >= 0 ? l.focused : "")
    }, i.classDefocused = function(a) {
        return " " + (this.defocusedTargetIds.indexOf(a.id) >= 0 ? l.defocused : "")
    }, i.classChartText = function(a) {
        return l.chartText + this.classTarget(a.id)
    }, i.classChartLine = function(a) {
        return l.chartLine + this.classTarget(a.id)
    }, i.classChartBar = function(a) {
        return l.chartBar + this.classTarget(a.id)
    }, i.classChartArc = function(a) {
        return l.chartArc + this.classTarget(a.data.id)
    }, i.getTargetSelectorSuffix = function(a) {
        return a || 0 === a ? ("-" + a).replace(/[\s?!@#$%^&*()_=+,.<>'":;\[\]\/|~`{}\\]/g, "-") : ""
    }, i.selectorTarget = function(a, b) {
        return (b || "") + "." + l.target + this.getTargetSelectorSuffix(a)
    }, i.selectorTargets = function(a, b) {
        var c = this;
        return a = a || [], a.length ? a.map(function(a) {
            return c.selectorTarget(a, b)
        }) : null
    }, i.selectorLegend = function(a) {
        return "." + l.legendItem + this.getTargetSelectorSuffix(a)
    }, i.selectorLegends = function(a) {
        var b = this;
        return a && a.length ? a.map(function(a) {
            return b.selectorLegend(a)
        }) : null
    };
    var m = i.isValue = function(a) {
            return a || 0 === a
        },
        n = i.isFunction = function(a) {
            return "function" == typeof a
        },
        o = i.isString = function(a) {
            return "string" == typeof a
        },
        p = i.isUndefined = function(a) {
            return "undefined" == typeof a
        },
        q = i.isDefined = function(a) {
            return "undefined" != typeof a
        },
        r = i.ceil10 = function(a) {
            return 10 * Math.ceil(a / 10)
        },
        s = i.asHalfPixel = function(a) {
            return Math.ceil(a) + .5
        },
        t = i.diffDomain = function(a) {
            return a[1] - a[0]
        },
        u = i.isEmpty = function(a) {
            return "undefined" == typeof a || null === a || o(a) && 0 === a.length || "object" == typeof a && 0 === Object.keys(a).length
        },
        v = i.notEmpty = function(a) {
            return !i.isEmpty(a)
        },
        w = i.getOption = function(a, b, c) {
            return q(a[b]) ? a[b] : c
        },
        x = i.hasValue = function(a, b) {
            var c = !1;
            return Object.keys(a).forEach(function(d) {
                a[d] === b && (c = !0)
            }), c
        },
        y = i.getPathBox = function(a) {
            var b = a.getBoundingClientRect(),
                c = [a.pathSegList.getItem(0), a.pathSegList.getItem(1)],
                d = c[0].x,
                e = Math.min(c[0].y, c[1].y);
            return {
                x: d,
                y: e,
                width: b.width,
                height: b.height
            }
        };
    h.focus = function(a) {
        var b, c = this.internal;
        a = c.mapToTargetIds(a), b = c.svg.selectAll(c.selectorTargets(a.filter(c.isTargetToShow, c))), this.revert(), this.defocus(), b.classed(l.focused, !0).classed(l.defocused, !1), c.hasArcType() && c.expandArc(a), c.toggleFocusLegend(a, !0), c.focusedTargetIds = a, c.defocusedTargetIds = c.defocusedTargetIds.filter(function(b) {
            return a.indexOf(b) < 0
        })
    }, h.defocus = function(a) {
        var b, c = this.internal;
        a = c.mapToTargetIds(a), b = c.svg.selectAll(c.selectorTargets(a.filter(c.isTargetToShow, c))), b.classed(l.focused, !1).classed(l.defocused, !0), c.hasArcType() && c.unexpandArc(a), c.toggleFocusLegend(a, !1), c.focusedTargetIds = c.focusedTargetIds.filter(function(b) {
            return a.indexOf(b) < 0
        }), c.defocusedTargetIds = a
    }, h.revert = function(a) {
        var b, c = this.internal;
        a = c.mapToTargetIds(a), b = c.svg.selectAll(c.selectorTargets(a)), b.classed(l.focused, !1).classed(l.defocused, !1), c.hasArcType() && c.unexpandArc(a), c.config.legend_show && (c.showLegend(a.filter(c.isLegendToShow.bind(c))), c.legend.selectAll(c.selectorLegends(a)).filter(function() {
            return c.d3.select(this).classed(l.legendItemFocused)
        }).classed(l.legendItemFocused, !1)), c.focusedTargetIds = [], c.defocusedTargetIds = []
    }, h.show = function(a, b) {
        var c, d = this.internal;
        a = d.mapToTargetIds(a), b = b || {}, d.removeHiddenTargetIds(a), c = d.svg.selectAll(d.selectorTargets(a)), c.transition().style("opacity", 1, "important").call(d.endall, function() {
            c.style("opacity", null).style("opacity", 1)
        }), b.withLegend && d.showLegend(a), d.redraw({
            withUpdateOrgXDomain: !0,
            withUpdateXDomain: !0,
            withLegend: !0
        })
    }, h.hide = function(a, b) {
        var c, d = this.internal;
        a = d.mapToTargetIds(a), b = b || {}, d.addHiddenTargetIds(a), c = d.svg.selectAll(d.selectorTargets(a)), c.transition().style("opacity", 0, "important").call(d.endall, function() {
            c.style("opacity", null).style("opacity", 0)
        }), b.withLegend && d.hideLegend(a), d.redraw({
            withUpdateOrgXDomain: !0,
            withUpdateXDomain: !0,
            withLegend: !0
        })
    }, h.toggle = function(a, b) {
        var c = this,
            d = this.internal;
        d.mapToTargetIds(a).forEach(function(a) {
            d.isTargetToShow(a) ? c.hide(a, b) : c.show(a, b)
        })
    }, h.zoom = function(a) {
        var b = this.internal;
        return a && (b.isTimeSeries() && (a = a.map(function(a) {
            return b.parseDate(a)
        })), b.brush.extent(a), b.redraw({
            withUpdateXDomain: !0,
            withY: b.config.zoom_rescale
        }), b.config.zoom_onzoom.call(this, b.x.orgDomain())), b.brush.extent()
    }, h.zoom.enable = function(a) {
        var b = this.internal;
        b.config.zoom_enabled = a, b.updateAndRedraw()
    }, h.unzoom = function() {
        var a = this.internal;
        a.brush.clear().update(), a.redraw({
            withUpdateXDomain: !0
        })
    }, h.zoom.max = function(a) {
        var b = this.internal,
            c = b.config,
            d = b.d3;
        return 0 === a || a ? void(c.zoom_x_max = d.max([b.orgXDomain[1], a])) : c.zoom_x_max
    }, h.zoom.min = function(a) {
        var b = this.internal,
            c = b.config,
            d = b.d3;
        return 0 === a || a ? void(c.zoom_x_min = d.min([b.orgXDomain[0], a])) : c.zoom_x_min
    }, h.zoom.range = function(a) {
        return arguments.length ? (q(a.max) && this.domain.max(a.max), void(q(a.min) && this.domain.min(a.min))) : {
            max: this.domain.max(),
            min: this.domain.min()
        }
    }, h.load = function(a) {
        var b = this.internal,
            c = b.config;
        return a.xs && b.addXs(a.xs), "classes" in a && Object.keys(a.classes).forEach(function(b) {
            c.data_classes[b] = a.classes[b]
        }), "categories" in a && b.isCategorized() && (c.axis_x_categories = a.categories), "axes" in a && Object.keys(a.axes).forEach(function(b) {
            c.data_axes[b] = a.axes[b]
        }), "colors" in a && Object.keys(a.colors).forEach(function(b) {
            c.data_colors[b] = a.colors[b]
        }), "cacheIds" in a && b.hasCaches(a.cacheIds) ? void b.load(b.getCaches(a.cacheIds), a.done) : void("unload" in a ? b.unload(b.mapToTargetIds("boolean" == typeof a.unload && a.unload ? null : a.unload), function() {
            b.loadFromArgs(a)
        }) : b.loadFromArgs(a))
    }, h.unload = function(a) {
        var b = this.internal;
        a = a || {}, a instanceof Array ? a = {
            ids: a
        } : "string" == typeof a && (a = {
            ids: [a]
        }), b.unload(b.mapToTargetIds(a.ids), function() {
            b.redraw({
                withUpdateOrgXDomain: !0,
                withUpdateXDomain: !0,
                withLegend: !0
            }), a.done && a.done()
        })
    }, h.flow = function(a) {
        var b, c, d, e, f, g, h, i, j = this.internal,
            k = [],
            l = j.getMaxDataCount(),
            n = 0,
            o = 0;
        if (a.json) c = j.convertJsonToData(a.json, a.keys);
        else if (a.rows) c = j.convertRowsToData(a.rows);
        else {
            if (!a.columns) return;
            c = j.convertColumnsToData(a.columns)
        }
        b = j.convertDataToTargets(c, !0), j.data.targets.forEach(function(a) {
            var c, d, e = !1;
            for (c = 0; c < b.length; c++)
                if (a.id === b[c].id) {
                    for (e = !0, a.values[a.values.length - 1] && (o = a.values[a.values.length - 1].index + 1), n = b[c].values.length, d = 0; n > d; d++) b[c].values[d].index = o + d, j.isTimeSeries() || (b[c].values[d].x = o + d);
                    a.values = a.values.concat(b[c].values), b.splice(c, 1);
                    break
                }
            e || k.push(a.id)
        }), j.data.targets.forEach(function(a) {
            var b, c;
            for (b = 0; b < k.length; b++)
                if (a.id === k[b])
                    for (o = a.values[a.values.length - 1].index + 1, c = 0; n > c; c++) a.values.push({
                        id: a.id,
                        index: o + c,
                        x: j.isTimeSeries() ? j.getOtherTargetX(o + c) : o + c,
                        value: null
                    })
        }), j.data.targets.length && b.forEach(function(a) {
            var b, c = [];
            for (b = j.data.targets[0].values[0].index; o > b; b++) c.push({
                id: a.id,
                index: b,
                x: j.isTimeSeries() ? j.getOtherTargetX(b) : b,
                value: null
            });
            a.values.forEach(function(a) {
                a.index += o, j.isTimeSeries() || (a.x += o)
            }), a.values = c.concat(a.values)
        }), j.data.targets = j.data.targets.concat(b), d = j.getMaxDataCount(), f = j.data.targets[0], g = f.values[0], q(a.to) ? (n = 0, i = j.isTimeSeries() ? j.parseDate(a.to) : a.to, f.values.forEach(function(a) {
            a.x < i && n++
        })) : q(a.length) && (n = a.length), l ? 1 === l && j.isTimeSeries() && (h = (f.values[f.values.length - 1].x - g.x) / 2, e = [new Date(+g.x - h), new Date(+g.x + h)], j.updateXDomain(null, !0, !0, !1, e)) : (h = j.isTimeSeries() ? f.values.length > 1 ? f.values[f.values.length - 1].x - g.x : g.x - j.getXDomain(j.data.targets)[0] : 1, e = [g.x - h, g.x], j.updateXDomain(null, !0, !0, !1, e)), j.updateTargets(j.data.targets), j.redraw({
            flow: {
                index: g.index,
                length: n,
                duration: m(a.duration) ? a.duration : j.config.transition_duration,
                done: a.done,
                orgDataCount: l
            },
            withLegend: !0,
            withTransition: l > 1,
            withTrimXDomain: !1,
            withUpdateXAxis: !0
        })
    }, i.generateFlow = function(a) {
        var b = this,
            c = b.config,
            d = b.d3;
        return function() {
            var e, f, g, h = a.targets,
                i = a.flow,
                j = a.drawBar,
                k = a.drawLine,
                m = a.drawArea,
                n = a.cx,
                o = a.cy,
                p = a.xv,
                q = a.xForText,
                r = a.yForText,
                s = a.duration,
                u = 1,
                v = i.index,
                w = i.length,
                x = b.getValueOnIndex(b.data.targets[0].values, v),
                y = b.getValueOnIndex(b.data.targets[0].values, v + w),
                z = b.x.domain(),
                A = i.duration || s,
                B = i.done || function() {},
                C = b.generateWait(),
                D = b.xgrid || d.selectAll([]),
                E = b.xgridLines || d.selectAll([]),
                F = b.mainRegion || d.selectAll([]),
                G = b.mainText || d.selectAll([]),
                H = b.mainBar || d.selectAll([]),
                I = b.mainLine || d.selectAll([]),
                J = b.mainArea || d.selectAll([]),
                K = b.mainCircle || d.selectAll([]);
            b.flowing = !0, b.data.targets.forEach(function(a) {
                a.values.splice(0, w)
            }), g = b.updateXDomain(h, !0, !0), b.updateXGrid && b.updateXGrid(!0), i.orgDataCount ? e = 1 === i.orgDataCount || x.x === y.x ? b.x(z[0]) - b.x(g[0]) : b.isTimeSeries() ? b.x(z[0]) - b.x(g[0]) : b.x(x.x) - b.x(y.x) : 1 !== b.data.targets[0].values.length ? e = b.x(z[0]) - b.x(g[0]) : b.isTimeSeries() ? (x = b.getValueOnIndex(b.data.targets[0].values, 0), y = b.getValueOnIndex(b.data.targets[0].values, b.data.targets[0].values.length - 1), e = b.x(x.x) - b.x(y.x)) : e = t(g) / 2, u = t(z) / t(g), f = "translate(" + e + ",0) scale(" + u + ",1)", b.hideXGridFocus(), d.transition().ease("linear").duration(A).each(function() {
                C.add(b.axes.x.transition().call(b.xAxis)), C.add(H.transition().attr("transform", f)), C.add(I.transition().attr("transform", f)), C.add(J.transition().attr("transform", f)), C.add(K.transition().attr("transform", f)), C.add(G.transition().attr("transform", f)), C.add(F.filter(b.isRegionOnX).transition().attr("transform", f)), C.add(D.transition().attr("transform", f)), C.add(E.transition().attr("transform", f))
            }).call(C, function() {
                var a, d = [],
                    e = [],
                    f = [];
                if (w) {
                    for (a = 0; w > a; a++) d.push("." + l.shape + "-" + (v + a)), e.push("." + l.text + "-" + (v + a)), f.push("." + l.eventRect + "-" + (v + a));
                    b.svg.selectAll("." + l.shapes).selectAll(d).remove(), b.svg.selectAll("." + l.texts).selectAll(e).remove(), b.svg.selectAll("." + l.eventRects).selectAll(f).remove(), b.svg.select("." + l.xgrid).remove()
                }
                D.attr("transform", null).attr(b.xgridAttr), E.attr("transform", null), E.select("line").attr("x1", c.axis_rotated ? 0 : p).attr("x2", c.axis_rotated ? b.width : p), E.select("text").attr("x", c.axis_rotated ? b.width : 0).attr("y", p), H.attr("transform", null).attr("d", j), I.attr("transform", null).attr("d", k), J.attr("transform", null).attr("d", m), K.attr("transform", null).attr("cx", n).attr("cy", o), G.attr("transform", null).attr("x", q).attr("y", r).style("fill-opacity", b.opacityForText.bind(b)), F.attr("transform", null), F.select("rect").filter(b.isRegionOnX).attr("x", b.regionX.bind(b)).attr("width", b.regionWidth.bind(b)), c.interaction_enabled && b.redrawEventRect(), B(), b.flowing = !1
            })
        }
    }, h.selected = function(a) {
        var b = this.internal,
            c = b.d3;
        return c.merge(b.main.selectAll("." + l.shapes + b.getTargetSelectorSuffix(a)).selectAll("." + l.shape).filter(function() {
            return c.select(this).classed(l.SELECTED)
        }).map(function(a) {
            return a.map(function(a) {
                var b = a.__data__;
                return b.data ? b.data : b
            })
        }))
    }, h.select = function(a, b, c) {
        var d = this.internal,
            e = d.d3,
            f = d.config;
        f.data_selection_enabled && d.main.selectAll("." + l.shapes).selectAll("." + l.shape).each(function(g, h) {
            var i = e.select(this),
                j = g.data ? g.data.id : g.id,
                k = d.getToggle(this, g).bind(d),
                m = f.data_selection_grouped || !a || a.indexOf(j) >= 0,
                n = !b || b.indexOf(h) >= 0,
                o = i.classed(l.SELECTED);
            i.classed(l.line) || i.classed(l.area) || (m && n ? f.data_selection_isselectable(g) && !o && k(!0, i.classed(l.SELECTED, !0), g, h) : q(c) && c && o && k(!1, i.classed(l.SELECTED, !1), g, h))
        })
    }, h.unselect = function(a, b) {
        var c = this.internal,
            d = c.d3,
            e = c.config;
        e.data_selection_enabled && c.main.selectAll("." + l.shapes).selectAll("." + l.shape).each(function(f, g) {
            var h = d.select(this),
                i = f.data ? f.data.id : f.id,
                j = c.getToggle(this, f).bind(c),
                k = e.data_selection_grouped || !a || a.indexOf(i) >= 0,
                m = !b || b.indexOf(g) >= 0,
                n = h.classed(l.SELECTED);
            h.classed(l.line) || h.classed(l.area) || k && m && e.data_selection_isselectable(f) && n && j(!1, h.classed(l.SELECTED, !1), f, g)
        })
    }, h.transform = function(a, b) {
        var c = this.internal,
            d = ["pie", "donut"].indexOf(a) >= 0 ? {
                withTransform: !0
            } : null;
        c.transformTo(b, a, d)
    }, i.transformTo = function(a, b, c) {
        var d = this,
            e = !d.hasArcType(),
            f = c || {
                withTransitionForAxis: e
            };
        f.withTransitionForTransform = !1, d.transiting = !1, d.setTargetType(a, b), d.updateTargets(d.data.targets), d.updateAndRedraw(f)
    }, h.groups = function(a) {
        var b = this.internal,
            c = b.config;
        return p(a) ? c.data_groups : (c.data_groups = a, b.redraw(), c.data_groups)
    }, h.xgrids = function(a) {
        var b = this.internal,
            c = b.config;
        return a ? (c.grid_x_lines = a, b.redrawWithoutRescale(), c.grid_x_lines) : c.grid_x_lines
    }, h.xgrids.add = function(a) {
        var b = this.internal;
        return this.xgrids(b.config.grid_x_lines.concat(a ? a : []))
    }, h.xgrids.remove = function(a) {
        var b = this.internal;
        b.removeGridLines(a, !0)
    }, h.ygrids = function(a) {
        var b = this.internal,
            c = b.config;
        return a ? (c.grid_y_lines = a, b.redrawWithoutRescale(), c.grid_y_lines) : c.grid_y_lines
    }, h.ygrids.add = function(a) {
        var b = this.internal;
        return this.ygrids(b.config.grid_y_lines.concat(a ? a : []))
    }, h.ygrids.remove = function(a) {
        var b = this.internal;
        b.removeGridLines(a, !1)
    }, h.regions = function(a) {
        var b = this.internal,
            c = b.config;
        return a ? (c.regions = a, b.redrawWithoutRescale(), c.regions) : c.regions
    }, h.regions.add = function(a) {
        var b = this.internal,
            c = b.config;
        return a ? (c.regions = c.regions.concat(a), b.redrawWithoutRescale(), c.regions) : c.regions
    }, h.regions.remove = function(a) {
        var b, c, d, e = this.internal,
            f = e.config;
        return a = a || {}, b = e.getOption(a, "duration", f.transition_duration), c = e.getOption(a, "classes", [l.region]), d = e.main.select("." + l.regions).selectAll(c.map(function(a) {
            return "." + a
        })), (b ? d.transition().duration(b) : d).style("opacity", 0).remove(), f.regions = f.regions.filter(function(a) {
            var b = !1;
            return a["class"] ? (a["class"].split(" ").forEach(function(a) {
                c.indexOf(a) >= 0 && (b = !0)
            }), !b) : !0
        }), f.regions
    }, h.data = function(a) {
        var b = this.internal.data.targets;
        return "undefined" == typeof a ? b : b.filter(function(b) {
            return [].concat(a).indexOf(b.id) >= 0
        })
    }, h.data.shown = function(a) {
        return this.internal.filterTargetsToShow(this.data(a))
    }, h.data.values = function(a) {
        var b, c = null;
        return a && (b = this.data(a), c = b[0] ? b[0].values.map(function(a) {
            return a.value
        }) : null), c
    }, h.data.names = function(a) {
        return this.internal.clearLegendItemTextBoxCache(), this.internal.updateDataAttributes("names", a)
    }, h.data.colors = function(a) {
        return this.internal.updateDataAttributes("colors", a)
    }, h.data.axes = function(a) {
        return this.internal.updateDataAttributes("axes", a)
    }, h.category = function(a, b) {
        var c = this.internal,
            d = c.config;
        return arguments.length > 1 && (d.axis_x_categories[a] = b, c.redraw()), d.axis_x_categories[a]
    }, h.categories = function(a) {
        var b = this.internal,
            c = b.config;
        return arguments.length ? (c.axis_x_categories = a, b.redraw(), c.axis_x_categories) : c.axis_x_categories
    }, h.color = function(a) {
        var b = this.internal;
        return b.color(a)
    }, h.x = function(a) {
        var b = this.internal;
        return arguments.length && (b.updateTargetX(b.data.targets, a), b.redraw({
            withUpdateOrgXDomain: !0,
            withUpdateXDomain: !0
        })), b.data.xs
    }, h.xs = function(a) {
        var b = this.internal;
        return arguments.length && (b.updateTargetXs(b.data.targets, a), b.redraw({
            withUpdateOrgXDomain: !0,
            withUpdateXDomain: !0
        })), b.data.xs
    }, h.axis = function() {}, h.axis.labels = function(a) {
        var b = this.internal;
        arguments.length && (Object.keys(a).forEach(function(c) {
            b.axis.setLabelText(c, a[c])
        }), b.axis.updateLabels())
    }, h.axis.max = function(a) {
        var b = this.internal,
            c = b.config;
        return arguments.length ? ("object" == typeof a ? (m(a.x) && (c.axis_x_max = a.x), m(a.y) && (c.axis_y_max = a.y), m(a.y2) && (c.axis_y2_max = a.y2)) : c.axis_y_max = c.axis_y2_max = a, void b.redraw({
            withUpdateOrgXDomain: !0,
            withUpdateXDomain: !0
        })) : {
            x: c.axis_x_max,
            y: c.axis_y_max,
            y2: c.axis_y2_max
        }
    }, h.axis.min = function(a) {
        var b = this.internal,
            c = b.config;
        return arguments.length ? ("object" == typeof a ? (m(a.x) && (c.axis_x_min = a.x), m(a.y) && (c.axis_y_min = a.y), m(a.y2) && (c.axis_y2_min = a.y2)) : c.axis_y_min = c.axis_y2_min = a, void b.redraw({
            withUpdateOrgXDomain: !0,
            withUpdateXDomain: !0
        })) : {
            x: c.axis_x_min,
            y: c.axis_y_min,
            y2: c.axis_y2_min
        }
    }, h.axis.range = function(a) {
        return arguments.length ? (q(a.max) && this.axis.max(a.max), void(q(a.min) && this.axis.min(a.min))) : {
            max: this.axis.max(),
            min: this.axis.min()
        }
    }, h.legend = function() {}, h.legend.show = function(a) {
        var b = this.internal;
        b.showLegend(b.mapToTargetIds(a)), b.updateAndRedraw({
            withLegend: !0
        })
    }, h.legend.hide = function(a) {
        var b = this.internal;
        b.hideLegend(b.mapToTargetIds(a)), b.updateAndRedraw({
            withLegend: !0
        })
    }, h.resize = function(a) {
        var b = this.internal,
            c = b.config;
        c.size_width = a ? a.width : null, c.size_height = a ? a.height : null, this.flush()
    }, h.flush = function() {
        var a = this.internal;
        a.updateAndRedraw({
            withLegend: !0,
            withTransition: !1,
            withTransitionForTransform: !1
        })
    }, h.destroy = function() {
        var b = this.internal;
        if (a.clearInterval(b.intervalForObserveInserted), void 0 !== b.resizeTimeout && a.clearTimeout(b.resizeTimeout), a.detachEvent) a.detachEvent("onresize", b.resizeFunction);
        else if (a.removeEventListener) a.removeEventListener("resize", b.resizeFunction);
        else {
            var c = a.onresize;
            c && c.add && c.remove && c.remove(b.resizeFunction)
        }
        return b.selectChart.classed("c3", !1).html(""), Object.keys(b).forEach(function(a) {
            b[a] = null
        }), null
    }, h.tooltip = function() {}, h.tooltip.show = function(a) {
        var b, c, d = this.internal;
        a.mouse && (c = a.mouse), a.data ? d.isMultipleX() ? (c = [d.x(a.data.x), d.getYScale(a.data.id)(a.data.value)], b = null) : b = m(a.data.index) ? a.data.index : d.getIndexByX(a.data.x) : "undefined" != typeof a.x ? b = d.getIndexByX(a.x) : "undefined" != typeof a.index && (b = a.index), d.dispatchEvent("mouseover", b, c), d.dispatchEvent("mousemove", b, c), d.config.tooltip_onshow.call(d, a.data)
    }, h.tooltip.hide = function() {
        this.internal.dispatchEvent("mouseout", 0), this.internal.config.tooltip_onhide.call(this)
    };
    var z;
    i.isSafari = function() {
        var b = a.navigator.userAgent;
        return b.indexOf("Safari") >= 0 && b.indexOf("Chrome") < 0
    }, i.isChrome = function() {
        var b = a.navigator.userAgent;
        return b.indexOf("Chrome") >= 0
    }, Function.prototype.bind || (Function.prototype.bind = function(a) {
        if ("function" != typeof this) throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");
        var b = Array.prototype.slice.call(arguments, 1),
            c = this,
            d = function() {},
            e = function() {
                return c.apply(this instanceof d ? this : a, b.concat(Array.prototype.slice.call(arguments)))
            };
        return d.prototype = this.prototype, e.prototype = new d, e
    }), "function" == typeof define && define.amd ? define("c3", ["d3"], function() {
        return k
    }) : "undefined" != typeof exports && "undefined" != typeof module ? module.exports = k : a.c3 = k
}(window);
(function(root, factory) {
    if (typeof define === "function" && define.amd) {
        define(["d3"], function(d3) {
            return root.Rickshaw = factory(d3)
        })
    } else if (typeof exports === "object") {
        module.exports = factory(require("d3"))
    } else {
        root.Rickshaw = factory(d3)
    }
})(this, function(d3) {
    var Rickshaw = {
        version: "1.6.1",
        namespace: function(namespace, obj) {
            var parts = namespace.split(".");
            var parent = Rickshaw;
            for (var i = 1, length = parts.length; i < length; i++) {
                var currentPart = parts[i];
                parent[currentPart] = parent[currentPart] || {};
                parent = parent[currentPart]
            }
            return parent
        },
        keys: function(obj) {
            var keys = [];
            for (var key in obj) keys.push(key);
            return keys
        },
        extend: function(destination, source) {
            for (var property in source) {
                destination[property] = source[property]
            }
            return destination
        },
        clone: function(obj) {
            return JSON.parse(JSON.stringify(obj))
        }
    };
    (function(globalContext) {
        var _toString = Object.prototype.toString,
            NULL_TYPE = "Null",
            UNDEFINED_TYPE = "Undefined",
            BOOLEAN_TYPE = "Boolean",
            NUMBER_TYPE = "Number",
            STRING_TYPE = "String",
            OBJECT_TYPE = "Object",
            FUNCTION_CLASS = "[object Function]";

        function isFunction(object) {
            return _toString.call(object) === FUNCTION_CLASS
        }

        function extend(destination, source) {
            for (var property in source)
                if (source.hasOwnProperty(property)) destination[property] = source[property];
            return destination
        }

        function keys(object) {
            if (Type(object) !== OBJECT_TYPE) {
                throw new TypeError
            }
            var results = [];
            for (var property in object) {
                if (object.hasOwnProperty(property)) {
                    results.push(property)
                }
            }
            return results
        }

        function Type(o) {
            switch (o) {
                case null:
                    return NULL_TYPE;
                case void 0:
                    return UNDEFINED_TYPE
            }
            var type = typeof o;
            switch (type) {
                case "boolean":
                    return BOOLEAN_TYPE;
                case "number":
                    return NUMBER_TYPE;
                case "string":
                    return STRING_TYPE
            }
            return OBJECT_TYPE
        }

        function isUndefined(object) {
            return typeof object === "undefined"
        }
        var slice = Array.prototype.slice;

        function argumentNames(fn) {
            var names = fn.toString().match(/^[\s\(]*function[^(]*\(([^)]*)\)/)[1].replace(/\/\/.*?[\r\n]|\/\*(?:.|[\r\n])*?\*\//g, "").replace(/\s+/g, "").split(",");
            return names.length == 1 && !names[0] ? [] : names
        }

        function wrap(fn, wrapper) {
            var __method = fn;
            return function() {
                var a = update([bind(__method, this)], arguments);
                return wrapper.apply(this, a)
            }
        }

        function update(array, args) {
            var arrayLength = array.length,
                length = args.length;
            while (length--) array[arrayLength + length] = args[length];
            return array
        }

        function merge(array, args) {
            array = slice.call(array, 0);
            return update(array, args)
        }

        function bind(fn, context) {
            if (arguments.length < 2 && isUndefined(arguments[0])) return this;
            var __method = fn,
                args = slice.call(arguments, 2);
            return function() {
                var a = merge(args, arguments);
                return __method.apply(context, a)
            }
        }
        var emptyFunction = function() {};
        var Class = function() {
            var IS_DONTENUM_BUGGY = function() {
                for (var p in {
                        toString: 1
                    }) {
                    if (p === "toString") return false
                }
                return true
            }();

            function subclass() {}

            function create() {
                var parent = null,
                    properties = [].slice.apply(arguments);
                if (isFunction(properties[0])) parent = properties.shift();

                function klass() {
                    this.initialize.apply(this, arguments)
                }
                extend(klass, Class.Methods);
                klass.superclass = parent;
                klass.subclasses = [];
                if (parent) {
                    subclass.prototype = parent.prototype;
                    klass.prototype = new subclass;
                    try {
                        parent.subclasses.push(klass)
                    } catch (e) {}
                }
                for (var i = 0, length = properties.length; i < length; i++) klass.addMethods(properties[i]);
                if (!klass.prototype.initialize) klass.prototype.initialize = emptyFunction;
                klass.prototype.constructor = klass;
                return klass
            }

            function addMethods(source) {
                var ancestor = this.superclass && this.superclass.prototype,
                    properties = keys(source);
                if (IS_DONTENUM_BUGGY) {
                    if (source.toString != Object.prototype.toString) properties.push("toString");
                    if (source.valueOf != Object.prototype.valueOf) properties.push("valueOf")
                }
                for (var i = 0, length = properties.length; i < length; i++) {
                    var property = properties[i],
                        value = source[property];
                    if (ancestor && isFunction(value) && argumentNames(value)[0] == "$super") {
                        var method = value;
                        value = wrap(function(m) {
                            return function() {
                                return ancestor[m].apply(this, arguments)
                            }
                        }(property), method);
                        value.valueOf = bind(method.valueOf, method);
                        value.toString = bind(method.toString, method)
                    }
                    this.prototype[property] = value
                }
                return this
            }
            return {
                create: create,
                Methods: {
                    addMethods: addMethods
                }
            }
        }();
        if (globalContext.exports) {
            globalContext.exports.Class = Class
        } else {
            globalContext.Class = Class
        }
    })(Rickshaw);
    Rickshaw.namespace("Rickshaw.Compat.ClassList");
    Rickshaw.Compat.ClassList = function() {
        if (typeof document !== "undefined" && !("classList" in document.createElement("a"))) {
            (function(view) {
                "use strict";
                var classListProp = "classList",
                    protoProp = "prototype",
                    elemCtrProto = (view.HTMLElement || view.Element)[protoProp],
                    objCtr = Object,
                    strTrim = String[protoProp].trim || function() {
                        return this.replace(/^\s+|\s+$/g, "")
                    },
                    arrIndexOf = Array[protoProp].indexOf || function(item) {
                        var i = 0,
                            len = this.length;
                        for (; i < len; i++) {
                            if (i in this && this[i] === item) {
                                return i
                            }
                        }
                        return -1
                    },
                    DOMEx = function(type, message) {
                        this.name = type;
                        this.code = DOMException[type];
                        this.message = message
                    },
                    checkTokenAndGetIndex = function(classList, token) {
                        if (token === "") {
                            throw new DOMEx("SYNTAX_ERR", "An invalid or illegal string was specified")
                        }
                        if (/\s/.test(token)) {
                            throw new DOMEx("INVALID_CHARACTER_ERR", "String contains an invalid character")
                        }
                        return arrIndexOf.call(classList, token)
                    },
                    ClassList = function(elem) {
                        var trimmedClasses = strTrim.call(elem.className),
                            classes = trimmedClasses ? trimmedClasses.split(/\s+/) : [],
                            i = 0,
                            len = classes.length;
                        for (; i < len; i++) {
                            this.push(classes[i])
                        }
                        this._updateClassName = function() {
                            elem.className = this.toString()
                        }
                    },
                    classListProto = ClassList[protoProp] = [],
                    classListGetter = function() {
                        return new ClassList(this)
                    };
                DOMEx[protoProp] = Error[protoProp];
                classListProto.item = function(i) {
                    return this[i] || null
                };
                classListProto.contains = function(token) {
                    token += "";
                    return checkTokenAndGetIndex(this, token) !== -1
                };
                classListProto.add = function(token) {
                    token += "";
                    if (checkTokenAndGetIndex(this, token) === -1) {
                        this.push(token);
                        this._updateClassName()
                    }
                };
                classListProto.remove = function(token) {
                    token += "";
                    var index = checkTokenAndGetIndex(this, token);
                    if (index !== -1) {
                        this.splice(index, 1);
                        this._updateClassName()
                    }
                };
                classListProto.toggle = function(token) {
                    token += "";
                    if (checkTokenAndGetIndex(this, token) === -1) {
                        this.add(token)
                    } else {
                        this.remove(token)
                    }
                };
                classListProto.toString = function() {
                    return this.join(" ")
                };
                if (objCtr.defineProperty) {
                    var classListPropDesc = {
                        get: classListGetter,
                        enumerable: true,
                        configurable: true
                    };
                    try {
                        objCtr.defineProperty(elemCtrProto, classListProp, classListPropDesc)
                    } catch (ex) {
                        if (ex.number === -2146823252) {
                            classListPropDesc.enumerable = false;
                            objCtr.defineProperty(elemCtrProto, classListProp, classListPropDesc)
                        }
                    }
                } else if (objCtr[protoProp].__defineGetter__) {
                    elemCtrProto.__defineGetter__(classListProp, classListGetter)
                }
            })(window)
        }
    };
    if (typeof RICKSHAW_NO_COMPAT !== "undefined" && !RICKSHAW_NO_COMPAT || typeof RICKSHAW_NO_COMPAT === "undefined") {
        new Rickshaw.Compat.ClassList
    }
    Rickshaw.namespace("Rickshaw.Graph");
    Rickshaw.Graph = function(args) {
        var self = this;
        this.initialize = function(args) {
            if (!args.element) throw "Rickshaw.Graph needs a reference to an element";
            if (args.element.nodeType !== 1) throw "Rickshaw.Graph element was defined but not an HTML element";
            this.element = args.element;
            this.series = args.series;
            this.window = {};
            this.updateCallbacks = [];
            this.configureCallbacks = [];
            this.defaults = {
                interpolation: "cardinal",
                offset: "zero",
                min: undefined,
                max: undefined,
                preserve: false,
                xScale: undefined,
                yScale: undefined,
                stack: true
            };
            this._loadRenderers();
            this.configure(args);
            this.validateSeries(args.series);
            this.series.active = function() {
                return self.series.filter(function(s) {
                    return !s.disabled
                })
            };
            this.setSize({
                width: args.width,
                height: args.height
            });
            this.element.classList.add("rickshaw_graph");
            this.vis = d3.select(this.element).append("svg:svg").attr("width", this.width).attr("height", this.height);
            this.discoverRange()
        };
        this._loadRenderers = function() {
            for (var name in Rickshaw.Graph.Renderer) {
                if (!name || !Rickshaw.Graph.Renderer.hasOwnProperty(name)) continue;
                var r = Rickshaw.Graph.Renderer[name];
                if (!r || !r.prototype || !r.prototype.render) continue;
                self.registerRenderer(new r({
                    graph: self
                }))
            }
        };
        this.validateSeries = function(series) {
            if (!Array.isArray(series) && !(series instanceof Rickshaw.Series)) {
                var seriesSignature = Object.prototype.toString.apply(series);
                throw "series is not an array: " + seriesSignature
            }
            var pointsCount;
            series.forEach(function(s) {
                if (!(s instanceof Object)) {
                    throw "series element is not an object: " + s
                }
                if (!s.data) {
                    throw "series has no data: " + JSON.stringify(s)
                }
                if (!Array.isArray(s.data)) {
                    throw "series data is not an array: " + JSON.stringify(s.data)
                }
                if (s.data.length > 0) {
                    var x = s.data[0].x;
                    var y = s.data[0].y;
                    if (typeof x != "number" || typeof y != "number" && y !== null) {
                        throw "x and y properties of points should be numbers instead of " + typeof x + " and " + typeof y
                    }
                }
                if (s.data.length >= 3) {
                    if (s.data[2].x < s.data[1].x || s.data[1].x < s.data[0].x || s.data[s.data.length - 1].x < s.data[0].x) {
                        throw "series data needs to be sorted on x values for series name: " + s.name
                    }
                }
            }, this)
        };
        this.dataDomain = function() {
            var data = this.series.map(function(s) {
                return s.data
            });
            var min = d3.min(data.map(function(d) {
                return d[0].x
            }));
            var max = d3.max(data.map(function(d) {
                return d[d.length - 1].x
            }));
            return [min, max]
        };
        this.discoverRange = function() {
            var domain = this.renderer.domain();
            this.x = (this.xScale || d3.scale.linear()).copy().domain(domain.x).range([0, this.width]);
            this.y = (this.yScale || d3.scale.linear()).copy().domain(domain.y).range([this.height, 0]);
            this.x.magnitude = d3.scale.linear().domain([domain.x[0] - domain.x[0], domain.x[1] - domain.x[0]]).range([0, this.width]);
            this.y.magnitude = d3.scale.linear().domain([domain.y[0] - domain.y[0], domain.y[1] - domain.y[0]]).range([0, this.height])
        };
        this.render = function() {
            var stackedData = this.stackData();
            this.discoverRange();
            this.renderer.render();
            this.updateCallbacks.forEach(function(callback) {
                callback()
            })
        };
        this.update = this.render;
        this.stackData = function() {
            var data = this.series.active().map(function(d) {
                return d.data
            }).map(function(d) {
                return d.filter(function(d) {
                    return this._slice(d)
                }, this)
            }, this);
            var preserve = this.preserve;
            if (!preserve) {
                this.series.forEach(function(series) {
                    if (series.scale) {
                        preserve = true
                    }
                })
            }
            data = preserve ? Rickshaw.clone(data) : data;
            this.series.active().forEach(function(series, index) {
                if (series.scale) {
                    var seriesData = data[index];
                    if (seriesData) {
                        seriesData.forEach(function(d) {
                            d.y = series.scale(d.y)
                        })
                    }
                }
            });
            this.stackData.hooks.data.forEach(function(entry) {
                data = entry.f.apply(self, [data])
            });
            var stackedData;
            if (!this.renderer.unstack) {
                this._validateStackable();
                var layout = d3.layout.stack();
                layout.offset(self.offset);
                stackedData = layout(data)
            }
            stackedData = stackedData || data;
            if (this.renderer.unstack) {
                stackedData.forEach(function(seriesData) {
                    seriesData.forEach(function(d) {
                        d.y0 = d.y0 === undefined ? 0 : d.y0
                    })
                })
            }
            this.stackData.hooks.after.forEach(function(entry) {
                stackedData = entry.f.apply(self, [data])
            });
            var i = 0;
            this.series.forEach(function(series) {
                if (series.disabled) return;
                series.stack = stackedData[i++]
            });
            this.stackedData = stackedData;
            return stackedData
        };
        this._validateStackable = function() {
            var series = this.series;
            var pointsCount;
            series.forEach(function(s) {
                pointsCount = pointsCount || s.data.length;
                if (pointsCount && s.data.length != pointsCount) {
                    throw "stacked series cannot have differing numbers of points: " + pointsCount + " vs " + s.data.length + "; see Rickshaw.Series.fill()"
                }
            }, this)
        };
        this.stackData.hooks = {
            data: [],
            after: []
        };
        this._slice = function(d) {
            if (this.window.xMin || this.window.xMax) {
                var isInRange = true;
                if (this.window.xMin && d.x < this.window.xMin) isInRange = false;
                if (this.window.xMax && d.x > this.window.xMax) isInRange = false;
                return isInRange
            }
            return true
        };
        this.onUpdate = function(callback) {
            this.updateCallbacks.push(callback)
        };
        this.onConfigure = function(callback) {
            this.configureCallbacks.push(callback)
        };
        this.registerRenderer = function(renderer) {
            this._renderers = this._renderers || {};
            this._renderers[renderer.name] = renderer
        };
        this.configure = function(args) {
            this.config = this.config || {};
            if (args.width || args.height) {
                this.setSize(args)
            }
            Rickshaw.keys(this.defaults).forEach(function(k) {
                this.config[k] = k in args ? args[k] : k in this ? this[k] : this.defaults[k]
            }, this);
            Rickshaw.keys(this.config).forEach(function(k) {
                this[k] = this.config[k]
            }, this);
            if ("stack" in args) args.unstack = !args.stack;
            var renderer = args.renderer || this.renderer && this.renderer.name || "stack";
            this.setRenderer(renderer, args);
            this.configureCallbacks.forEach(function(callback) {
                callback(args)
            })
        };
        this.setRenderer = function(r, args) {
            if (typeof r == "function") {
                this.renderer = new r({
                    graph: self
                });
                this.registerRenderer(this.renderer)
            } else {
                if (!this._renderers[r]) {
                    throw "couldn't find renderer " + r
                }
                this.renderer = this._renderers[r]
            }
            if (typeof args == "object") {
                this.renderer.configure(args)
            }
        };
        this.setSize = function(args) {
            args = args || {};
            if (typeof window !== "undefined") {
                var style = window.getComputedStyle(this.element, null);
                var elementWidth = parseInt(style.getPropertyValue("width"), 10);
                var elementHeight = parseInt(style.getPropertyValue("height"), 10)
            }
            this.width = args.width || elementWidth || 400;
            this.height = args.height || elementHeight || 250;
            this.vis && this.vis.attr("width", this.width).attr("height", this.height)
        };
        this.initialize(args)
    };
    Rickshaw.namespace("Rickshaw.Fixtures.Color");
    Rickshaw.Fixtures.Color = function() {
        this.schemes = {};
        this.schemes.spectrum14 = ["#ecb796", "#dc8f70", "#b2a470", "#92875a", "#716c49", "#d2ed82", "#bbe468", "#a1d05d", "#e7cbe6", "#d8aad6", "#a888c2", "#9dc2d3", "#649eb9", "#387aa3"].reverse();
        this.schemes.spectrum2000 = ["#57306f", "#514c76", "#646583", "#738394", "#6b9c7d", "#84b665", "#a7ca50", "#bfe746", "#e2f528", "#fff726", "#ecdd00", "#d4b11d", "#de8800", "#de4800", "#c91515", "#9a0000", "#7b0429", "#580839", "#31082b"];
        this.schemes.spectrum2001 = ["#2f243f", "#3c2c55", "#4a3768", "#565270", "#6b6b7c", "#72957f", "#86ad6e", "#a1bc5e", "#b8d954", "#d3e04e", "#ccad2a", "#cc8412", "#c1521d", "#ad3821", "#8a1010", "#681717", "#531e1e", "#3d1818", "#320a1b"];
        this.schemes.classic9 = ["#423d4f", "#4a6860", "#848f39", "#a2b73c", "#ddcb53", "#c5a32f", "#7d5836", "#963b20", "#7c2626", "#491d37", "#2f254a"].reverse();
        this.schemes.httpStatus = {
            503: "#ea5029",
            502: "#d23f14",
            500: "#bf3613",
            410: "#efacea",
            409: "#e291dc",
            403: "#f457e8",
            408: "#e121d2",
            401: "#b92dae",
            405: "#f47ceb",
            404: "#a82a9f",
            400: "#b263c6",
            301: "#6fa024",
            302: "#87c32b",
            307: "#a0d84c",
            304: "#28b55c",
            200: "#1a4f74",
            206: "#27839f",
            201: "#52adc9",
            202: "#7c979f",
            203: "#a5b8bd",
            204: "#c1cdd1"
        };
        this.schemes.colorwheel = ["#b5b6a9", "#858772", "#785f43", "#96557e", "#4682b4", "#65b9ac", "#73c03a", "#cb513a"].reverse();
        this.schemes.cool = ["#5e9d2f", "#73c03a", "#4682b4", "#7bc3b8", "#a9884e", "#c1b266", "#a47493", "#c09fb5"];
        this.schemes.munin = ["#00cc00", "#0066b3", "#ff8000", "#ffcc00", "#330099", "#990099", "#ccff00", "#ff0000", "#808080", "#008f00", "#00487d", "#b35a00", "#b38f00", "#6b006b", "#8fb300", "#b30000", "#bebebe", "#80ff80", "#80c9ff", "#ffc080", "#ffe680", "#aa80ff", "#ee00cc", "#ff8080", "#666600", "#ffbfff", "#00ffcc", "#cc6699", "#999900"]
    };
    Rickshaw.namespace("Rickshaw.Fixtures.RandomData");
    Rickshaw.Fixtures.RandomData = function(timeInterval) {
        var addData;
        timeInterval = timeInterval || 1;
        var lastRandomValue = 200;
        var timeBase = Math.floor((new Date).getTime() / 1e3);
        this.addData = function(data) {
            var randomValue = Math.random() * 100 + 15 + lastRandomValue;
            var index = data[0].length;
            var counter = 1;
            data.forEach(function(series) {
                var randomVariance = Math.random() * 20;
                var v = randomValue / 25 + counter++ + (Math.cos(index * counter * 11 / 960) + 2) * 15 + (Math.cos(index / 7) + 2) * 7 + (Math.cos(index / 17) + 2) * 1;
                series.push({
                    x: index * timeInterval + timeBase,
                    y: v + randomVariance
                })
            });
            lastRandomValue = randomValue * .85
        };
        this.removeData = function(data) {
            data.forEach(function(series) {
                series.shift()
            });
            timeBase += timeInterval
        }
    };
    Rickshaw.namespace("Rickshaw.Fixtures.Time");
    Rickshaw.Fixtures.Time = function() {
        var self = this;
        this.months = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
        this.units = [{
            name: "decade",
            seconds: 86400 * 365.25 * 10,
            formatter: function(d) {
                return parseInt(d.getUTCFullYear() / 10, 10) * 10
            }
        }, {
            name: "year",
            seconds: 86400 * 365.25,
            formatter: function(d) {
                return d.getUTCFullYear()
            }
        }, {
            name: "month",
            seconds: 86400 * 30.5,
            formatter: function(d) {
                return self.months[d.getUTCMonth()]
            }
        }, {
            name: "week",
            seconds: 86400 * 7,
            formatter: function(d) {
                return self.formatDate(d)
            }
        }, {
            name: "day",
            seconds: 86400,
            formatter: function(d) {
                return d.getUTCDate()
            }
        }, {
            name: "6 hour",
            seconds: 3600 * 6,
            formatter: function(d) {
                return self.formatTime(d)
            }
        }, {
            name: "hour",
            seconds: 3600,
            formatter: function(d) {
                return self.formatTime(d)
            }
        }, {
            name: "15 minute",
            seconds: 60 * 15,
            formatter: function(d) {
                return self.formatTime(d)
            }
        }, {
            name: "minute",
            seconds: 60,
            formatter: function(d) {
                return d.getUTCMinutes()
            }
        }, {
            name: "15 second",
            seconds: 15,
            formatter: function(d) {
                return d.getUTCSeconds() + "s"
            }
        }, {
            name: "second",
            seconds: 1,
            formatter: function(d) {
                return d.getUTCSeconds() + "s"
            }
        }, {
            name: "decisecond",
            seconds: 1 / 10,
            formatter: function(d) {
                return d.getUTCMilliseconds() + "ms"
            }
        }, {
            name: "centisecond",
            seconds: 1 / 100,
            formatter: function(d) {
                return d.getUTCMilliseconds() + "ms"
            }
        }];
        this.unit = function(unitName) {
            return this.units.filter(function(unit) {
                return unitName == unit.name
            }).shift()
        };
        this.formatDate = function(d) {
            return d3.time.format("%b %e")(d)
        };
        this.formatTime = function(d) {
            return d.toUTCString().match(/(\d+:\d+):/)[1]
        };
        this.ceil = function(time, unit) {
            var date, floor, year;
            if (unit.name == "month") {
                date = new Date(time * 1e3);
                floor = Date.UTC(date.getUTCFullYear(), date.getUTCMonth()) / 1e3;
                if (floor == time) return time;
                year = date.getUTCFullYear();
                var month = date.getUTCMonth();
                if (month == 11) {
                    month = 0;
                    year = year + 1
                } else {
                    month += 1
                }
                return Date.UTC(year, month) / 1e3
            }
            if (unit.name == "year") {
                date = new Date(time * 1e3);
                floor = Date.UTC(date.getUTCFullYear(), 0) / 1e3;
                if (floor == time) return time;
                year = date.getUTCFullYear() + 1;
                return Date.UTC(year, 0) / 1e3
            }
            return Math.ceil(time / unit.seconds) * unit.seconds
        }
    };
    Rickshaw.namespace("Rickshaw.Fixtures.Time.Local");
    Rickshaw.Fixtures.Time.Local = function() {
        var self = this;
        this.months = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
        this.units = [{
            name: "decade",
            seconds: 86400 * 365.25 * 10,
            formatter: function(d) {
                return parseInt(d.getFullYear() / 10, 10) * 10
            }
        }, {
            name: "year",
            seconds: 86400 * 365.25,
            formatter: function(d) {
                return d.getFullYear()
            }
        }, {
            name: "month",
            seconds: 86400 * 30.5,
            formatter: function(d) {
                return self.months[d.getMonth()]
            }
        }, {
            name: "week",
            seconds: 86400 * 7,
            formatter: function(d) {
                return self.formatDate(d)
            }
        }, {
            name: "day",
            seconds: 86400,
            formatter: function(d) {
                return d.getDate()
            }
        }, {
            name: "6 hour",
            seconds: 3600 * 6,
            formatter: function(d) {
                return self.formatTime(d)
            }
        }, {
            name: "hour",
            seconds: 3600,
            formatter: function(d) {
                return self.formatTime(d)
            }
        }, {
            name: "15 minute",
            seconds: 60 * 15,
            formatter: function(d) {
                return self.formatTime(d)
            }
        }, {
            name: "minute",
            seconds: 60,
            formatter: function(d) {
                return d.getMinutes()
            }
        }, {
            name: "15 second",
            seconds: 15,
            formatter: function(d) {
                return d.getSeconds() + "s"
            }
        }, {
            name: "second",
            seconds: 1,
            formatter: function(d) {
                return d.getSeconds() + "s"
            }
        }, {
            name: "decisecond",
            seconds: 1 / 10,
            formatter: function(d) {
                return d.getMilliseconds() + "ms"
            }
        }, {
            name: "centisecond",
            seconds: 1 / 100,
            formatter: function(d) {
                return d.getMilliseconds() + "ms"
            }
        }];
        this.unit = function(unitName) {
            return this.units.filter(function(unit) {
                return unitName == unit.name
            }).shift()
        };
        this.formatDate = function(d) {
            return d3.time.format("%b %e")(d)
        };
        this.formatTime = function(d) {
            return d.toString().match(/(\d+:\d+):/)[1]
        };
        this.ceil = function(time, unit) {
            var date, floor, year, offset;
            if (unit.name == "day") {
                var nearFuture = new Date((time + unit.seconds - 1) * 1e3);
                var rounded = new Date(0);
                rounded.setFullYear(nearFuture.getFullYear());
                rounded.setMonth(nearFuture.getMonth());
                rounded.setDate(nearFuture.getDate());
                rounded.setMilliseconds(0);
                rounded.setSeconds(0);
                rounded.setMinutes(0);
                rounded.setHours(0);
                return rounded.getTime() / 1e3
            }
            if (unit.name == "month") {
                date = new Date(time * 1e3);
                floor = new Date(date.getFullYear(), date.getMonth()).getTime() / 1e3;
                if (floor == time) return time;
                year = date.getFullYear();
                var month = date.getMonth();
                if (month == 11) {
                    month = 0;
                    year = year + 1
                } else {
                    month += 1
                }
                return new Date(year, month).getTime() / 1e3
            }
            if (unit.name == "year") {
                date = new Date(time * 1e3);
                floor = new Date(date.getUTCFullYear(), 0).getTime() / 1e3;
                if (floor == time) return time;
                year = date.getFullYear() + 1;
                return new Date(year, 0).getTime() / 1e3
            }
            offset = new Date(time * 1e3).getTimezoneOffset() * 60;
            return Math.ceil((time - offset) / unit.seconds) * unit.seconds + offset
        }
    };
    Rickshaw.namespace("Rickshaw.Fixtures.Number");
    Rickshaw.Fixtures.Number.formatKMBT = function(y) {
        var abs_y = Math.abs(y);
        if (abs_y >= 1e12) {
            return y / 1e12 + "T"
        } else if (abs_y >= 1e9) {
            return y / 1e9 + "B"
        } else if (abs_y >= 1e6) {
            return y / 1e6 + "M"
        } else if (abs_y >= 1e3) {
            return y / 1e3 + "K"
        } else if (abs_y < 1 && abs_y > 0) {
            return y.toFixed(2)
        } else if (abs_y === 0) {
            return ""
        } else {
            return y
        }
    };
    Rickshaw.Fixtures.Number.formatBase1024KMGTP = function(y) {
        var abs_y = Math.abs(y);
        if (abs_y >= 0x4000000000000) {
            return y / 0x4000000000000 + "P"
        } else if (abs_y >= 1099511627776) {
            return y / 1099511627776 + "T"
        } else if (abs_y >= 1073741824) {
            return y / 1073741824 + "G"
        } else if (abs_y >= 1048576) {
            return y / 1048576 + "M"
        } else if (abs_y >= 1024) {
            return y / 1024 + "K"
        } else if (abs_y < 1 && abs_y > 0) {
            return y.toFixed(2)
        } else if (abs_y === 0) {
            return ""
        } else {
            return y
        }
    };
    Rickshaw.namespace("Rickshaw.Color.Palette");
    Rickshaw.Color.Palette = function(args) {
        var color = new Rickshaw.Fixtures.Color;
        args = args || {};
        this.schemes = {};
        this.scheme = color.schemes[args.scheme] || args.scheme || color.schemes.colorwheel;
        this.runningIndex = 0;
        this.generatorIndex = 0;
        if (args.interpolatedStopCount) {
            var schemeCount = this.scheme.length - 1;
            var i, j, scheme = [];
            for (i = 0; i < schemeCount; i++) {
                scheme.push(this.scheme[i]);
                var generator = d3.interpolateHsl(this.scheme[i], this.scheme[i + 1]);
                for (j = 1; j < args.interpolatedStopCount; j++) {
                    scheme.push(generator(1 / args.interpolatedStopCount * j))
                }
            }
            scheme.push(this.scheme[this.scheme.length - 1]);
            this.scheme = scheme
        }
        this.rotateCount = this.scheme.length;
        this.color = function(key) {
            return this.scheme[key] || this.scheme[this.runningIndex++] || this.interpolateColor() || "#808080"
        };
        this.interpolateColor = function() {
            if (!Array.isArray(this.scheme)) return;
            var color;
            if (this.generatorIndex == this.rotateCount * 2 - 1) {
                color = d3.interpolateHsl(this.scheme[this.generatorIndex], this.scheme[0])(.5);
                this.generatorIndex = 0;
                this.rotateCount *= 2
            } else {
                color = d3.interpolateHsl(this.scheme[this.generatorIndex], this.scheme[this.generatorIndex + 1])(.5);
                this.generatorIndex++
            }
            this.scheme.push(color);
            return color
        }
    };
    Rickshaw.namespace("Rickshaw.Graph.Ajax");
    Rickshaw.Graph.Ajax = Rickshaw.Class.create({
        initialize: function(args) {
            this.dataURL = args.dataURL;
            this.onData = args.onData || function(d) {
                return d
            };
            this.onComplete = args.onComplete || function() {};
            this.onError = args.onError || function() {};
            this.args = args;
            this.request()
        },
        request: function() {
            jQuery.ajax({
                url: this.dataURL,
                dataType: "json",
                success: this.success.bind(this),
                error: this.error.bind(this)
            })
        },
        error: function() {
            console.log("error loading dataURL: " + this.dataURL);
            this.onError(this)
        },
        success: function(data, status) {
            data = this.onData(data);
            this.args.series = this._splice({
                data: data,
                series: this.args.series
            });
            this.graph = this.graph || new Rickshaw.Graph(this.args);
            this.graph.render();
            this.onComplete(this)
        },
        _splice: function(args) {
            var data = args.data;
            var series = args.series;
            if (!args.series) return data;
            series.forEach(function(s) {
                var seriesKey = s.key || s.name;
                if (!seriesKey) throw "series needs a key or a name";
                data.forEach(function(d) {
                    var dataKey = d.key || d.name;
                    if (!dataKey) throw "data needs a key or a name";
                    if (seriesKey == dataKey) {
                        var properties = ["color", "name", "data"];
                        properties.forEach(function(p) {
                            if (d[p]) s[p] = d[p]
                        })
                    }
                })
            });
            return series
        }
    });
    Rickshaw.namespace("Rickshaw.Graph.Annotate");
    Rickshaw.Graph.Annotate = function(args) {
        var graph = this.graph = args.graph;
        this.elements = {
            timeline: args.element
        };
        var self = this;
        this.data = {};
        this.elements.timeline.classList.add("rickshaw_annotation_timeline");
        this.add = function(time, content, end_time) {
            self.data[time] = self.data[time] || {
                boxes: []
            };
            self.data[time].boxes.push({
                content: content,
                end: end_time
            })
        };
        this.update = function() {
            Rickshaw.keys(self.data).forEach(function(time) {
                var annotation = self.data[time];
                var left = self.graph.x(time);
                if (left < 0 || left > self.graph.x.range()[1]) {
                    if (annotation.element) {
                        annotation.line.classList.add("offscreen");
                        annotation.element.style.display = "none"
                    }
                    annotation.boxes.forEach(function(box) {
                        if (box.rangeElement) box.rangeElement.classList.add("offscreen")
                    });
                    return
                }
                if (!annotation.element) {
                    var element = annotation.element = document.createElement("div");
                    element.classList.add("annotation");
                    this.elements.timeline.appendChild(element);
                    element.addEventListener("click", function(e) {
                        element.classList.toggle("active");
                        annotation.line.classList.toggle("active");
                        annotation.boxes.forEach(function(box) {
                            if (box.rangeElement) box.rangeElement.classList.toggle("active")
                        })
                    }, false)
                }
                annotation.element.style.left = left + "px";
                annotation.element.style.display = "block";
                annotation.boxes.forEach(function(box) {
                    var element = box.element;
                    if (!element) {
                        element = box.element = document.createElement("div");
                        element.classList.add("content");
                        element.innerHTML = box.content;
                        annotation.element.appendChild(element);
                        annotation.line = document.createElement("div");
                        annotation.line.classList.add("annotation_line");
                        self.graph.element.appendChild(annotation.line);
                        if (box.end) {
                            box.rangeElement = document.createElement("div");
                            box.rangeElement.classList.add("annotation_range");
                            self.graph.element.appendChild(box.rangeElement)
                        }
                    }
                    if (box.end) {
                        var annotationRangeStart = left;
                        var annotationRangeEnd = Math.min(self.graph.x(box.end), self.graph.x.range()[1]);
                        if (annotationRangeStart > annotationRangeEnd) {
                            annotationRangeEnd = left;
                            annotationRangeStart = Math.max(self.graph.x(box.end), self.graph.x.range()[0])
                        }
                        var annotationRangeWidth = annotationRangeEnd - annotationRangeStart;
                        box.rangeElement.style.left = annotationRangeStart + "px";
                        box.rangeElement.style.width = annotationRangeWidth + "px";
                        box.rangeElement.classList.remove("offscreen")
                    }
                    annotation.line.classList.remove("offscreen");
                    annotation.line.style.left = left + "px"
                })
            }, this)
        };
        this.graph.onUpdate(function() {
            self.update()
        })
    };
    Rickshaw.namespace("Rickshaw.Graph.Axis.Time");
    Rickshaw.Graph.Axis.Time = function(args) {
        var self = this;
        this.graph = args.graph;
        this.elements = [];
        this.ticksTreatment = args.ticksTreatment || "plain";
        this.fixedTimeUnit = args.timeUnit;
        var time = args.timeFixture || new Rickshaw.Fixtures.Time;
        this.appropriateTimeUnit = function() {
            var unit;
            var units = time.units;
            var domain = this.graph.x.domain();
            var rangeSeconds = domain[1] - domain[0];
            units.forEach(function(u) {
                if (Math.floor(rangeSeconds / u.seconds) >= 2) {
                    unit = unit || u
                }
            });
            return unit || time.units[time.units.length - 1]
        };
        this.tickOffsets = function() {
            var domain = this.graph.x.domain();
            var unit = this.fixedTimeUnit || this.appropriateTimeUnit();
            var count = Math.ceil((domain[1] - domain[0]) / unit.seconds);
            var runningTick = domain[0];
            var offsets = [];
            for (var i = 0; i < count; i++) {
                var tickValue = time.ceil(runningTick, unit);
                runningTick = tickValue + unit.seconds / 2;
                offsets.push({
                    value: tickValue,
                    unit: unit
                })
            }
            return offsets
        };
        this.render = function() {
            this.elements.forEach(function(e) {
                e.parentNode.removeChild(e)
            });
            this.elements = [];
            var offsets = this.tickOffsets();
            offsets.forEach(function(o) {
                if (self.graph.x(o.value) > self.graph.x.range()[1]) return;
                var element = document.createElement("div");
                element.style.left = self.graph.x(o.value) + "px";
                element.classList.add("x_tick");
                element.classList.add(self.ticksTreatment);
                var title = document.createElement("div");
                title.classList.add("title");
                title.innerHTML = o.unit.formatter(new Date(o.value * 1e3));
                element.appendChild(title);
                self.graph.element.appendChild(element);
                self.elements.push(element)
            })
        };
        this.graph.onUpdate(function() {
            self.render()
        })
    };
    Rickshaw.namespace("Rickshaw.Graph.Axis.X");
    Rickshaw.Graph.Axis.X = function(args) {
        var self = this;
        var berthRate = .1;
        this.initialize = function(args) {
            this.graph = args.graph;
            this.orientation = args.orientation || "top";
            this.pixelsPerTick = args.pixelsPerTick || 75;
            if (args.ticks) this.staticTicks = args.ticks;
            if (args.tickValues) this.tickValues = args.tickValues;
            this.tickSize = args.tickSize || 4;
            this.ticksTreatment = args.ticksTreatment || "plain";
            if (args.element) {
                this.element = args.element;
                this._discoverSize(args.element, args);
                this.vis = d3.select(args.element).append("svg:svg").attr("height", this.height).attr("width", this.width).attr("class", "rickshaw_graph x_axis_d3");
                this.element = this.vis[0][0];
                this.element.style.position = "relative";
                this.setSize({
                    width: args.width,
                    height: args.height
                })
            } else {
                this.vis = this.graph.vis
            }
            this.graph.onUpdate(function() {
                self.render()
            })
        };
        this.setSize = function(args) {
            args = args || {};
            if (!this.element) return;
            this._discoverSize(this.element.parentNode, args);
            this.vis.attr("height", this.height).attr("width", this.width * (1 + berthRate));
            var berth = Math.floor(this.width * berthRate / 2);
            this.element.style.left = -1 * berth + "px"
        };
        this.render = function() {
            if (this._renderWidth !== undefined && this.graph.width !== this._renderWidth) this.setSize({
                auto: true
            });
            var axis = d3.svg.axis().scale(this.graph.x).orient(this.orientation);
            axis.tickFormat(args.tickFormat || function(x) {
                return x
            });
            if (this.tickValues) axis.tickValues(this.tickValues);
            this.ticks = this.staticTicks || Math.floor(this.graph.width / this.pixelsPerTick);
            var berth = Math.floor(this.width * berthRate / 2) || 0;
            var bar_offset = this.graph.renderer.name == "bar" && Math.ceil(this.graph.width * .95 / this.graph.series[0].data.length / 2) || 0;
            var transform;
            if (this.orientation == "top") {
                var yOffset = this.height || this.graph.height;
                transform = "translate(" + (berth + bar_offset) + "," + yOffset + ")"
            } else {
                transform = "translate(" + (berth + bar_offset) + ", 0)"
            }
            if (this.element) {
                this.vis.selectAll("*").remove()
            }
            this.vis.append("svg:g").attr("class", ["x_ticks_d3", this.ticksTreatment].join(" ")).attr("transform", transform).call(axis.ticks(this.ticks).tickSubdivide(0).tickSize(this.tickSize));
            var gridSize = (this.orientation == "bottom" ? 1 : -1) * this.graph.height;
            this.graph.vis.append("svg:g").attr("class", "x_grid_d3").call(axis.ticks(this.ticks).tickSubdivide(0).tickSize(gridSize)).selectAll("text").each(function() {
                this.parentNode.setAttribute("data-x-value", this.textContent)
            });
            this._renderHeight = this.graph.height
        };
        this._discoverSize = function(element, args) {
            if (typeof window !== "undefined") {
                var style = window.getComputedStyle(element, null);
                var elementHeight = parseInt(style.getPropertyValue("height"), 10);
                if (!args.auto) {
                    var elementWidth = parseInt(style.getPropertyValue("width"), 10)
                }
            }
            this.width = (args.width || elementWidth || this.graph.width) * (1 + berthRate);
            this.height = args.height || elementHeight || 40
        };
        this.initialize(args)
    };
    Rickshaw.namespace("Rickshaw.Graph.Axis.Y");
    Rickshaw.Graph.Axis.Y = Rickshaw.Class.create({
        initialize: function(args) {
            this.graph = args.graph;
            this.orientation = args.orientation || "right";
            this.pixelsPerTick = args.pixelsPerTick || 75;
            if (args.ticks) this.staticTicks = args.ticks;
            if (args.tickValues) this.tickValues = args.tickValues;
            this.tickSize = args.tickSize || 4;
            this.ticksTreatment = args.ticksTreatment || "plain";
            this.tickFormat = args.tickFormat || function(y) {
                return y
            };
            this.berthRate = .1;
            if (args.element) {
                this.element = args.element;
                this.vis = d3.select(args.element).append("svg:svg").attr("class", "rickshaw_graph y_axis");
                this.element = this.vis[0][0];
                this.element.style.position = "relative";
                this.setSize({
                    width: args.width,
                    height: args.height
                })
            } else {
                this.vis = this.graph.vis
            }
            var self = this;
            this.graph.onUpdate(function() {
                self.render()
            })
        },
        setSize: function(args) {
            args = args || {};
            if (!this.element) return;
            if (typeof window !== "undefined") {
                var style = window.getComputedStyle(this.element.parentNode, null);
                var elementWidth = parseInt(style.getPropertyValue("width"), 10);
                if (!args.auto) {
                    var elementHeight = parseInt(style.getPropertyValue("height"), 10)
                }
            }
            this.width = args.width || elementWidth || this.graph.width * this.berthRate;
            this.height = args.height || elementHeight || this.graph.height;
            this.vis.attr("width", this.width).attr("height", this.height * (1 + this.berthRate));
            var berth = this.height * this.berthRate;
            if (this.orientation == "left") {
                this.element.style.top = -1 * berth + "px"
            }
        },
        render: function() {
            if (this._renderHeight !== undefined && this.graph.height !== this._renderHeight) this.setSize({
                auto: true
            });
            this.ticks = this.staticTicks || Math.floor(this.graph.height / this.pixelsPerTick);
            var axis = this._drawAxis(this.graph.y);
            this._drawGrid(axis);
            this._renderHeight = this.graph.height
        },
        _drawAxis: function(scale) {
            var axis = d3.svg.axis().scale(scale).orient(this.orientation);
            axis.tickFormat(this.tickFormat);
            if (this.tickValues) axis.tickValues(this.tickValues);
            if (this.orientation == "left") {
                var berth = this.height * this.berthRate;
                var transform = "translate(" + this.width + ", " + berth + ")"
            }
            if (this.element) {
                this.vis.selectAll("*").remove()
            }
            this.vis.append("svg:g").attr("class", ["y_ticks", this.ticksTreatment].join(" ")).attr("transform", transform).call(axis.ticks(this.ticks).tickSubdivide(0).tickSize(this.tickSize));
            return axis
        },
        _drawGrid: function(axis) {
            var gridSize = (this.orientation == "right" ? 1 : -1) * this.graph.width;
            this.graph.vis.append("svg:g").attr("class", "y_grid").call(axis.ticks(this.ticks).tickSubdivide(0).tickSize(gridSize)).selectAll("text").each(function() {
                this.parentNode.setAttribute("data-y-value", this.textContent)
            })
        }
    });
    Rickshaw.namespace("Rickshaw.Graph.Axis.Y.Scaled");
    Rickshaw.Graph.Axis.Y.Scaled = Rickshaw.Class.create(Rickshaw.Graph.Axis.Y, {
        initialize: function($super, args) {
            if (typeof args.scale === "undefined") {
                throw new Error("Scaled requires scale")
            }
            this.scale = args.scale;
            if (typeof args.grid === "undefined") {
                this.grid = true
            } else {
                this.grid = args.grid
            }
            $super(args)
        },
        _drawAxis: function($super, scale) {
            var domain = this.scale.domain();
            var renderDomain = this.graph.renderer.domain().y;
            var extents = [Math.min.apply(Math, domain), Math.max.apply(Math, domain)];
            var extentMap = d3.scale.linear().domain([0, 1]).range(extents);
            var adjExtents = [extentMap(renderDomain[0]), extentMap(renderDomain[1])];
            var adjustment = d3.scale.linear().domain(extents).range(adjExtents);
            var adjustedScale = this.scale.copy().domain(domain.map(adjustment)).range(scale.range());
            return $super(adjustedScale)
        },
        _drawGrid: function($super, axis) {
            if (this.grid) {
                $super(axis)
            }
        }
    });
    Rickshaw.namespace("Rickshaw.Graph.Behavior.Series.Highlight");
    Rickshaw.Graph.Behavior.Series.Highlight = function(args) {
        this.graph = args.graph;
        this.legend = args.legend;
        var self = this;
        var colorSafe = {};
        var activeLine = null;
        var disabledColor = args.disabledColor || function(seriesColor) {
            return d3.interpolateRgb(seriesColor, d3.rgb("#d8d8d8"))(.8).toString()
        };
        this.addHighlightEvents = function(l) {
            l.element.addEventListener("mouseover", function(e) {
                if (activeLine) return;
                else activeLine = l;
                self.legend.lines.forEach(function(line) {
                    if (l === line) {
                        if (self.graph.renderer.unstack && (line.series.renderer ? line.series.renderer.unstack : true)) {
                            var seriesIndex = self.graph.series.indexOf(line.series);
                            line.originalIndex = seriesIndex;
                            var series = self.graph.series.splice(seriesIndex, 1)[0];
                            self.graph.series.push(series)
                        }
                        return
                    }
                    colorSafe[line.series.name] = colorSafe[line.series.name] || line.series.color;
                    line.series.color = disabledColor(line.series.color)
                });
                self.graph.update()
            }, false);
            l.element.addEventListener("mouseout", function(e) {
                if (!activeLine) return;
                else activeLine = null;
                self.legend.lines.forEach(function(line) {
                    if (l === line && line.hasOwnProperty("originalIndex")) {
                        var series = self.graph.series.pop();
                        self.graph.series.splice(line.originalIndex, 0, series);
                        delete line.originalIndex
                    }
                    if (colorSafe[line.series.name]) {
                        line.series.color = colorSafe[line.series.name]
                    }
                });
                self.graph.update()
            }, false)
        };
        if (this.legend) {
            this.legend.lines.forEach(function(l) {
                self.addHighlightEvents(l)
            })
        }
    };
    Rickshaw.namespace("Rickshaw.Graph.Behavior.Series.Order");
    Rickshaw.Graph.Behavior.Series.Order = function(args) {
        this.graph = args.graph;
        this.legend = args.legend;
        var self = this;
        if (typeof window.jQuery == "undefined") {
            throw "couldn't find jQuery at window.jQuery"
        }
        if (typeof window.jQuery.ui == "undefined") {
            throw "couldn't find jQuery UI at window.jQuery.ui"
        }
        jQuery(function() {
            jQuery(self.legend.list).sortable({
                containment: "parent",
                tolerance: "pointer",
                update: function(event, ui) {
                    var series = [];
                    jQuery(self.legend.list).find("li").each(function(index, item) {
                        if (!item.series) return;
                        series.push(item.series)
                    });
                    for (var i = self.graph.series.length - 1; i >= 0; i--) {
                        self.graph.series[i] = series.shift()
                    }
                    self.graph.update()
                }
            });
            jQuery(self.legend.list).disableSelection()
        });
        this.graph.onUpdate(function() {
            var h = window.getComputedStyle(self.legend.element).height;
            self.legend.element.style.height = h
        })
    };
    Rickshaw.namespace("Rickshaw.Graph.Behavior.Series.Toggle");
    Rickshaw.Graph.Behavior.Series.Toggle = function(args) {
        this.graph = args.graph;
        this.legend = args.legend;
        var self = this;
        this.addAnchor = function(line) {
            var anchor = document.createElement("a");
            anchor.innerHTML = "&#10004;";
            anchor.classList.add("action");
            line.element.insertBefore(anchor, line.element.firstChild);
            anchor.onclick = function(e) {
                if (line.series.disabled) {
                    line.series.enable();
                    line.element.classList.remove("disabled")
                } else {
                    if (this.graph.series.filter(function(s) {
                            return !s.disabled
                        }).length <= 1) return;
                    line.series.disable();
                    line.element.classList.add("disabled")
                }
                self.graph.update()
            }.bind(this);
            var label = line.element.getElementsByTagName("span")[0];
            label.onclick = function(e) {
                var disableAllOtherLines = line.series.disabled;
                if (!disableAllOtherLines) {
                    for (var i = 0; i < self.legend.lines.length; i++) {
                        var l = self.legend.lines[i];
                        if (line.series === l.series) {} else if (l.series.disabled) {} else {
                            disableAllOtherLines = true;
                            break
                        }
                    }
                }
                if (disableAllOtherLines) {
                    line.series.enable();
                    line.element.classList.remove("disabled");
                    self.legend.lines.forEach(function(l) {
                        if (line.series === l.series) {} else {
                            l.series.disable();
                            l.element.classList.add("disabled")
                        }
                    })
                } else {
                    self.legend.lines.forEach(function(l) {
                        l.series.enable();
                        l.element.classList.remove("disabled")
                    })
                }
                self.graph.update()
            }
        };
        if (this.legend) {
            if (typeof jQuery != "undefined" && jQuery(this.legend.list).sortable) {
                jQuery(this.legend.list).sortable({
                    start: function(event, ui) {
                        ui.item.bind("no.onclick", function(event) {
                            event.preventDefault()
                        })
                    },
                    stop: function(event, ui) {
                        setTimeout(function() {
                            ui.item.unbind("no.onclick")
                        }, 250)
                    }
                })
            }
            this.legend.lines.forEach(function(l) {
                self.addAnchor(l)
            })
        }
        this._addBehavior = function() {
            this.graph.series.forEach(function(s) {
                s.disable = function() {
                    if (self.graph.series.length <= 1) {
                        throw "only one series left"
                    }
                    s.disabled = true
                };
                s.enable = function() {
                    s.disabled = false
                }
            })
        };
        this._addBehavior();
        this.updateBehaviour = function() {
            this._addBehavior()
        }
    };
    Rickshaw.namespace("Rickshaw.Graph.DragZoom");
    Rickshaw.Graph.DragZoom = Rickshaw.Class.create({
        initialize: function(args) {
            if (!args || !args.graph) {
                throw new Error("Rickshaw.Graph.DragZoom needs a reference to a graph")
            }
            var defaults = {
                opacity: .5,
                fill: "steelblue",
                minimumTimeSelection: 60,
                callback: function() {}
            };
            this.graph = args.graph;
            this.svg = d3.select(this.graph.element).select("svg");
            this.svgWidth = parseInt(this.svg.attr("width"), 10);
            this.opacity = args.opacity || defaults.opacity;
            this.fill = args.fill || defaults.fill;
            this.minimumTimeSelection = args.minimumTimeSelection || defaults.minimumTimeSelection;
            this.callback = args.callback || defaults.callback;
            this.registerMouseEvents()
        },
        registerMouseEvents: function() {
            var self = this;
            var ESCAPE_KEYCODE = 27;
            var rectangle;
            var drag = {
                startDt: null,
                stopDt: null,
                startPX: null,
                stopPX: null
            };
            this.svg.on("mousedown", onMousedown);

            function onMouseup(datum, index) {
                drag.stopDt = pointAsDate(d3.event);
                var windowAfterDrag = [drag.startDt, drag.stopDt].sort(compareNumbers);
                self.graph.window.xMin = windowAfterDrag[0];
                self.graph.window.xMax = windowAfterDrag[1];
                var endTime = self.graph.window.xMax;
                var range = self.graph.window.xMax - self.graph.window.xMin;
                reset(this);
                if (range < self.minimumTimeSelection || isNaN(range)) {
                    return
                }
                self.graph.update();
                self.callback({
                    range: range,
                    endTime: endTime
                })
            }

            function onMousemove() {
                var offset = drag.stopPX = d3.event.offsetX || d3.event.layerX;
                if (offset > self.svgWidth - 1 || offset < 1) {
                    return
                }
                var limits = [drag.startPX, offset].sort(compareNumbers);
                var selectionWidth = limits[1] - limits[0];
                if (isNaN(selectionWidth)) {
                    return reset(this)
                }
                rectangle.attr("fill", self.fill).attr("x", limits[0]).attr("width", selectionWidth)
            }

            function onMousedown() {
                var el = d3.select(this);
                rectangle = el.append("rect").style("opacity", self.opacity).attr("y", 0).attr("height", "100%");
                if (d3.event.preventDefault) {
                    d3.event.preventDefault()
                } else {
                    d3.event.returnValue = false
                }
                drag.target = d3.event.target;
                drag.startDt = pointAsDate(d3.event);
                drag.startPX = d3.event.offsetX || d3.event.layerX;
                el.on("mousemove", onMousemove);
                d3.select(document).on("mouseup", onMouseup);
                d3.select(document).on("keyup", function() {
                    if (d3.event.keyCode === ESCAPE_KEYCODE) {
                        reset(this)
                    }
                })
            }

            function reset(el) {
                var s = d3.select(el);
                s.on("mousemove", null);
                d3.select(document).on("mouseup", null);
                drag = {};
                rectangle.remove()
            }

            function compareNumbers(a, b) {
                return a - b
            }

            function pointAsDate(e) {
                return Math.floor(self.graph.x.invert(e.offsetX || e.layerX))
            }
        }
    });
    Rickshaw.namespace("Rickshaw.Graph.HoverDetail");
    Rickshaw.Graph.HoverDetail = Rickshaw.Class.create({
        initialize: function(args) {
            var graph = this.graph = args.graph;
            this.xFormatter = args.xFormatter || function(x) {
                return new Date(x * 1e3).toUTCString()
            };
            this.yFormatter = args.yFormatter || function(y) {
                return y === null ? y : y.toFixed(2)
            };
            var element = this.element = document.createElement("div");
            element.className = "detail inactive";
            this.visible = true;
            graph.element.appendChild(element);
            this.lastEvent = null;
            this._addListeners();
            this.onShow = args.onShow;
            this.onHide = args.onHide;
            this.onRender = args.onRender;
            this.formatter = args.formatter || this.formatter
        },
        formatter: function(series, x, y, formattedX, formattedY, d) {
            return series.name + ":&nbsp;" + formattedY
        },
        update: function(e) {
            e = e || this.lastEvent;
            if (!e) return;
            this.lastEvent = e;
            if (!e.target.nodeName.match(/^(path|svg|rect|circle)$/)) return;
            var graph = this.graph;
            var eventX = e.layerX || e.offsetX;
            var eventY = e.layerY || e.offsetY;
            var j = 0;
            var points = [];
            var nearestPoint;
            this.graph.series.active().forEach(function(series) {
                var data = this.graph.stackedData[j++];
                if (!data.length) return;
                var domainX = graph.x.invert(eventX);
                var domainIndexScale = d3.scale.linear().domain([data[0].x, data.slice(-1)[0].x]).range([0, data.length - 1]);
                var approximateIndex = Math.round(domainIndexScale(domainX));
                if (approximateIndex == data.length - 1) approximateIndex--;
                var dataIndex = Math.min(approximateIndex || 0, data.length - 1);
                for (var i = approximateIndex; i < data.length - 1;) {
                    if (!data[i] || !data[i + 1]) break;
                    if (data[i].x <= domainX && data[i + 1].x > domainX) {
                        dataIndex = Math.abs(domainX - data[i].x) < Math.abs(domainX - data[i + 1].x) ? i : i + 1;
                        break
                    }
                    if (data[i + 1].x <= domainX) {
                        i++
                    } else {
                        i--
                    }
                }
                if (dataIndex < 0) dataIndex = 0;
                var value = data[dataIndex];
                var distance = Math.sqrt(Math.pow(Math.abs(graph.x(value.x) - eventX), 2) + Math.pow(Math.abs(graph.y(value.y + value.y0) - eventY), 2));
                var xFormatter = series.xFormatter || this.xFormatter;
                var yFormatter = series.yFormatter || this.yFormatter;
                var point = {
                    formattedXValue: xFormatter(value.x),
                    formattedYValue: yFormatter(series.scale ? series.scale.invert(value.y) : value.y),
                    series: series,
                    value: value,
                    distance: distance,
                    order: j,
                    name: series.name
                };
                if (!nearestPoint || distance < nearestPoint.distance) {
                    nearestPoint = point
                }
                points.push(point)
            }, this);
            if (!nearestPoint) return;
            nearestPoint.active = true;
            var domainX = nearestPoint.value.x;
            var formattedXValue = nearestPoint.formattedXValue;
            this.element.innerHTML = "";
            this.element.style.left = graph.x(domainX) + "px";
            this.visible && this.render({
                points: points,
                detail: points,
                mouseX: eventX,
                mouseY: eventY,
                formattedXValue: formattedXValue,
                domainX: domainX
            })
        },
        hide: function() {
            this.visible = false;
            this.element.classList.add("inactive");
            if (typeof this.onHide == "function") {
                this.onHide()
            }
        },
        show: function() {
            this.visible = true;
            this.element.classList.remove("inactive");
            if (typeof this.onShow == "function") {
                this.onShow()
            }
        },
        render: function(args) {
            var graph = this.graph;
            var points = args.points;
            var point = points.filter(function(p) {
                return p.active
            }).shift();
            if (point.value.y === null) return;
            var formattedXValue = point.formattedXValue;
            var formattedYValue = point.formattedYValue;
            this.element.innerHTML = "";
            this.element.style.left = graph.x(point.value.x) + "px";
            var xLabel = document.createElement("div");
            xLabel.className = "x_label";
            xLabel.innerHTML = formattedXValue;
            this.element.appendChild(xLabel);
            var item = document.createElement("div");
            item.className = "item";
            var series = point.series;
            var actualY = series.scale ? series.scale.invert(point.value.y) : point.value.y;
            item.innerHTML = this.formatter(series, point.value.x, actualY, formattedXValue, formattedYValue, point);
            item.style.top = this.graph.y(point.value.y0 + point.value.y) + "px";
            this.element.appendChild(item);
            var dot = document.createElement("div");
            dot.className = "dot";
            dot.style.top = item.style.top;
            dot.style.borderColor = series.color;
            this.element.appendChild(dot);
            if (point.active) {
                item.classList.add("active");
                dot.classList.add("active")
            }
            var alignables = [xLabel, item];
            alignables.forEach(function(el) {
                el.classList.add("left")
            });
            this.show();
            var leftAlignError = this._calcLayoutError(alignables);
            if (leftAlignError > 0) {
                alignables.forEach(function(el) {
                    el.classList.remove("left");
                    el.classList.add("right")
                });
                var rightAlignError = this._calcLayoutError(alignables);
                if (rightAlignError > leftAlignError) {
                    alignables.forEach(function(el) {
                        el.classList.remove("right");
                        el.classList.add("left")
                    })
                }
            }
            if (typeof this.onRender == "function") {
                this.onRender(args)
            }
        },
        _calcLayoutError: function(alignables) {
            var parentRect = this.element.parentNode.getBoundingClientRect();
            var error = 0;
            var alignRight = alignables.forEach(function(el) {
                var rect = el.getBoundingClientRect();
                if (!rect.width) {
                    return
                }
                if (rect.right > parentRect.right) {
                    error += rect.right - parentRect.right
                }
                if (rect.left < parentRect.left) {
                    error += parentRect.left - rect.left
                }
            });
            return error
        },
        _addListeners: function() {
            this.mousemoveListener = function(e) {
                this.visible = true;
                this.update(e)
            }.bind(this);
            this.graph.element.addEventListener("mousemove", this.mousemoveListener, false);
            this.graph.onUpdate(function() {
                this.update()
            }.bind(this));
            this.mouseoutListener = function(e) {
                if (e.relatedTarget && !(e.relatedTarget.compareDocumentPosition(this.graph.element) & Node.DOCUMENT_POSITION_CONTAINS)) {
                    this.hide()
                }
            }.bind(this);
            this.graph.element.addEventListener("mouseout", this.mouseoutListener, false)
        },
        _removeListeners: function() {
            if (this.mousemoveListener) {
                this.graph.element.removeEventListener("mousemove", this.mousemoveListener, false)
            }
            if (this.mouseoutListener) {
                this.graph.element.removeEventListener("mouseout", this.mouseoutListener, false)
            }
        }
    });
    Rickshaw.namespace("Rickshaw.Graph.JSONP");
    Rickshaw.Graph.JSONP = Rickshaw.Class.create(Rickshaw.Graph.Ajax, {
        request: function() {
            jQuery.ajax({
                url: this.dataURL,
                dataType: "jsonp",
                success: this.success.bind(this),
                error: this.error.bind(this)
            })
        }
    });
    Rickshaw.namespace("Rickshaw.Graph.Legend");
    Rickshaw.Graph.Legend = Rickshaw.Class.create({
        className: "rickshaw_legend",
        initialize: function(args) {
            this.element = args.element;
            this.graph = args.graph;
            this.naturalOrder = args.naturalOrder;
            this.element.classList.add(this.className);
            this.list = document.createElement("ul");
            this.element.appendChild(this.list);
            this.render();
            this.graph.onUpdate(function() {})
        },
        render: function() {
            var self = this;
            while (this.list.firstChild) {
                this.list.removeChild(this.list.firstChild)
            }
            this.lines = [];
            var series = this.graph.series.map(function(s) {
                return s
            });
            if (!this.naturalOrder) {
                series = series.reverse()
            }
            series.forEach(function(s) {
                self.addLine(s)
            })
        },
        addLine: function(series) {
            var line = document.createElement("li");
            line.className = "line";
            if (series.disabled) {
                line.className += " disabled"
            }
            if (series.className) {
                d3.select(line).classed(series.className, true)
            }
            var swatch = document.createElement("div");
            swatch.className = "swatch";
            swatch.style.backgroundColor = series.color;
            line.appendChild(swatch);
            var label = document.createElement("span");
            label.className = "label";
            label.innerHTML = series.name;
            line.appendChild(label);
            this.list.appendChild(line);
            line.series = series;
            if (series.noLegend) {
                line.style.display = "none"
            }
            var _line = {
                element: line,
                series: series
            };
            if (this.shelving) {
                this.shelving.addAnchor(_line);
                this.shelving.updateBehaviour()
            }
            if (this.highlighter) {
                this.highlighter.addHighlightEvents(_line)
            }
            this.lines.push(_line);
            return line
        }
    });
    Rickshaw.namespace("Rickshaw.Graph.RangeSlider");
    Rickshaw.Graph.RangeSlider = Rickshaw.Class.create({
        initialize: function(args) {
            var $ = jQuery;
            var self = this;
            var element = this.element = args.element;
            var graphs = this.graphs = args.graphs;
            if (!graphs) {
                graphs = this.graph = args.graph
            }
            if (graphs.constructor !== Array) {
                graphs = [graphs]
            }
            this.graph = graphs[0];
            this.slideCallbacks = [];
            this.build();
            for (var i = 0; i < graphs.length; i++) {
                graphs[i].onUpdate(function() {
                    self.update()
                }.bind(self));
                (function(idx) {
                    graphs[idx].onConfigure(function() {
                        $(this.element)[0].style.width = graphs[idx].width + "px"
                    }.bind(self))
                })(i)
            }
        },
        build: function() {
            var domain;
            var element = this.element;
            var $ = jQuery;
            var self = this;
            var graphs = this.graphs || this.graph;
            if (graphs.constructor !== Array) {
                graphs = [graphs]
            }
            this.graph = graphs[0];
            domain = graphs[0].dataDomain();
            $(function() {
                $(element).slider({
                    range: true,
                    min: domain[0],
                    max: domain[1],
                    values: [domain[0], domain[1]],
                    start: function(event, ui) {
                        self.slideStarted({
                            event: event,
                            ui: ui
                        })
                    },
                    stop: function(event, ui) {
                        self.slideFinished({
                            event: event,
                            ui: ui
                        })
                    },
                    slide: function(event, ui) {
                        if (!self.slideShouldUpdate(event, ui)) return;
                        if (ui.values[1] <= ui.values[0]) return;
                        for (var i = 0; i < graphs.length; i++) {
                            self.processSlideChange({
                                event: event,
                                ui: ui,
                                graph: graphs[i]
                            })
                        }
                    }
                })
            });
            graphs[0].onConfigure(function() {
                $(this.element)[0].style.width = graphs[0].width + "px"
            }.bind(this))
        },
        update: function() {
            var element = this.element;
            var graph = this.graph;
            var $ = jQuery;
            var values = $(element).slider("option", "values");
            var domain = graph.dataDomain();
            $(element).slider("option", "min", domain[0]);
            $(element).slider("option", "max", domain[1]);
            if (graph.window.xMin == null) {
                values[0] = domain[0]
            }
            if (graph.window.xMax == null) {
                values[1] = domain[1]
            }
            $(element).slider("option", "values", values)
        },
        onSlide: function(callback) {
            this.slideCallbacks.push(callback)
        },
        processSlideChange: function(args) {
            var event = args.event;
            var ui = args.ui;
            var graph = args.graph;
            graph.window.xMin = ui.values[0];
            graph.window.xMax = ui.values[1];
            graph.update();
            var domain = graph.dataDomain();
            if (domain[0] == ui.values[0]) {
                graph.window.xMin = undefined
            }
            if (domain[1] == ui.values[1]) {
                graph.window.xMax = undefined
            }
            this.slideCallbacks.forEach(function(callback) {
                callback(graph, graph.window.xMin, graph.window.xMax)
            })
        },
        slideShouldUpdate: function() {
            return true
        },
        slideStarted: function() {
            return
        },
        slideFinished: function() {
            return
        }
    });
    Rickshaw.namespace("Rickshaw.Graph.RangeSlider.Preview");
    Rickshaw.Graph.RangeSlider.Preview = Rickshaw.Class.create({
        initialize: function(args) {
            if (!args.element) throw "Rickshaw.Graph.RangeSlider.Preview needs a reference to an element";
            if (!args.graph && !args.graphs) throw "Rickshaw.Graph.RangeSlider.Preview needs a reference to an graph or an array of graphs";
            this.element = args.element;
            this.element.style.position = "relative";
            this.graphs = args.graph ? [args.graph] : args.graphs;
            this.defaults = {
                height: 75,
                width: 400,
                gripperColor: undefined,
                frameTopThickness: 3,
                frameHandleThickness: 10,
                frameColor: "#d4d4d4",
                frameOpacity: 1,
                minimumFrameWidth: 0,
                heightRatio: .2
            };
            this.heightRatio = args.heightRatio || this.defaults.heightRatio;
            this.defaults.gripperColor = d3.rgb(this.defaults.frameColor).darker().toString();
            this.configureCallbacks = [];
            this.slideCallbacks = [];
            this.previews = [];
            if (!args.width) this.widthFromGraph = true;
            if (!args.height) this.heightFromGraph = true;
            if (this.widthFromGraph || this.heightFromGraph) {
                this.graphs[0].onConfigure(function() {
                    this.configure(args);
                    this.render()
                }.bind(this))
            }
            args.width = args.width || this.graphs[0].width || this.defaults.width;
            args.height = args.height || this.graphs[0].height * this.heightRatio || this.defaults.height;
            this.configure(args);
            this.render()
        },
        onSlide: function(callback) {
            this.slideCallbacks.push(callback)
        },
        onConfigure: function(callback) {
            this.configureCallbacks.push(callback)
        },
        configure: function(args) {
            this.config = this.config || {};
            this.configureCallbacks.forEach(function(callback) {
                callback(args)
            });
            Rickshaw.keys(this.defaults).forEach(function(k) {
                this.config[k] = k in args ? args[k] : k in this.config ? this.config[k] : this.defaults[k]
            }, this);
            if ("width" in args || "height" in args) {
                if (this.widthFromGraph) {
                    this.config.width = this.graphs[0].width
                }
                if (this.heightFromGraph) {
                    this.config.height = this.graphs[0].height * this.heightRatio;
                    this.previewHeight = this.config.height
                }
                this.previews.forEach(function(preview) {
                    var height = this.previewHeight / this.graphs.length - this.config.frameTopThickness * 2;
                    var width = this.config.width - this.config.frameHandleThickness * 2;
                    preview.setSize({
                        width: width,
                        height: height
                    });
                    if (this.svg) {
                        var svgHeight = height + this.config.frameHandleThickness * 2;
                        var svgWidth = width + this.config.frameHandleThickness * 2;
                        this.svg.style("width", svgWidth + "px");
                        this.svg.style("height", svgHeight + "px")
                    }
                }, this)
            }
        },
        render: function() {
            var self = this;
            this.svg = d3.select(this.element).selectAll("svg.rickshaw_range_slider_preview").data([null]);
            this.previewHeight = this.config.height - this.config.frameTopThickness * 2;
            this.previewWidth = this.config.width - this.config.frameHandleThickness * 2;
            this.currentFrame = [0, this.previewWidth];
            var buildGraph = function(parent, index) {
                var graphArgs = Rickshaw.extend({}, parent.config);
                var height = self.previewHeight / self.graphs.length;
                var renderer = parent.renderer.name;
                Rickshaw.extend(graphArgs, {
                    element: this.appendChild(document.createElement("div")),
                    height: height,
                    width: self.previewWidth,
                    series: parent.series,
                    renderer: renderer
                });
                var graph = new Rickshaw.Graph(graphArgs);
                self.previews.push(graph);
                parent.onUpdate(function() {
                    graph.render();
                    self.render()
                });
                parent.onConfigure(function(args) {
                    delete args.height;
                    args.width = args.width - self.config.frameHandleThickness * 2;
                    graph.configure(args);
                    graph.render()
                });
                graph.render()
            };
            var graphContainer = d3.select(this.element).selectAll("div.rickshaw_range_slider_preview_container").data(this.graphs);
            var translateCommand = "translate(" + this.config.frameHandleThickness + "px, " + this.config.frameTopThickness + "px)";
            graphContainer.enter().append("div").classed("rickshaw_range_slider_preview_container", true).style("-webkit-transform", translateCommand).style("-moz-transform", translateCommand).style("-ms-transform", translateCommand).style("transform", translateCommand).each(buildGraph);
            graphContainer.exit().remove();
            var masterGraph = this.graphs[0];
            var domainScale = d3.scale.linear().domain([0, this.previewWidth]).range(masterGraph.dataDomain());
            var currentWindow = [masterGraph.window.xMin, masterGraph.window.xMax];
            this.currentFrame[0] = currentWindow[0] === undefined ? 0 : Math.round(domainScale.invert(currentWindow[0]));
            if (this.currentFrame[0] < 0) this.currentFrame[0] = 0;
            this.currentFrame[1] = currentWindow[1] === undefined ? this.previewWidth : domainScale.invert(currentWindow[1]);
            if (this.currentFrame[1] - this.currentFrame[0] < self.config.minimumFrameWidth) {
                this.currentFrame[1] = (this.currentFrame[0] || 0) + self.config.minimumFrameWidth
            }
            this.svg.enter().append("svg").classed("rickshaw_range_slider_preview", true).style("height", this.config.height + "px").style("width", this.config.width + "px").style("position", "absolute").style("top", 0);
            this._renderDimming();
            this._renderFrame();
            this._renderGrippers();
            this._renderHandles();
            this._renderMiddle();
            this._registerMouseEvents()
        },
        _renderDimming: function() {
            var element = this.svg.selectAll("path.dimming").data([null]);
            element.enter().append("path").attr("fill", "white").attr("fill-opacity", "0.7").attr("fill-rule", "evenodd").classed("dimming", true);
            var path = "";
            path += " M " + this.config.frameHandleThickness + " " + this.config.frameTopThickness;
            path += " h " + this.previewWidth;
            path += " v " + this.previewHeight;
            path += " h " + -this.previewWidth;
            path += " z ";
            path += " M " + Math.max(this.currentFrame[0], this.config.frameHandleThickness) + " " + this.config.frameTopThickness;
            path += " H " + Math.min(this.currentFrame[1] + this.config.frameHandleThickness * 2, this.previewWidth + this.config.frameHandleThickness);
            path += " v " + this.previewHeight;
            path += " H " + Math.max(this.currentFrame[0], this.config.frameHandleThickness);
            path += " z";
            element.attr("d", path)
        },
        _renderFrame: function() {
            var element = this.svg.selectAll("path.frame").data([null]);
            element.enter().append("path").attr("stroke", "white").attr("stroke-width", "1px").attr("stroke-linejoin", "round").attr("fill", this.config.frameColor).attr("fill-opacity", this.config.frameOpacity).attr("fill-rule", "evenodd").classed("frame", true);
            var path = "";
            path += " M " + this.currentFrame[0] + " 0";
            path += " H " + (this.currentFrame[1] + this.config.frameHandleThickness * 2);
            path += " V " + this.config.height;
            path += " H " + this.currentFrame[0];
            path += " z";
            path += " M " + (this.currentFrame[0] + this.config.frameHandleThickness) + " " + this.config.frameTopThickness;
            path += " H " + (this.currentFrame[1] + this.config.frameHandleThickness);
            path += " v " + this.previewHeight;
            path += " H " + (this.currentFrame[0] + this.config.frameHandleThickness);
            path += " z";
            element.attr("d", path)
        },
        _renderGrippers: function() {
            var gripper = this.svg.selectAll("path.gripper").data([null]);
            gripper.enter().append("path").attr("stroke", this.config.gripperColor).classed("gripper", true);
            var path = "";
            [.4, .6].forEach(function(spacing) {
                path += " M " + Math.round(this.currentFrame[0] + this.config.frameHandleThickness * spacing) + " " + Math.round(this.config.height * .3);
                path += " V " + Math.round(this.config.height * .7);
                path += " M " + Math.round(this.currentFrame[1] + this.config.frameHandleThickness * (1 + spacing)) + " " + Math.round(this.config.height * .3);
                path += " V " + Math.round(this.config.height * .7)
            }.bind(this));
            gripper.attr("d", path)
        },
        _renderHandles: function() {
            var leftHandle = this.svg.selectAll("rect.left_handle").data([null]);
            leftHandle.enter().append("rect").attr("width", this.config.frameHandleThickness).style("cursor", "ew-resize").style("fill-opacity", "0").classed("left_handle", true);
            leftHandle.attr("x", this.currentFrame[0]).attr("height", this.config.height);
            var rightHandle = this.svg.selectAll("rect.right_handle").data([null]);
            rightHandle.enter().append("rect").attr("width", this.config.frameHandleThickness).style("cursor", "ew-resize").style("fill-opacity", "0").classed("right_handle", true);
            rightHandle.attr("x", this.currentFrame[1] + this.config.frameHandleThickness).attr("height", this.config.height)
        },
        _renderMiddle: function() {
            var middleHandle = this.svg.selectAll("rect.middle_handle").data([null]);
            middleHandle.enter().append("rect").style("cursor", "move").style("fill-opacity", "0").classed("middle_handle", true);
            middleHandle.attr("width", Math.max(0, this.currentFrame[1] - this.currentFrame[0])).attr("x", this.currentFrame[0] + this.config.frameHandleThickness).attr("height", this.config.height)
        },
        _registerMouseEvents: function() {
            var element = d3.select(this.element);
            var drag = {
                target: null,
                start: null,
                stop: null,
                left: false,
                right: false,
                rigid: false
            };
            var self = this;

            function onMousemove(datum, index) {
                drag.stop = self._getClientXFromEvent(d3.event, drag);
                var distanceTraveled = drag.stop - drag.start;
                var frameAfterDrag = self.frameBeforeDrag.slice(0);
                var minimumFrameWidth = self.config.minimumFrameWidth;
                if (drag.rigid) {
                    minimumFrameWidth = self.frameBeforeDrag[1] - self.frameBeforeDrag[0]
                }
                if (drag.left) {
                    frameAfterDrag[0] = Math.max(frameAfterDrag[0] + distanceTraveled, 0)
                }
                if (drag.right) {
                    frameAfterDrag[1] = Math.min(frameAfterDrag[1] + distanceTraveled, self.previewWidth)
                }
                var currentFrameWidth = frameAfterDrag[1] - frameAfterDrag[0];
                if (currentFrameWidth <= minimumFrameWidth) {
                    if (drag.left) {
                        frameAfterDrag[0] = frameAfterDrag[1] - minimumFrameWidth
                    }
                    if (drag.right) {
                        frameAfterDrag[1] = frameAfterDrag[0] + minimumFrameWidth
                    }
                    if (frameAfterDrag[0] <= 0) {
                        frameAfterDrag[1] -= frameAfterDrag[0];
                        frameAfterDrag[0] = 0
                    }
                    if (frameAfterDrag[1] >= self.previewWidth) {
                        frameAfterDrag[0] -= frameAfterDrag[1] - self.previewWidth;
                        frameAfterDrag[1] = self.previewWidth
                    }
                }
                self.graphs.forEach(function(graph) {
                    var domainScale = d3.scale.linear().interpolate(d3.interpolateNumber).domain([0, self.previewWidth]).range(graph.dataDomain());
                    var windowAfterDrag = [domainScale(frameAfterDrag[0]), domainScale(frameAfterDrag[1])];
                    self.slideCallbacks.forEach(function(callback) {
                        callback(graph, windowAfterDrag[0], windowAfterDrag[1])
                    });
                    if (frameAfterDrag[0] === 0) {
                        windowAfterDrag[0] = undefined
                    }
                    if (frameAfterDrag[1] === self.previewWidth) {
                        windowAfterDrag[1] = undefined
                    }
                    graph.window.xMin = windowAfterDrag[0];
                    graph.window.xMax = windowAfterDrag[1];
                    graph.update()
                })
            }

            function onMousedown() {
                drag.target = d3.event.target;
                drag.start = self._getClientXFromEvent(d3.event, drag);
                self.frameBeforeDrag = self.currentFrame.slice();
                d3.event.preventDefault ? d3.event.preventDefault() : d3.event.returnValue = false;
                d3.select(document).on("mousemove.rickshaw_range_slider_preview", onMousemove);
                d3.select(document).on("mouseup.rickshaw_range_slider_preview", onMouseup);
                d3.select(document).on("touchmove.rickshaw_range_slider_preview", onMousemove);
                d3.select(document).on("touchend.rickshaw_range_slider_preview", onMouseup);
                d3.select(document).on("touchcancel.rickshaw_range_slider_preview", onMouseup)
            }

            function onMousedownLeftHandle(datum, index) {
                drag.left = true;
                onMousedown()
            }

            function onMousedownRightHandle(datum, index) {
                drag.right = true;
                onMousedown()
            }

            function onMousedownMiddleHandle(datum, index) {
                drag.left = true;
                drag.right = true;
                drag.rigid = true;
                onMousedown()
            }

            function onMouseup(datum, index) {
                d3.select(document).on("mousemove.rickshaw_range_slider_preview", null);
                d3.select(document).on("mouseup.rickshaw_range_slider_preview", null);
                d3.select(document).on("touchmove.rickshaw_range_slider_preview", null);
                d3.select(document).on("touchend.rickshaw_range_slider_preview", null);
                d3.select(document).on("touchcancel.rickshaw_range_slider_preview", null);
                delete self.frameBeforeDrag;
                drag.left = false;
                drag.right = false;
                drag.rigid = false
            }
            element.select("rect.left_handle").on("mousedown", onMousedownLeftHandle);
            element.select("rect.right_handle").on("mousedown", onMousedownRightHandle);
            element.select("rect.middle_handle").on("mousedown", onMousedownMiddleHandle);
            element.select("rect.left_handle").on("touchstart", onMousedownLeftHandle);
            element.select("rect.right_handle").on("touchstart", onMousedownRightHandle);
            element.select("rect.middle_handle").on("touchstart", onMousedownMiddleHandle)
        },
        _getClientXFromEvent: function(event, drag) {
            switch (event.type) {
                case "touchstart":
                case "touchmove":
                    var touchList = event.changedTouches;
                    var touch = null;
                    for (var touchIndex = 0; touchIndex < touchList.length; touchIndex++) {
                        if (touchList[touchIndex].target === drag.target) {
                            touch = touchList[touchIndex];
                            break
                        }
                    }
                    return touch !== null ? touch.clientX : undefined;
                default:
                    return event.clientX
            }
        }
    });
    Rickshaw.namespace("Rickshaw.Graph.Renderer");
    Rickshaw.Graph.Renderer = Rickshaw.Class.create({
        initialize: function(args) {
            this.graph = args.graph;
            this.tension = args.tension || this.tension;
            this.configure(args)
        },
        seriesPathFactory: function() {},
        seriesStrokeFactory: function() {},
        defaults: function() {
            return {
                tension: .8,
                strokeWidth: 2,
                unstack: true,
                padding: {
                    top: .01,
                    right: 0,
                    bottom: .01,
                    left: 0
                },
                stroke: false,
                fill: false,
                opacity: 1
            }
        },
        domain: function(data) {
            var stackedData = data || this.graph.stackedData || this.graph.stackData();
            stackedData = stackedData.filter(function(a) {
                return a && a.length !== 0
            });
            var xMin = +Infinity;
            var xMax = -Infinity;
            var yMin = +Infinity;
            var yMax = -Infinity;
            stackedData.forEach(function(series) {
                series.forEach(function(d) {
                    if (d.y == null) return;
                    var y = d.y + d.y0;
                    if (y < yMin) yMin = y;
                    if (y > yMax) yMax = y
                });
                if (!series.length) return;
                if (series[0].x < xMin) xMin = series[0].x;
                if (series[series.length - 1].x > xMax) xMax = series[series.length - 1].x
            });
            xMin -= (xMax - xMin) * this.padding.left;
            xMax += (xMax - xMin) * this.padding.right;
            yMin = this.graph.min === "auto" ? yMin : this.graph.min || 0;
            yMax = this.graph.max === undefined ? yMax : this.graph.max;
            if (this.graph.min === "auto" || yMin < 0) {
                yMin -= (yMax - yMin) * this.padding.bottom
            }
            if (this.graph.max === undefined) {
                yMax += (yMax - yMin) * this.padding.top
            }
            return {
                x: [xMin, xMax],
                y: [yMin, yMax]
            }
        },
        render: function(args) {
            args = args || {};
            var graph = this.graph;
            var series = args.series || graph.series;
            var vis = args.vis || graph.vis;
            vis.selectAll("*").remove();
            var data = series.filter(function(s) {
                return !s.disabled
            }).map(function(s) {
                return s.stack
            });
            var pathNodes = vis.selectAll("path.path").data(data).enter().append("svg:path").classed("path", true).attr("d", this.seriesPathFactory());
            if (this.stroke) {
                var strokeNodes = vis.selectAll("path.stroke").data(data).enter().append("svg:path").classed("stroke", true).attr("d", this.seriesStrokeFactory())
            }
            var i = 0;
            series.forEach(function(series) {
                if (series.disabled) return;
                series.path = pathNodes[0][i];
                if (this.stroke) series.stroke = strokeNodes[0][i];
                this._styleSeries(series);
                i++
            }, this)
        },
        _styleSeries: function(series) {
            var fill = this.fill ? series.color : "none";
            var stroke = this.stroke ? series.color : "none";
            var strokeWidth = series.strokeWidth ? series.strokeWidth : this.strokeWidth;
            var opacity = series.opacity ? series.opacity : this.opacity;
            series.path.setAttribute("fill", fill);
            series.path.setAttribute("stroke", stroke);
            series.path.setAttribute("stroke-width", strokeWidth);
            series.path.setAttribute("opacity", opacity);
            if (series.className) {
                d3.select(series.path).classed(series.className, true)
            }
            if (series.className && this.stroke) {
                d3.select(series.stroke).classed(series.className, true)
            }
        },
        configure: function(args) {
            args = args || {};
            Rickshaw.keys(this.defaults()).forEach(function(key) {
                if (!args.hasOwnProperty(key)) {
                    this[key] = this[key] || this.graph[key] || this.defaults()[key];
                    return
                }
                if (typeof this.defaults()[key] == "object") {
                    Rickshaw.keys(this.defaults()[key]).forEach(function(k) {
                        this[key][k] = args[key][k] !== undefined ? args[key][k] : this[key][k] !== undefined ? this[key][k] : this.defaults()[key][k]
                    }, this)
                } else {
                    this[key] = args[key] !== undefined ? args[key] : this[key] !== undefined ? this[key] : this.graph[key] !== undefined ? this.graph[key] : this.defaults()[key]
                }
            }, this)
        },
        setStrokeWidth: function(strokeWidth) {
            if (strokeWidth !== undefined) {
                this.strokeWidth = strokeWidth
            }
        },
        setTension: function(tension) {
            if (tension !== undefined) {
                this.tension = tension
            }
        }
    });
    Rickshaw.namespace("Rickshaw.Graph.Renderer.Line");
    Rickshaw.Graph.Renderer.Line = Rickshaw.Class.create(Rickshaw.Graph.Renderer, {
        name: "line",
        defaults: function($super) {
            return Rickshaw.extend($super(), {
                unstack: true,
                fill: false,
                stroke: true
            })
        },
        seriesPathFactory: function() {
            var graph = this.graph;
            var factory = d3.svg.line().x(function(d) {
                return graph.x(d.x)
            }).y(function(d) {
                return graph.y(d.y)
            }).interpolate(this.graph.interpolation).tension(this.tension);
            factory.defined && factory.defined(function(d) {
                return d.y !== null
            });
            return factory
        }
    });
    Rickshaw.namespace("Rickshaw.Graph.Renderer.Stack");
    Rickshaw.Graph.Renderer.Stack = Rickshaw.Class.create(Rickshaw.Graph.Renderer, {
        name: "stack",
        defaults: function($super) {
            return Rickshaw.extend($super(), {
                fill: true,
                stroke: false,
                unstack: false
            })
        },
        seriesPathFactory: function() {
            var graph = this.graph;
            var factory = d3.svg.area().x(function(d) {
                return graph.x(d.x)
            }).y0(function(d) {
                return graph.y(d.y0)
            }).y1(function(d) {
                return graph.y(d.y + d.y0)
            }).interpolate(this.graph.interpolation).tension(this.tension);
            factory.defined && factory.defined(function(d) {
                return d.y !== null
            });
            return factory
        }
    });
    Rickshaw.namespace("Rickshaw.Graph.Renderer.Bar");
    Rickshaw.Graph.Renderer.Bar = Rickshaw.Class.create(Rickshaw.Graph.Renderer, {
        name: "bar",
        defaults: function($super) {
            var defaults = Rickshaw.extend($super(), {
                gapSize: .05,
                unstack: false,
                opacity: 1
            });
            delete defaults.tension;
            return defaults
        },
        initialize: function($super, args) {
            args = args || {};
            this.gapSize = args.gapSize || this.gapSize;
            $super(args)
        },
        domain: function($super) {
            var domain = $super();
            var frequentInterval = this._frequentInterval(this.graph.stackedData.slice(-1).shift());
            domain.x[1] += Number(frequentInterval.magnitude);
            return domain
        },
        barWidth: function(series) {
            var frequentInterval = this._frequentInterval(series.stack);
            var barWidth = this.graph.x.magnitude(frequentInterval.magnitude) * (1 - this.gapSize);
            return barWidth
        },
        render: function(args) {
            args = args || {};
            var graph = this.graph;
            var series = args.series || graph.series;
            var vis = args.vis || graph.vis;
            vis.selectAll("*").remove();
            var barWidth = this.barWidth(series.active()[0]);
            var barXOffset = 0;
            var activeSeriesCount = series.filter(function(s) {
                return !s.disabled
            }).length;
            var seriesBarWidth = this.unstack ? barWidth / activeSeriesCount : barWidth;
            var transform = function(d) {
                var matrix = [1, 0, 0, d.y < 0 ? -1 : 1, 0, d.y < 0 ? graph.y.magnitude(Math.abs(d.y)) * 2 : 0];
                return "matrix(" + matrix.join(",") + ")"
            };
            series.forEach(function(series) {
                if (series.disabled) return;
                var barWidth = this.barWidth(series);
                var nodes = vis.selectAll("path").data(series.stack.filter(function(d) {
                    return d.y !== null
                })).enter().append("svg:rect").attr("x", function(d) {
                    return graph.x(d.x) + barXOffset
                }).attr("y", function(d) {
                    return graph.y(d.y0 + Math.abs(d.y)) * (d.y < 0 ? -1 : 1)
                }).attr("width", seriesBarWidth).attr("height", function(d) {
                    return graph.y.magnitude(Math.abs(d.y))
                }).attr("opacity", series.opacity).attr("transform", transform);
                Array.prototype.forEach.call(nodes[0], function(n) {
                    n.setAttribute("fill", series.color)
                });
                if (this.unstack) barXOffset += seriesBarWidth
            }, this)
        },
        _frequentInterval: function(data) {
            var intervalCounts = {};
            for (var i = 0; i < data.length - 1; i++) {
                var interval = data[i + 1].x - data[i].x;
                intervalCounts[interval] = intervalCounts[interval] || 0;
                intervalCounts[interval]++
            }
            var frequentInterval = {
                count: 0,
                magnitude: 1
            };
            var keysSorted = Rickshaw.keys(intervalCounts).sort(function asc(a, b) {
                return Number(a) - Number(b)
            });
            keysSorted.forEach(function(i) {
                if (frequentInterval.count < intervalCounts[i]) {
                    frequentInterval = {
                        count: intervalCounts[i],
                        magnitude: i
                    }
                }
            });
            return frequentInterval
        }
    });
    Rickshaw.namespace("Rickshaw.Graph.Renderer.Area");
    Rickshaw.Graph.Renderer.Area = Rickshaw.Class.create(Rickshaw.Graph.Renderer, {
        name: "area",
        defaults: function($super) {
            return Rickshaw.extend($super(), {
                unstack: false,
                fill: false,
                stroke: false
            })
        },
        seriesPathFactory: function() {
            var graph = this.graph;
            var factory = d3.svg.area().x(function(d) {
                return graph.x(d.x)
            }).y0(function(d) {
                return graph.y(d.y0)
            }).y1(function(d) {
                return graph.y(d.y + d.y0)
            }).interpolate(graph.interpolation).tension(this.tension);
            factory.defined && factory.defined(function(d) {
                return d.y !== null
            });
            return factory
        },
        seriesStrokeFactory: function() {
            var graph = this.graph;
            var factory = d3.svg.line().x(function(d) {
                return graph.x(d.x)
            }).y(function(d) {
                return graph.y(d.y + d.y0)
            }).interpolate(graph.interpolation).tension(this.tension);
            factory.defined && factory.defined(function(d) {
                return d.y !== null
            });
            return factory
        },
        render: function(args) {
            args = args || {};
            var graph = this.graph;
            var series = args.series || graph.series;
            var vis = args.vis || graph.vis;
            vis.selectAll("*").remove();
            var method = this.unstack ? "append" : "insert";
            var data = series.filter(function(s) {
                return !s.disabled
            }).map(function(s) {
                return s.stack
            });
            var nodes = vis.selectAll("path").data(data).enter()[method]("svg:g", "g");
            nodes.append("svg:path").attr("d", this.seriesPathFactory()).attr("class", "area");
            if (this.stroke) {
                nodes.append("svg:path").attr("d", this.seriesStrokeFactory()).attr("class", "line")
            }
            var i = 0;
            series.forEach(function(series) {
                if (series.disabled) return;
                series.path = nodes[0][i++];
                this._styleSeries(series)
            }, this)
        },
        _styleSeries: function(series) {
            if (!series.path) return;
            d3.select(series.path).select(".area").attr("fill", series.color);
            if (this.stroke) {
                d3.select(series.path).select(".line").attr("fill", "none").attr("stroke", series.stroke || d3.interpolateRgb(series.color, "black")(.125)).attr("stroke-width", this.strokeWidth)
            }
            if (series.className) {
                series.path.setAttribute("class", series.className)
            }
        }
    });
    Rickshaw.namespace("Rickshaw.Graph.Renderer.ScatterPlot");
    Rickshaw.Graph.Renderer.ScatterPlot = Rickshaw.Class.create(Rickshaw.Graph.Renderer, {
        name: "scatterplot",
        defaults: function($super) {
            return Rickshaw.extend($super(), {
                unstack: true,
                fill: true,
                stroke: false,
                padding: {
                    top: .01,
                    right: .01,
                    bottom: .01,
                    left: .01
                },
                dotSize: 4
            })
        },
        initialize: function($super, args) {
            $super(args)
        },
        render: function(args) {
            args = args || {};
            var graph = this.graph;
            var series = args.series || graph.series;
            var vis = args.vis || graph.vis;
            var dotSize = this.dotSize;
            vis.selectAll("*").remove();
            series.forEach(function(series) {
                if (series.disabled) return;
                var opacity = series.opacity ? series.opacity : 1;
                var nodes = vis.selectAll("path").data(series.stack.filter(function(d) {
                    return d.y !== null
                })).enter().append("svg:circle").attr("cx", function(d) {
                    return graph.x(d.x)
                }).attr("cy", function(d) {
                    return graph.y(d.y)
                }).attr("r", function(d) {
                    return "r" in d ? d.r : dotSize
                }).attr("opacity", function(d) {
                    return "opacity" in d ? d.opacity : opacity
                });
                if (series.className) {
                    nodes.classed(series.className, true)
                }
                Array.prototype.forEach.call(nodes[0], function(n) {
                    n.setAttribute("fill", series.color)
                })
            }, this)
        }
    });
    Rickshaw.namespace("Rickshaw.Graph.Renderer.Multi");
    Rickshaw.Graph.Renderer.Multi = Rickshaw.Class.create(Rickshaw.Graph.Renderer, {
        name: "multi",
        initialize: function($super, args) {
            $super(args)
        },
        defaults: function($super) {
            return Rickshaw.extend($super(), {
                unstack: true,
                fill: false,
                stroke: true
            })
        },
        configure: function($super, args) {
            args = args || {};
            this.config = args;
            $super(args)
        },
        domain: function($super) {
            this.graph.stackData();
            var domains = [];
            var groups = this._groups();
            this._stack(groups);
            groups.forEach(function(group) {
                var data = group.series.filter(function(s) {
                    return !s.disabled
                }).map(function(s) {
                    return s.stack
                });
                if (!data.length) return;
                var domain = null;
                if (group.renderer && group.renderer.domain) {
                    domain = group.renderer.domain(data)
                } else {
                    domain = $super(data)
                }
                domains.push(domain)
            });
            var xMin = d3.min(domains.map(function(d) {
                return d.x[0]
            }));
            var xMax = d3.max(domains.map(function(d) {
                return d.x[1]
            }));
            var yMin = d3.min(domains.map(function(d) {
                return d.y[0]
            }));
            var yMax = d3.max(domains.map(function(d) {
                return d.y[1]
            }));
            return {
                x: [xMin, xMax],
                y: [yMin, yMax]
            }
        },
        _groups: function() {
            var graph = this.graph;
            var renderGroups = {};
            graph.series.forEach(function(series) {
                if (series.disabled) return;
                if (!renderGroups[series.renderer]) {
                    var ns = "http://www.w3.org/2000/svg";
                    var vis = document.createElementNS(ns, "g");
                    graph.vis[0][0].appendChild(vis);
                    var renderer = graph._renderers[series.renderer];
                    var config = {};
                    var defaults = [this.defaults(), renderer.defaults(), this.config, this.graph];
                    defaults.forEach(function(d) {
                        Rickshaw.extend(config, d)
                    });
                    renderer.configure(config);
                    renderGroups[series.renderer] = {
                        renderer: renderer,
                        series: [],
                        vis: d3.select(vis)
                    }
                }
                renderGroups[series.renderer].series.push(series)
            }, this);
            var groups = [];
            Object.keys(renderGroups).forEach(function(key) {
                var group = renderGroups[key];
                groups.push(group)
            });
            return groups
        },
        _stack: function(groups) {
            groups.forEach(function(group) {
                var series = group.series.filter(function(series) {
                    return !series.disabled
                });
                var data = series.map(function(series) {
                    return series.stack
                });
                if (!group.renderer.unstack) {
                    var layout = d3.layout.stack();
                    var stackedData = Rickshaw.clone(layout(data));
                    series.forEach(function(series, index) {
                        series._stack = Rickshaw.clone(stackedData[index])
                    })
                }
            }, this);
            return groups
        },
        render: function() {
            this.graph.series.forEach(function(series) {
                if (!series.renderer) {
                    throw new Error("Each series needs a renderer for graph 'multi' renderer")
                }
            });
            this.graph.vis.selectAll("*").remove();
            var groups = this._groups();
            groups = this._stack(groups);
            groups.forEach(function(group) {
                var series = group.series.filter(function(series) {
                    return !series.disabled
                });
                series.active = function() {
                    return series
                };
                group.renderer.render({
                    series: series,
                    vis: group.vis
                });
                series.forEach(function(s) {
                    s.stack = s._stack || s.stack || s.data
                })
            })
        }
    });
    Rickshaw.namespace("Rickshaw.Graph.Renderer.LinePlot");
    Rickshaw.Graph.Renderer.LinePlot = Rickshaw.Class.create(Rickshaw.Graph.Renderer, {
        name: "lineplot",
        defaults: function($super) {
            return Rickshaw.extend($super(), {
                unstack: true,
                fill: false,
                stroke: true,
                padding: {
                    top: .01,
                    right: .01,
                    bottom: .01,
                    left: .01
                },
                dotSize: 3,
                strokeWidth: 2
            })
        },
        seriesPathFactory: function() {
            var graph = this.graph;
            var factory = d3.svg.line().x(function(d) {
                return graph.x(d.x)
            }).y(function(d) {
                return graph.y(d.y)
            }).interpolate(this.graph.interpolation).tension(this.tension);
            factory.defined && factory.defined(function(d) {
                return d.y !== null
            });
            return factory
        },
        render: function(args) {
            args = args || {};
            var graph = this.graph;
            var series = args.series || graph.series;
            var vis = args.vis || graph.vis;
            var dotSize = this.dotSize;
            vis.selectAll("*").remove();
            var data = series.filter(function(s) {
                return !s.disabled
            }).map(function(s) {
                return s.stack
            });
            var nodes = vis.selectAll("path").data(data).enter().append("svg:path").attr("d", this.seriesPathFactory());
            var i = 0;
            series.forEach(function(series) {
                if (series.disabled) return;
                series.path = nodes[0][i++];
                this._styleSeries(series)
            }, this);
            series.forEach(function(series) {
                if (series.disabled) return;
                var nodes = vis.selectAll("x").data(series.stack.filter(function(d) {
                    return d.y !== null
                })).enter().append("svg:circle").attr("cx", function(d) {
                    return graph.x(d.x)
                }).attr("cy", function(d) {
                    return graph.y(d.y)
                }).attr("r", function(d) {
                    return "r" in d ? d.r : dotSize
                });
                Array.prototype.forEach.call(nodes[0], function(n) {
                    if (!n) return;
                    n.setAttribute("data-color", series.color);
                    n.setAttribute("fill", "white");
                    n.setAttribute("stroke", series.color);
                    n.setAttribute("stroke-width", this.strokeWidth)
                }.bind(this))
            }, this)
        }
    });
    Rickshaw.namespace("Rickshaw.Graph.Smoother");
    Rickshaw.Graph.Smoother = Rickshaw.Class.create({
        initialize: function(args) {
            this.graph = args.graph;
            this.element = args.element;
            this.aggregationScale = 1;
            this.build();
            this.graph.stackData.hooks.data.push({
                name: "smoother",
                orderPosition: 50,
                f: this.transformer.bind(this)
            })
        },
        build: function() {
            var self = this;
            var $ = jQuery;
            if (this.element) {
                $(function() {
                    $(self.element).slider({
                        min: 1,
                        max: 100,
                        slide: function(event, ui) {
                            self.setScale(ui.value)
                        }
                    })
                })
            }
        },
        setScale: function(scale) {
            if (scale < 1) {
                throw "scale out of range: " + scale
            }
            this.aggregationScale = scale;
            this.graph.update()
        },
        transformer: function(data) {
            if (this.aggregationScale == 1) return data;
            var aggregatedData = [];
            data.forEach(function(seriesData) {
                var aggregatedSeriesData = [];
                while (seriesData.length) {
                    var avgX = 0,
                        avgY = 0;
                    var slice = seriesData.splice(0, this.aggregationScale);
                    slice.forEach(function(d) {
                        avgX += d.x / slice.length;
                        avgY += d.y / slice.length
                    });
                    aggregatedSeriesData.push({
                        x: avgX,
                        y: avgY
                    })
                }
                aggregatedData.push(aggregatedSeriesData)
            }.bind(this));
            return aggregatedData
        }
    });
    Rickshaw.namespace("Rickshaw.Graph.Socketio");
    Rickshaw.Graph.Socketio = Rickshaw.Class.create(Rickshaw.Graph.Ajax, {
        request: function() {
            var socket = io.connect(this.dataURL);
            var self = this;
            socket.on("rickshaw", function(data) {
                self.success(data)
            })
        }
    });
    Rickshaw.namespace("Rickshaw.Series");
    Rickshaw.Series = Rickshaw.Class.create(Array, {
        initialize: function(data, palette, options) {
            options = options || {};
            this.palette = new Rickshaw.Color.Palette(palette);
            this.timeBase = typeof options.timeBase === "undefined" ? Math.floor((new Date).getTime() / 1e3) : options.timeBase;
            var timeInterval = typeof options.timeInterval == "undefined" ? 1e3 : options.timeInterval;
            this.setTimeInterval(timeInterval);
            if (data && typeof data == "object" && Array.isArray(data)) {
                data.forEach(function(item) {
                    this.addItem(item)
                }, this)
            }
        },
        addItem: function(item) {
            if (typeof item.name === "undefined") {
                throw "addItem() needs a name"
            }
            item.color = item.color || this.palette.color(item.name);
            item.data = item.data || [];
            if (item.data.length === 0 && this.length && this.getIndex() > 0) {
                this[0].data.forEach(function(plot) {
                    item.data.push({
                        x: plot.x,
                        y: 0
                    })
                })
            } else if (item.data.length === 0) {
                item.data.push({
                    x: this.timeBase - (this.timeInterval || 0),
                    y: 0
                })
            }
            this.push(item);
            if (this.legend) {
                this.legend.addLine(this.itemByName(item.name))
            }
        },
        addData: function(data, x) {
            var index = this.getIndex();
            Rickshaw.keys(data).forEach(function(name) {
                if (!this.itemByName(name)) {
                    this.addItem({
                        name: name
                    })
                }
            }, this);
            this.forEach(function(item) {
                item.data.push({
                    x: x || (index * this.timeInterval || 1) + this.timeBase,
                    y: data[item.name] || 0
                })
            }, this)
        },
        getIndex: function() {
            return this[0] && this[0].data && this[0].data.length ? this[0].data.length : 0
        },
        itemByName: function(name) {
            for (var i = 0; i < this.length; i++) {
                if (this[i].name == name) return this[i]
            }
        },
        setTimeInterval: function(iv) {
            this.timeInterval = iv / 1e3
        },
        setTimeBase: function(t) {
            this.timeBase = t
        },
        dump: function() {
            var data = {
                timeBase: this.timeBase,
                timeInterval: this.timeInterval,
                items: []
            };
            this.forEach(function(item) {
                var newItem = {
                    color: item.color,
                    name: item.name,
                    data: []
                };
                item.data.forEach(function(plot) {
                    newItem.data.push({
                        x: plot.x,
                        y: plot.y
                    })
                });
                data.items.push(newItem)
            });
            return data
        },
        load: function(data) {
            if (data.timeInterval) {
                this.timeInterval = data.timeInterval
            }
            if (data.timeBase) {
                this.timeBase = data.timeBase
            }
            if (data.items) {
                data.items.forEach(function(item) {
                    this.push(item);
                    if (this.legend) {
                        this.legend.addLine(this.itemByName(item.name))
                    }
                }, this)
            }
        }
    });
    Rickshaw.Series.zeroFill = function(series) {
        Rickshaw.Series.fill(series, 0)
    };
    Rickshaw.Series.fill = function(series, fill) {
        var x;
        var i = 0;
        var data = series.map(function(s) {
            return s.data
        });
        while (i < Math.max.apply(null, data.map(function(d) {
                return d.length
            }))) {
            x = Math.min.apply(null, data.filter(function(d) {
                return d[i]
            }).map(function(d) {
                return d[i].x
            }));
            data.forEach(function(d) {
                if (!d[i] || d[i].x != x) {
                    d.splice(i, 0, {
                        x: x,
                        y: fill
                    })
                }
            });
            i++
        }
    };
    Rickshaw.namespace("Rickshaw.Series.FixedDuration");
    Rickshaw.Series.FixedDuration = Rickshaw.Class.create(Rickshaw.Series, {
        initialize: function(data, palette, options) {
            options = options || {};
            if (typeof options.timeInterval === "undefined") {
                throw new Error("FixedDuration series requires timeInterval")
            }
            if (typeof options.maxDataPoints === "undefined") {
                throw new Error("FixedDuration series requires maxDataPoints")
            }
            this.palette = new Rickshaw.Color.Palette(palette);
            this.timeBase = typeof options.timeBase === "undefined" ? Math.floor((new Date).getTime() / 1e3) : options.timeBase;
            this.setTimeInterval(options.timeInterval);
            if (this[0] && this[0].data && this[0].data.length) {
                this.currentSize = this[0].data.length;
                this.currentIndex = this[0].data.length
            } else {
                this.currentSize = 0;
                this.currentIndex = 0
            }
            this.maxDataPoints = options.maxDataPoints;
            if (data && typeof data == "object" && Array.isArray(data)) {
                data.forEach(function(item) {
                    this.addItem(item)
                }, this);
                this.currentSize += 1;
                this.currentIndex += 1
            }
            this.timeBase -= (this.maxDataPoints - this.currentSize) * this.timeInterval;
            if (typeof this.maxDataPoints !== "undefined" && this.currentSize < this.maxDataPoints) {
                for (var i = this.maxDataPoints - this.currentSize - 1; i > 1; i--) {
                    this.currentSize += 1;
                    this.currentIndex += 1;
                    this.forEach(function(item) {
                        item.data.unshift({
                            x: ((i - 1) * this.timeInterval || 1) + this.timeBase,
                            y: 0,
                            i: i
                        })
                    }, this)
                }
            }
        },
        addData: function($super, data, x) {
            $super(data, x);
            this.currentSize += 1;
            this.currentIndex += 1;
            if (this.maxDataPoints !== undefined) {
                while (this.currentSize > this.maxDataPoints) {
                    this.dropData()
                }
            }
        },
        dropData: function() {
            this.forEach(function(item) {
                item.data.splice(0, 1)
            });
            this.currentSize -= 1
        },
        getIndex: function() {
            return this.currentIndex
        }
    });
    return Rickshaw
});
! function(t, e) {
    "use strict";
    if ("undefined" != typeof module && module.exports) {
        var n = "undefined" != typeof process,
            o = n && "electron" in process.versions;
        o ? t.BootstrapDialog = e(t.jQuery) : module.exports = e(require("jquery"), require("bootstrap"))
    } else "function" == typeof define && define.amd ? define("bootstrap-dialog", ["jquery", "bootstrap"], function(t) {
        return e(t)
    }) : t.BootstrapDialog = e(t.jQuery)
}(this, function(t) {
    "use strict";
    var e = t.fn.modal.Constructor,
        n = function(t, n) {
            e.call(this, t, n)
        };
    n.getModalVersion = function() {
        var e = null;
        return e = "undefined" == typeof t.fn.modal.Constructor.VERSION ? "v3.1" : /3\.2\.\d+/.test(t.fn.modal.Constructor.VERSION) ? "v3.2" : /3\.3\.[1,2]/.test(t.fn.modal.Constructor.VERSION) ? "v3.3" : "v3.3.4"
    }, n.ORIGINAL_BODY_PADDING = parseInt(t("body").css("padding-right") || 0, 10), n.METHODS_TO_OVERRIDE = {}, n.METHODS_TO_OVERRIDE["v3.1"] = {}, n.METHODS_TO_OVERRIDE["v3.2"] = {
        hide: function(e) {
            if (e && e.preventDefault(), e = t.Event("hide.bs.modal"), this.$element.trigger(e), this.isShown && !e.isDefaultPrevented()) {
                this.isShown = !1;
                var n = this.getGlobalOpenedDialogs();
                0 === n.length && this.$body.removeClass("modal-open"), this.resetScrollbar(), this.escape(), t(document).off("focusin.bs.modal"), this.$element.removeClass("in").attr("aria-hidden", !0).off("click.dismiss.bs.modal"), t.support.transition && this.$element.hasClass("fade") ? this.$element.one("bsTransitionEnd", t.proxy(this.hideModal, this)).emulateTransitionEnd(300) : this.hideModal()
            }
        }
    }, n.METHODS_TO_OVERRIDE["v3.3"] = {
        setScrollbar: function() {
            var t = n.ORIGINAL_BODY_PADDING;
            this.bodyIsOverflowing && this.$body.css("padding-right", t + this.scrollbarWidth)
        },
        resetScrollbar: function() {
            var t = this.getGlobalOpenedDialogs();
            0 === t.length && this.$body.css("padding-right", n.ORIGINAL_BODY_PADDING)
        },
        hideModal: function() {
            this.$element.hide(), this.backdrop(t.proxy(function() {
                var t = this.getGlobalOpenedDialogs();
                0 === t.length && this.$body.removeClass("modal-open"), this.resetAdjustments(), this.resetScrollbar(), this.$element.trigger("hidden.bs.modal")
            }, this))
        }
    }, n.METHODS_TO_OVERRIDE["v3.3.4"] = t.extend({}, n.METHODS_TO_OVERRIDE["v3.3"]), n.prototype = {
        constructor: n,
        getGlobalOpenedDialogs: function() {
            var e = [];
            return t.each(o.dialogs, function(t, n) {
                n.isRealized() && n.isOpened() && e.push(n)
            }), e
        }
    }, n.prototype = t.extend(n.prototype, e.prototype, n.METHODS_TO_OVERRIDE[n.getModalVersion()]);
    var o = function(e) {
        this.defaultOptions = t.extend(!0, {
            id: o.newGuid(),
            buttons: [],
            data: {},
            onshow: null,
            onshown: null,
            onhide: null,
            onhidden: null
        }, o.defaultOptions), this.indexedButtons = {}, this.registeredButtonHotkeys = {}, this.draggableData = {
            isMouseDown: !1,
            mouseOffset: {}
        }, this.realized = !1, this.opened = !1, this.initOptions(e), this.holdThisInstance()
    };
    return o.BootstrapDialogModal = n, o.NAMESPACE = "bootstrap-dialog", o.TYPE_DEFAULT = "type-default", o.TYPE_INFO = "type-info", o.TYPE_PRIMARY = "type-primary", o.TYPE_SUCCESS = "type-success", o.TYPE_WARNING = "type-warning", o.TYPE_DANGER = "type-danger", o.DEFAULT_TEXTS = {}, o.DEFAULT_TEXTS[o.TYPE_DEFAULT] = "Information", o.DEFAULT_TEXTS[o.TYPE_INFO] = "Information", o.DEFAULT_TEXTS[o.TYPE_PRIMARY] = "Information", o.DEFAULT_TEXTS[o.TYPE_SUCCESS] = "Success", o.DEFAULT_TEXTS[o.TYPE_WARNING] = "Warning", o.DEFAULT_TEXTS[o.TYPE_DANGER] = "Danger", o.DEFAULT_TEXTS.OK = "OK", o.DEFAULT_TEXTS.CANCEL = "Cancel", o.DEFAULT_TEXTS.CONFIRM = "Confirmation", o.SIZE_NORMAL = "size-normal", o.SIZE_SMALL = "size-small", o.SIZE_WIDE = "size-wide", o.SIZE_LARGE = "size-large", o.BUTTON_SIZES = {}, o.BUTTON_SIZES[o.SIZE_NORMAL] = "", o.BUTTON_SIZES[o.SIZE_SMALL] = "", o.BUTTON_SIZES[o.SIZE_WIDE] = "", o.BUTTON_SIZES[o.SIZE_LARGE] = "btn-lg", o.ICON_SPINNER = "glyphicon glyphicon-asterisk", o.defaultOptions = {
        type: o.TYPE_PRIMARY,
        size: o.SIZE_NORMAL,
        cssClass: "",
        title: null,
        message: null,
        nl2br: !0,
        closable: !0,
        closeByBackdrop: !0,
        closeByKeyboard: !0,
        spinicon: o.ICON_SPINNER,
        autodestroy: !0,
        draggable: !1,
        animate: !0,
        description: "",
        tabindex: -1
    }, o.configDefaultOptions = function(e) {
        o.defaultOptions = t.extend(!0, o.defaultOptions, e)
    }, o.dialogs = {}, o.openAll = function() {
        t.each(o.dialogs, function(t, e) {
            e.open()
        })
    }, o.closeAll = function() {
        t.each(o.dialogs, function(t, e) {
            e.close()
        })
    }, o.getDialog = function(t) {
        var e = null;
        return "undefined" != typeof o.dialogs[t] && (e = o.dialogs[t]), e
    }, o.setDialog = function(t) {
        return o.dialogs[t.getId()] = t, t
    }, o.addDialog = function(t) {
        return o.setDialog(t)
    }, o.moveFocus = function() {
        var e = null;
        t.each(o.dialogs, function(t, n) {
            e = n
        }), null !== e && e.isRealized() && e.getModal().focus()
    }, o.METHODS_TO_OVERRIDE = {}, o.METHODS_TO_OVERRIDE["v3.1"] = {
        handleModalBackdropEvent: function() {
            return this.getModal().on("click", {
                dialog: this
            }, function(t) {
                t.target === this && t.data.dialog.isClosable() && t.data.dialog.canCloseByBackdrop() && t.data.dialog.close()
            }), this
        },
        updateZIndex: function() {
            var e = 1040,
                n = 1050,
                i = 0;
            t.each(o.dialogs, function(t, e) {
                i++
            });
            var s = this.getModal(),
                a = s.data("bs.modal").$backdrop;
            return s.css("z-index", n + 20 * (i - 1)), a.css("z-index", e + 20 * (i - 1)), this
        },
        open: function() {
            return !this.isRealized() && this.realize(), this.getModal().modal("show"), this.updateZIndex(), this
        }
    }, o.METHODS_TO_OVERRIDE["v3.2"] = {
        handleModalBackdropEvent: o.METHODS_TO_OVERRIDE["v3.1"].handleModalBackdropEvent,
        updateZIndex: o.METHODS_TO_OVERRIDE["v3.1"].updateZIndex,
        open: o.METHODS_TO_OVERRIDE["v3.1"].open
    }, o.METHODS_TO_OVERRIDE["v3.3"] = {}, o.METHODS_TO_OVERRIDE["v3.3.4"] = t.extend({}, o.METHODS_TO_OVERRIDE["v3.1"]), o.prototype = {
        constructor: o,
        initOptions: function(e) {
            return this.options = t.extend(!0, this.defaultOptions, e), this
        },
        holdThisInstance: function() {
            return o.addDialog(this), this
        },
        initModalStuff: function() {
            return this.setModal(this.createModal()).setModalDialog(this.createModalDialog()).setModalContent(this.createModalContent()).setModalHeader(this.createModalHeader()).setModalBody(this.createModalBody()).setModalFooter(this.createModalFooter()), this.getModal().append(this.getModalDialog()), this.getModalDialog().append(this.getModalContent()), this.getModalContent().append(this.getModalHeader()).append(this.getModalBody()).append(this.getModalFooter()), this
        },
        createModal: function() {
            var e = t('<div class="modal" role="dialog" aria-hidden="true"></div>');
            return e.prop("id", this.getId()), e.attr("aria-labelledby", this.getId() + "_title"), e
        },
        getModal: function() {
            return this.$modal
        },
        setModal: function(t) {
            return this.$modal = t, this
        },
        createModalDialog: function() {
            return t('<div class="modal-dialog"></div>')
        },
        getModalDialog: function() {
            return this.$modalDialog
        },
        setModalDialog: function(t) {
            return this.$modalDialog = t, this
        },
        createModalContent: function() {
            return t('<div class="modal-content"></div>')
        },
        getModalContent: function() {
            return this.$modalContent
        },
        setModalContent: function(t) {
            return this.$modalContent = t, this
        },
        createModalHeader: function() {
            return t('<div class="modal-header"></div>')
        },
        getModalHeader: function() {
            return this.$modalHeader
        },
        setModalHeader: function(t) {
            return this.$modalHeader = t, this
        },
        createModalBody: function() {
            return t('<div class="modal-body"></div>')
        },
        getModalBody: function() {
            return this.$modalBody
        },
        setModalBody: function(t) {
            return this.$modalBody = t, this
        },
        createModalFooter: function() {
            return t('<div class="modal-footer"></div>')
        },
        getModalFooter: function() {
            return this.$modalFooter
        },
        setModalFooter: function(t) {
            return this.$modalFooter = t, this
        },
        createDynamicContent: function(t) {
            var e = null;
            return e = "function" == typeof t ? t.call(t, this) : t, "string" == typeof e && (e = this.formatStringContent(e)), e
        },
        formatStringContent: function(t) {
            return this.options.nl2br ? t.replace(/\r\n/g, "<br />").replace(/[\r\n]/g, "<br />") : t
        },
        setData: function(t, e) {
            return this.options.data[t] = e, this
        },
        getData: function(t) {
            return this.options.data[t]
        },
        setId: function(t) {
            return this.options.id = t, this
        },
        getId: function() {
            return this.options.id
        },
        getType: function() {
            return this.options.type
        },
        setType: function(t) {
            return this.options.type = t, this.updateType(), this
        },
        updateType: function() {
            if (this.isRealized()) {
                var t = [o.TYPE_DEFAULT, o.TYPE_INFO, o.TYPE_PRIMARY, o.TYPE_SUCCESS, o.TYPE_WARNING, o.TYPE_DANGER];
                this.getModal().removeClass(t.join(" ")).addClass(this.getType())
            }
            return this
        },
        getSize: function() {
            return this.options.size
        },
        setSize: function(t) {
            return this.options.size = t, this.updateSize(), this
        },
        updateSize: function() {
            if (this.isRealized()) {
                var e = this;
                this.getModal().removeClass(o.SIZE_NORMAL).removeClass(o.SIZE_SMALL).removeClass(o.SIZE_WIDE).removeClass(o.SIZE_LARGE), this.getModal().addClass(this.getSize()), this.getModalDialog().removeClass("modal-sm"), this.getSize() === o.SIZE_SMALL && this.getModalDialog().addClass("modal-sm"), this.getModalDialog().removeClass("modal-lg"), this.getSize() === o.SIZE_WIDE && this.getModalDialog().addClass("modal-lg"), t.each(this.options.buttons, function(n, o) {
                    var i = e.getButton(o.id),
                        s = ["btn-lg", "btn-sm", "btn-xs"],
                        a = !1;
                    if ("string" == typeof o.cssClass) {
                        var d = o.cssClass.split(" ");
                        t.each(d, function(e, n) {
                            -1 !== t.inArray(n, s) && (a = !0)
                        })
                    }
                    a || (i.removeClass(s.join(" ")), i.addClass(e.getButtonSize()))
                })
            }
            return this
        },
        getCssClass: function() {
            return this.options.cssClass
        },
        setCssClass: function(t) {
            return this.options.cssClass = t, this
        },
        getTitle: function() {
            return this.options.title
        },
        setTitle: function(t) {
            return this.options.title = t, this.updateTitle(), this
        },
        updateTitle: function() {
            if (this.isRealized()) {
                var t = null !== this.getTitle() ? this.createDynamicContent(this.getTitle()) : this.getDefaultText();
                this.getModalHeader().find("." + this.getNamespace("title")).html("").append(t).prop("id", this.getId() + "_title")
            }
            return this
        },
        getMessage: function() {
            return this.options.message
        },
        setMessage: function(t) {
            return this.options.message = t, this.updateMessage(), this
        },
        updateMessage: function() {
            if (this.isRealized()) {
                var t = this.createDynamicContent(this.getMessage());
                this.getModalBody().find("." + this.getNamespace("message")).html("").append(t)
            }
            return this
        },
        isClosable: function() {
            return this.options.closable
        },
        setClosable: function(t) {
            return this.options.closable = t, this.updateClosable(), this
        },
        setCloseByBackdrop: function(t) {
            return this.options.closeByBackdrop = t, this
        },
        canCloseByBackdrop: function() {
            return this.options.closeByBackdrop
        },
        setCloseByKeyboard: function(t) {
            return this.options.closeByKeyboard = t, this
        },
        canCloseByKeyboard: function() {
            return this.options.closeByKeyboard
        },
        isAnimate: function() {
            return this.options.animate
        },
        setAnimate: function(t) {
            return this.options.animate = t, this
        },
        updateAnimate: function() {
            return this.isRealized() && this.getModal().toggleClass("fade", this.isAnimate()), this
        },
        getSpinicon: function() {
            return this.options.spinicon
        },
        setSpinicon: function(t) {
            return this.options.spinicon = t, this
        },
        addButton: function(t) {
            return this.options.buttons.push(t), this
        },
        addButtons: function(e) {
            var n = this;
            return t.each(e, function(t, e) {
                n.addButton(e)
            }), this
        },
        getButtons: function() {
            return this.options.buttons
        },
        setButtons: function(t) {
            return this.options.buttons = t, this.updateButtons(), this
        },
        getButton: function(t) {
            return "undefined" != typeof this.indexedButtons[t] ? this.indexedButtons[t] : null
        },
        getButtonSize: function() {
            return "undefined" != typeof o.BUTTON_SIZES[this.getSize()] ? o.BUTTON_SIZES[this.getSize()] : ""
        },
        updateButtons: function() {
            return this.isRealized() && (0 === this.getButtons().length ? this.getModalFooter().hide() : this.getModalFooter().show().find("." + this.getNamespace("footer")).html("").append(this.createFooterButtons())), this
        },
        isAutodestroy: function() {
            return this.options.autodestroy
        },
        setAutodestroy: function(t) {
            this.options.autodestroy = t
        },
        getDescription: function() {
            return this.options.description
        },
        setDescription: function(t) {
            return this.options.description = t, this
        },
        setTabindex: function(t) {
            return this.options.tabindex = t, this
        },
        getTabindex: function() {
            return this.options.tabindex
        },
        updateTabindex: function() {
            return this.isRealized() && this.getModal().attr("tabindex", this.getTabindex()), this
        },
        getDefaultText: function() {
            return o.DEFAULT_TEXTS[this.getType()]
        },
        getNamespace: function(t) {
            return o.NAMESPACE + "-" + t
        },
        createHeaderContent: function() {
            var e = t("<div></div>");
            return e.addClass(this.getNamespace("header")), e.append(this.createTitleContent()), e.prepend(this.createCloseButton()), e
        },
        createTitleContent: function() {
            var e = t("<div></div>");
            return e.addClass(this.getNamespace("title")), e
        },
        createCloseButton: function() {
            var e = t("<div></div>");
            e.addClass(this.getNamespace("close-button"));
            var n = t('<button class="close">&times;</button>');
            return e.append(n), e.on("click", {
                dialog: this
            }, function(t) {
                t.data.dialog.close()
            }), e
        },
        createBodyContent: function() {
            var e = t("<div></div>");
            return e.addClass(this.getNamespace("body")), e.append(this.createMessageContent()), e
        },
        createMessageContent: function() {
            var e = t("<div></div>");
            return e.addClass(this.getNamespace("message")), e
        },
        createFooterContent: function() {
            var e = t("<div></div>");
            return e.addClass(this.getNamespace("footer")), e
        },
        createFooterButtons: function() {
            var e = this,
                n = t("<div></div>");
            return n.addClass(this.getNamespace("footer-buttons")), this.indexedButtons = {}, t.each(this.options.buttons, function(t, i) {
                i.id || (i.id = o.newGuid());
                var s = e.createButton(i);
                e.indexedButtons[i.id] = s, n.append(s)
            }), n
        },
        createButton: function(e) {
            var n = t('<button class="btn"></button>');
            return n.prop("id", e.id), n.data("button", e), "undefined" != typeof e.icon && "" !== t.trim(e.icon) && n.append(this.createButtonIcon(e.icon)), "undefined" != typeof e.label && n.append(e.label), n.addClass("undefined" != typeof e.cssClass && "" !== t.trim(e.cssClass) ? e.cssClass : "btn-default"), "undefined" != typeof e.hotkey && (this.registeredButtonHotkeys[e.hotkey] = n), n.on("click", {
                dialog: this,
                $button: n,
                button: e
            }, function(t) {
                var e = t.data.dialog,
                    n = t.data.$button,
                    o = n.data("button");
                "function" == typeof o.action && o.action.call(n, e, t), o.autospin && n.toggleSpin(!0)
            }), this.enhanceButton(n), "undefined" != typeof e.enabled && n.toggleEnable(e.enabled), n
        },
        enhanceButton: function(t) {
            return t.dialog = this, t.toggleEnable = function(t) {
                var e = this;
                return "undefined" != typeof t ? e.prop("disabled", !t).toggleClass("disabled", !t) : e.prop("disabled", !e.prop("disabled")), e
            }, t.enable = function() {
                var t = this;
                return t.toggleEnable(!0), t
            }, t.disable = function() {
                var t = this;
                return t.toggleEnable(!1), t
            }, t.toggleSpin = function(e) {
                var n = this,
                    o = n.dialog,
                    i = n.find("." + o.getNamespace("button-icon"));
                return "undefined" == typeof e && (e = !(t.find(".icon-spin").length > 0)), e ? (i.hide(), t.prepend(o.createButtonIcon(o.getSpinicon()).addClass("icon-spin"))) : (i.show(), t.find(".icon-spin").remove()), n
            }, t.spin = function() {
                var t = this;
                return t.toggleSpin(!0), t
            }, t.stopSpin = function() {
                var t = this;
                return t.toggleSpin(!1), t
            }, this
        },
        createButtonIcon: function(e) {
            var n = t("<span></span>");
            return n.addClass(this.getNamespace("button-icon")).addClass(e), n
        },
        enableButtons: function(e) {
            return t.each(this.indexedButtons, function(t, n) {
                n.toggleEnable(e)
            }), this
        },
        updateClosable: function() {
            return this.isRealized() && this.getModalHeader().find("." + this.getNamespace("close-button")).toggle(this.isClosable()), this
        },
        onShow: function(t) {
            return this.options.onshow = t, this
        },
        onShown: function(t) {
            return this.options.onshown = t, this
        },
        onHide: function(t) {
            return this.options.onhide = t, this
        },
        onHidden: function(t) {
            return this.options.onhidden = t, this
        },
        isRealized: function() {
            return this.realized
        },
        setRealized: function(t) {
            return this.realized = t, this
        },
        isOpened: function() {
            return this.opened
        },
        setOpened: function(t) {
            return this.opened = t, this
        },
        handleModalEvents: function() {
            return this.getModal().on("show.bs.modal", {
                dialog: this
            }, function(t) {
                var e = t.data.dialog;
                if (e.setOpened(!0), e.isModalEvent(t) && "function" == typeof e.options.onshow) {
                    var n = e.options.onshow(e);
                    return n === !1 && e.setOpened(!1), n
                }
            }), this.getModal().on("shown.bs.modal", {
                dialog: this
            }, function(t) {
                var e = t.data.dialog;
                e.isModalEvent(t) && "function" == typeof e.options.onshown && e.options.onshown(e)
            }), this.getModal().on("hide.bs.modal", {
                dialog: this
            }, function(t) {
                var e = t.data.dialog;
                if (e.setOpened(!1), e.isModalEvent(t) && "function" == typeof e.options.onhide) {
                    var n = e.options.onhide(e);
                    return n === !1 && e.setOpened(!0), n
                }
            }), this.getModal().on("hidden.bs.modal", {
                dialog: this
            }, function(e) {
                var n = e.data.dialog;
                n.isModalEvent(e) && "function" == typeof n.options.onhidden && n.options.onhidden(n), n.isAutodestroy() && (delete o.dialogs[n.getId()], t(this).remove()), o.moveFocus()
            }), this.handleModalBackdropEvent(), this.getModal().on("keyup", {
                dialog: this
            }, function(t) {
                27 === t.which && t.data.dialog.isClosable() && t.data.dialog.canCloseByKeyboard() && t.data.dialog.close()
            }), this.getModal().on("keyup", {
                dialog: this
            }, function(e) {
                var n = e.data.dialog;
                if ("undefined" != typeof n.registeredButtonHotkeys[e.which]) {
                    var o = t(n.registeredButtonHotkeys[e.which]);
                    !o.prop("disabled") && o.focus().trigger("click")
                }
            }), this
        },
        handleModalBackdropEvent: function() {
            return this.getModal().on("click", {
                dialog: this
            }, function(e) {
                t(e.target).hasClass("modal-backdrop") && e.data.dialog.isClosable() && e.data.dialog.canCloseByBackdrop() && e.data.dialog.close()
            }), this
        },
        isModalEvent: function(t) {
            return "undefined" != typeof t.namespace && "bs.modal" === t.namespace
        },
        makeModalDraggable: function() {
            return this.options.draggable && (this.getModalHeader().addClass(this.getNamespace("draggable")).on("mousedown", {
                dialog: this
            }, function(t) {
                var e = t.data.dialog;
                e.draggableData.isMouseDown = !0;
                var n = e.getModalDialog().offset();
                e.draggableData.mouseOffset = {
                    top: t.clientY - n.top,
                    left: t.clientX - n.left
                }
            }), this.getModal().on("mouseup mouseleave", {
                dialog: this
            }, function(t) {
                t.data.dialog.draggableData.isMouseDown = !1
            }), t("body").on("mousemove", {
                dialog: this
            }, function(t) {
                var e = t.data.dialog;
                e.draggableData.isMouseDown && e.getModalDialog().offset({
                    top: t.clientY - e.draggableData.mouseOffset.top,
                    left: t.clientX - e.draggableData.mouseOffset.left
                })
            })), this
        },
        realize: function() {
            return this.initModalStuff(), this.getModal().addClass(o.NAMESPACE).addClass(this.getCssClass()), this.updateSize(), this.getDescription() && this.getModal().attr("aria-describedby", this.getDescription()), this.getModalFooter().append(this.createFooterContent()), this.getModalHeader().append(this.createHeaderContent()), this.getModalBody().append(this.createBodyContent()), this.getModal().data("bs.modal", new n(this.getModal(), {
                backdrop: "static",
                keyboard: !1,
                show: !1
            })), this.makeModalDraggable(), this.handleModalEvents(), this.setRealized(!0), this.updateButtons(), this.updateType(), this.updateTitle(), this.updateMessage(), this.updateClosable(), this.updateAnimate(), this.updateSize(), this.updateTabindex(), this
        },
        open: function() {
            return !this.isRealized() && this.realize(), this.getModal().modal("show"), this
        },
        close: function() {
            return !this.isRealized() && this.realize(), this.getModal().modal("hide"), this
        }
    }, o.prototype = t.extend(o.prototype, o.METHODS_TO_OVERRIDE[n.getModalVersion()]), o.newGuid = function() {
        return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function(t) {
            var e = 16 * Math.random() | 0,
                n = "x" === t ? e : 3 & e | 8;
            return n.toString(16)
        })
    }, o.show = function(t) {
        return new o(t).open()
    }, o.alert = function() {
        var e = {},
            n = {
                type: o.TYPE_PRIMARY,
                title: null,
                message: null,
                closable: !1,
                draggable: !1,
                buttonLabel: o.DEFAULT_TEXTS.OK,
                callback: null
            };
        return e = "object" == typeof arguments[0] && arguments[0].constructor === {}.constructor ? t.extend(!0, n, arguments[0]) : t.extend(!0, n, {
            message: arguments[0],
            callback: "undefined" != typeof arguments[1] ? arguments[1] : null
        }), new o({
            type: e.type,
            title: e.title,
            message: e.message,
            closable: e.closable,
            draggable: e.draggable,
            data: {
                callback: e.callback
            },
            onhide: function(t) {
                !t.getData("btnClicked") && t.isClosable() && "function" == typeof t.getData("callback") && t.getData("callback")(!1)
            },
            buttons: [{
                label: e.buttonLabel,
                action: function(t) {
                    t.setData("btnClicked", !0), "function" == typeof t.getData("callback") && t.getData("callback")(!0), t.close()
                }
            }]
        }).open()
    }, o.confirm = function() {
        var e = {},
            n = {
                type: o.TYPE_PRIMARY,
                title: null,
                message: null,
                closable: !1,
                draggable: !1,
                btnCancelLabel: o.DEFAULT_TEXTS.CANCEL,
                btnOKLabel: o.DEFAULT_TEXTS.OK,
                btnOKClass: null,
                callback: null
            };
        return e = "object" == typeof arguments[0] && arguments[0].constructor === {}.constructor ? t.extend(!0, n, arguments[0]) : t.extend(!0, n, {
            message: arguments[0],
            closable: !1,
            buttonLabel: o.DEFAULT_TEXTS.OK,
            callback: "undefined" != typeof arguments[1] ? arguments[1] : null
        }), null === e.btnOKClass && (e.btnOKClass = ["btn", e.type.split("-")[1]].join("-")), new o({
            type: e.type,
            title: e.title,
            message: e.message,
            closable: e.closable,
            draggable: e.draggable,
            data: {
                callback: e.callback
            },
            buttons: [{
                label: e.btnCancelLabel,
                action: function(t) {
                    "function" == typeof t.getData("callback") && t.getData("callback")(!1), t.close()
                }
            }, {
                label: e.btnOKLabel,
                cssClass: e.btnOKClass,
                action: function(t) {
                    "function" == typeof t.getData("callback") && t.getData("callback")(!0), t.close()
                }
            }]
        }).open()
    }, o.warning = function(t, e) {
        return new o({
            type: o.TYPE_WARNING,
            message: t
        }).open()
    }, o.danger = function(t, e) {
        return new o({
            type: o.TYPE_DANGER,
            message: t
        }).open()
    }, o.success = function(t, e) {
        return new o({
            type: o.TYPE_SUCCESS,
            message: t
        }).open()
    }, o
});
var mcjsUtils = {
    isMobileDevice: function() {
        var UserAgent = navigator.userAgent;

        if (UserAgent.match(/iPhone|iPod|Android|Windows CE|BlackBerry|Symbian|Windows Phone|webOS|Opera Mini|Opera Mobi|POLARIS|IEMobile|lgtelecom|nokia|SonyEricsson/i) != null || UserAgent.match(/LG|SAMSUNG|Samsung/) != null) {
            return true;
        } else {
            return false;
        }
    },
    fillZero: function(obj, len) {
        obj = '0000000000000000' + obj;
        return obj.substring(obj.length - len);
    },

    getFormattedPointString: function(point, fixedPoint) {
        if (point) {
            var abs = Math.abs(point);
            var result = abs.toFixed(fixedPoint).replace(/./g, function(c, i, a) {
                return i && c !== "." && ((a.length - i) % 3 === 0) ? ',' + c : c;
            });
            if (point >= 0) {
                return result;
            } else {
                return '-' + result;
            }
        } else if (point == 0) {
            return '0';
        } else {
            return '';
        }
    },
    removeRougeChar: function(convertString) {
        if (convertString.substring(0, 1) == ",") {
            return convertString.substring(1, convertString.length)
        }
        return convertString;
    },
    convertToFixedFloat: function(n, digits) {
        if (digits >= 0) return parseFloat(n.toFixed(digits));

        digits = Math.pow(10, digits);
        var t = Math.round(n * digits) / digits;

        return parseFloat(t.toFixed(0));
    },
    addFloatMethod: function(a, b) {
        return ((a * 100) + (b * 100)) / 100;
    },
    subFloatMethod: function(a, b) {
        return ((a * 100) - (b * 100)) / 100;
    },
    convertPagedAxgridData: function(res) {
        // pageNo
        // pageCount;
        // listCount;
        // pageSize;

        //currentPage: 0,
        //totalPages: 100
        //totalElements: 500,
        //pageSize: 50,
        if (res && res.page) {
            res.page.currentPage = res.page.pageNo - 1;
            res.page.totalElements = res.page.totalRecordSize;
            res.page.totalPages = res.page.pageCount;
        }
        return res;
    },
    addPageObjectForAx5ui: function(arrayObject, pageNo, pageSize) {
        // pageNo
        // pageCount;
        // listCount;
        // pageSize;

        //currentPage: 0,
        //totalPages: 100
        //totalElements: 500,
        //pageSize: 50,

        var res = {};

        if (arrayObject)
            res.list = arrayObject;
        else
            res.list = [];

        if (pageNo == undefined || pageNo == null)
            pageNo = 1;
        if (pageSize == undefined || pageSize == null)
            pageSize = res.list.length;
        if (pageSize == 0)
            pageSize = 1;

        res.page = {};
        res.page.currentPage = pageNo - 1;
        res.page.totalElements = res.list.length;
        res.page.totalPages = 1;
        if (res.list.length > 1)
            res.page.totalPages = Math.floor((res.list.length - 1) / pageSize) + 1;

        return res;
    },
    requestServer: function(type, accept, isAsync, url, data, onSuccess, onError, isShowErrorMessage) {
        $.ajax({
            type: type,
            url: url,
            headers: {
                'Accept': accept
            },
            cache: false,
            async: isAsync,
            data: data,
            success: function(response) {
                mcjsUtils.showTilesBodyLoading(false);

                if (onSuccess)
                    onSuccess(response);
                return response;
            },
            error: function(request, status, error) {
                mcjsUtils.showTilesBodyLoading(false);

                var errorInfo = "code:" + request.status + "\n" + "message:" + request.responseText + "\n" + "error:" + error;
                console.log(request);
                console.log(errorInfo);

                if (isShowErrorMessage === true)
                    mcjsUtils.showWarnSwal('error', errorInfo);
                if (onError)
                    onError(errorInfo);

                return errorInfo;
            }
        });
    },
    requestForAx5ui: function(type, accept, isAsync, url, data, targetGrid, onSuccess, onError, isShowErrorMessage) {
        $.ajax({
            type: type,
            url: url,
            headers: {
                'Accept': accept
            },
            cache: false,
            async: isAsync,
            data: data,
            success: function(response) {
                mcjsUtils.showTilesBodyLoading(false);

                if (targetGrid)
                    targetGrid.setData(mcjsUtils.convertPagedAxgridData(response));
                if (onSuccess)
                    onSuccess(response);
                return response;
            },
            error: function(request, status, error) {
                mcjsUtils.showTilesBodyLoading(false);

                var errorInfo = "code:" + request.status + "\n" + "message:" + request.responseText + "\n" + "error:" + error;
                console.log(request);
                console.log(errorInfo);

                if (isShowErrorMessage === true)
                    mcjsUtils.showWarnSwal('error', errorInfo);
                if (onError)
                    onError(errorInfo);

                return errorInfo;
            }
        });
    },
    showWarnSwal: function(title, message) {
        swal({
            title: title,
            text: message,
            type: "warning",
            showCancelButton: false,
            confirmButtonColor: '#DD6B55',
            confirmButtonText: 'Accept',
            closeOnConfirm: true,
            cancelButtonText: 'No'
        });
    },
    cloneTargetObj: function(obj) {
        if (obj === null || typeof(obj) !== 'object')
            return obj;
        var copy = obj.constructor();
        for (var attr in obj) {
            if (obj.hasOwnProperty(attr)) {
                copy[attr] = obj[attr];
            }
        }
        return copy;
    },
    showTilesBodyLoading: function(isShow) {
        var targetObject = $('#mc_tiles_body_loading');
        if (targetObject) {
            if (isShow == true)
                targetObject.show();
            else
                targetObject.hide();
        }
    }
};
/**
 * Created by JungMin on 2015-08-25.
 */
Date.prototype.format = function(f) {
    if (!this.valueOf()) return " ";

    var weekName = ["일요일", "월요일", "화요일", "수요일", "목요일", "금요일", "토요일"];
    var d = this;
    var h;

    return f.replace(/(yyyy|yy|MM|dd|E|hh|mm|ss|a\/p)/gi, function($1) {
        switch ($1) {
            case "yyyy":
                return d.getFullYear();
            case "yy":
                return (d.getFullYear() % 1000).zf(2);
            case "MM":
                return (d.getMonth() + 1).zf(2);
            case "dd":
                return d.getDate().zf(2);
            case "E":
                return weekName[d.getDay()];
            case "HH":
                return d.getHours().zf(2);
            case "hh":
                return ((h = d.getHours() % 12) ? h : 12).zf(2);
            case "mm":
                return d.getMinutes().zf(2);
            case "ss":
                return d.getSeconds().zf(2);
            case "a/p":
                return d.getHours() < 12 ? "오전" : "오후";
            default:
                return $1;
        }
    });
};

String.prototype.string = function(len) {
    var s = '',
        i = 0;
    while (i++ < len) {
        s += this;
    }
    return s;
};
String.prototype.zf = function(len) {
    return "0".string(len - this.length) + this;
};
Number.prototype.zf = function(len) {
    return this.toString().zf(len);
};